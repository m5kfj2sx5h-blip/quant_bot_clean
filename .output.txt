ath":v("path",z.path);break}}}return m===void 0?(y.push(w),y):u?u.getUpdateObj():{}}}}}}),im=He({"src/components/shapes/constants.js"(Y,G){G.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}}),Qd=He({"src/components/shapes/helpers.js"(Y){var G=im(),h=ea(),b=Ao();Y.rangeToShapePosition=function(e){return e.type==="log"?e.r2d:function(t){return t}},Y.shapePositionToRange=function(e){return e.type==="log"?e.d2r:function(t){return t}},Y.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},Y.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},Y.extractPathCoords=function(e,t,r){var o=[],a=e.match(G.segmentRE);return a.forEach(function(i){var n=t[i.charAt(0)].drawn;if(n!==void 0){var s=i.slice(1).match(G.paramRE);if(!(!s||s.length<n)){var f=s[n],c=r?f:h.cleanNumber(f);o.push(c)}}}),o},Y.getDataToPixel=function(e,t,r,o,a){var i=e._fullLayout._size,n;if(t)if(a==="domain")n=function(f){return t._length*(o?1-f:f)+t._offset};else{var s=Y.shapePositionToRange(t);n=function(f){var c=E(t,r);return t._offset+t.r2p(s(f,!0))+c},t.type==="date"&&(n=Y.decodeDate(n))}else o?n=function(f){return i.t+i.h*(1-f)}:n=function(f){return i.l+i.w*f};return n},Y.getPixelToData=function(e,t,r,o){var a=e._fullLayout._size,i;if(t)if(o==="domain")i=function(s){var f=(s-t._offset)/t._length;return r?1-f:f};else{var n=Y.rangeToShapePosition(t);i=function(s){return n(t.p2r(s-t._offset))}}else r?i=function(s){return 1-(s-a.t)/a.h}:i=function(s){return(s-a.l)/a.w};return i},Y.roundPositionForSharpStrokeRendering=function(e,t){var r=Math.round(t%2)===1,o=Math.round(e);return r?o+.5:o},Y.makeShapesOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.shapes[t]||{},o=e._fullLayout._plots[r.xref+r.yref],a=!!o;return a?o._hadPlotinfo=!0:(o={},r.xref&&r.xref!=="paper"&&(o.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(o.yaxis=e._fullLayout[r.yref+"axis"])),o.xsizemode=r.xsizemode,o.ysizemode=r.ysizemode,o.xanchor=r.xanchor,o.yanchor=r.yanchor,{options:r,plotinfo:o}},Y.makeSelectionsOptionsAndPlotinfo=function(e,t){var r=e._fullLayout.selections[t]||{},o=e._fullLayout._plots[r.xref+r.yref],a=!!o;return a?o._hadPlotinfo=!0:(o={},r.xref&&(o.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&(o.yaxis=e._fullLayout[r.yref+"axis"])),{options:r,plotinfo:o}},Y.getPathString=function(e,t){var r=t.type,o=b.getRefType(t.xref),a=b.getRefType(t.yref),i=b.getFromId(e,t.xref),n=b.getFromId(e,t.yref),s=e._fullLayout._size,f,c,p,d,T=E(i,t.x0shift),l=E(i,t.x1shift),m=E(n,t.y0shift),x=E(n,t.y1shift),A,M,_,w;if(i?o==="domain"?c=function(O){return i._offset+i._length*O}:(f=Y.shapePositionToRange(i),c=function(O){return i._offset+i.r2p(f(O,!0))}):c=function(O){return s.l+s.w*O},n?a==="domain"?d=function(O){return n._offset+n._length*(1-O)}:(p=Y.shapePositionToRange(n),d=function(O){return n._offset+n.r2p(p(O,!0))}):d=function(O){return s.t+s.h*(1-O)},r==="path")return i&&i.type==="date"&&(c=Y.decodeDate(c)),n&&n.type==="date"&&(d=Y.decodeDate(d)),S(t,c,d);if(t.xsizemode==="pixel"){var g=c(t.xanchor);A=g+t.x0+T,M=g+t.x1+l}else A=c(t.x0)+T,M=c(t.x1)+l;if(t.ysizemode==="pixel"){var u=d(t.yanchor);_=u-t.y0+m,w=u-t.y1+x}else _=d(t.y0)+m,w=d(t.y1)+x;if(r==="line")return"M"+A+","+_+"L"+M+","+w;if(r==="rect")return"M"+A+","+_+"H"+M+"V"+w+"H"+A+"Z";var v=(A+M)/2,y=(_+w)/2,R=Math.abs(v-A),L=Math.abs(y-_),z="A"+R+","+L,F=v+R+","+y,B=v+","+(y-L);return"M"+F+z+" 0 1,1 "+B+z+" 0 0,1 "+F+"Z"};function S(e,t,r){var o=e.path,a=e.xsizemode,i=e.ysizemode,n=e.xanchor,s=e.yanchor;return o.replace(G.segmentRE,function(f){var c=0,p=f.charAt(0),d=G.paramIsX[p],T=G.paramIsY[p],l=G.numParams[p],m=f.slice(1).replace(G.paramRE,function(x){return d[c]?a==="pixel"?x=t(n)+Number(x):x=t(x):T[c]&&(i==="pixel"?x=r(s)-Number(x):x=r(x)),c++,c>l&&(x="X"),x});return c>l&&(m=m.replace(/[\s,]*X.*/,""),h.log("Ignoring extra params in segment "+f)),p+m})}function E(e,t){t=t||0;var r=0;return t&&e&&(e.type==="category"||e.type==="multicategory")&&(r=(e.r2p(1)-e.r2p(0))*t),r}}}),zb=He({"src/components/shapes/display_labels.js"(Y,G){var h=ea(),b=Ao(),S=Zl(),E=Io(),e=Jd().readPaths,t=Qd(),r=t.getPathString,o=t1(),a=Nf().FROM_TL;G.exports=function(f,c,p,d){if(d.selectAll(".shape-label").remove(),!!(p.label.text||p.label.texttemplate)){var T;if(p.label.texttemplate){var l={};if(p.type!=="path"){var m=b.getFromId(f,p.xref),x=b.getFromId(f,p.yref);for(var A in o){var M=o[A](p,m,x);M!==void 0&&(l[A]=M)}}T=h.texttemplateStringForShapes({data:[l],fallback:p.label.texttemplatefallback,locale:f._fullLayout._d3locale,template:p.label.texttemplate})}else T=p.label.text;var _={"data-index":c},w=p.label.font,g={"data-notex":1},u=d.append("g").attr(_).classed("shape-label",!0),v=u.append("text").attr(g).classed("shape-label-text",!0).text(T),y,R,L,z;if(p.path){var F=r(f,p),B=e(F,f);y=1/0,L=1/0,R=-1/0,z=-1/0;for(var O=0;O<B.length;O++)for(var I=0;I<B[O].length;I++)for(var N=B[O][I],U=1;U<N.length;U+=2){var X=N[U],ee=N[U+1];y=Math.min(y,X),R=Math.max(R,X),L=Math.min(L,ee),z=Math.max(z,ee)}}else{var ue=b.getFromId(f,p.xref),oe=p.x0shift,le=p.x1shift,V=b.getRefType(p.xref),J=b.getFromId(f,p.yref),te=p.y0shift,Z=p.y1shift,se=b.getRefType(p.yref),Q=function(Le,je){var et=t.getDataToPixel(f,ue,je,!1,V);return et(Le)},q=function(Le,je){var et=t.getDataToPixel(f,J,je,!0,se);return et(Le)};y=Q(p.x0,oe),R=Q(p.x1,le),L=q(p.y0,te),z=q(p.y1,Z)}var re=p.label.textangle;re==="auto"&&(p.type==="line"?re=i(y,L,R,z):re=0),v.call(function(Le){return Le.call(E.font,w).attr({}),S.convertToTspans(Le,f),Le});var ae=E.bBox(v.node()),fe=n(y,L,R,z,p,re,ae),be=fe.textx,Me=fe.texty,Ie=fe.xanchor;v.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[Ie],y:Me,x:be,transform:"rotate("+re+","+be+","+Me+")"}).call(S.positionText,be,Me)}};function i(s,f,c,p){var d,T;return T=Math.abs(c-s),c>=s?d=f-p:d=p-f,-180/Math.PI*Math.atan2(d,T)}function n(s,f,c,p,d,T,l){var m=d.label.textposition,x=d.label.textangle,A=d.label.padding,M=d.type,_=Math.PI/180*T,w=Math.sin(_),g=Math.cos(_),u=d.label.xanchor,v=d.label.yanchor,y,R,L,z;if(M==="line"){m==="start"?(y=s,R=f):m==="end"?(y=c,R=p):(y=(s+c)/2,R=(f+p)/2),u==="auto"&&(m==="start"?x==="auto"?c>s?u="left":c<s?u="right":u="center":c>s?u="right":c<s?u="left":u="center":m==="end"?x==="auto"?c>s?u="right":c<s?u="left":u="center":c>s?u="left":c<s?u="right":u="center":u="center");var F={left:1,center:0,right:-1},B={bottom:-1,middle:0,top:1};if(x==="auto"){var O=B[v];L=-A*w*O,z=A*g*O}else{var I=F[u],N=B[v];L=A*I,z=A*N}y=y+L,R=R+z}else L=A+3,m.indexOf("right")!==-1?(y=Math.max(s,c)-L,u==="auto"&&(u="right")):m.indexOf("left")!==-1?(y=Math.min(s,c)+L,u==="auto"&&(u="left")):(y=(s+c)/2,u==="auto"&&(u="center")),m.indexOf("top")!==-1?R=Math.min(f,p):m.indexOf("bottom")!==-1?R=Math.max(f,p):R=(f+p)/2,z=A,v==="bottom"?R=R-z:v==="top"&&(R=R+z);var U=a[v],X=d.label.font.size,ee=l.height,ue=(ee*U-X)*w,oe=-(ee*U-X)*g;return{textx:y+ue,texty:R+oe,xanchor:u}}}}),v1=He({"src/components/shapes/display_outlines.js"(Y,G){var h=ea(),b=h.strTranslate,S=kh(),E=Sv(),e=E.drawMode,t=E.selectMode,r=ji(),o=Di(),a=c1(),i=a.i000,n=a.i090,s=a.i180,f=a.i270,c=Zd(),p=c.clearOutlineControllers,d=Jd(),T=d.pointsOnRectangle,l=d.pointsOnEllipse,m=d.writePaths,x=h1().newShapes,A=h1().createShapeObj,M=Db(),_=zb();G.exports=function v(y,R,L,z){z||(z=0);var F=L.gd;function B(){v(y,R,L,z++),(l(y[0])||L.hasText)&&O({redrawing:!0})}function O(Je){var Ze={};L.isActiveShape!==void 0&&(L.isActiveShape=!1,Ze=x(R,L)),L.isActiveSelection!==void 0&&(L.isActiveSelection=!1,Ze=M(R,L),F._fullLayout._reselect=!0),Object.keys(Ze).length&&r.call((Je||{}).redrawing?"relayout":"_guiRelayout",F,Ze)}var I=F._fullLayout,N=I._zoomlayer,U=L.dragmode,X=e(U),ee=t(U);(X||ee)&&(F._fullLayout._outlining=!0),p(F),R.attr("d",m(y));var ue,oe,le,V,J;if(!z&&(L.isActiveShape||L.isActiveSelection)){J=w([],y);var te=N.append("g").attr("class","outline-controllers");be(te),rt()}if(X&&L.hasText){var Z=N.select(".label-temp"),se=A(R,L,L.dragmode);_(F,"label-temp",se,Z)}function Q(Je){le=+Je.srcElement.getAttribute("data-i"),V=+Je.srcElement.getAttribute("data-j"),ue[le][V].moveFn=q}function q(Je,Ze){if(y.length){var Ee=J[le][V][1],xe=J[le][V][2],he=y[le],De=he.length;if(T(he)){var tt=Je,nt=Ze;if(L.isActiveSelection){var $e=g(he,V);$e[1]===he[V][1]?nt=0:tt=0}for(var Et=0;Et<De;Et++)if(Et!==V){var Ct=he[Et];Ct[1]===he[V][1]&&(Ct[1]=Ee+tt),Ct[2]===he[V][2]&&(Ct[2]=xe+nt)}if(he[V][1]=Ee+tt,he[V][2]=xe+nt,!T(he))for(var jt=0;jt<De;jt++)for(var Wt=0;Wt<he[jt].length;Wt++)he[jt][Wt]=J[le][jt][Wt]}else he[V][1]=Ee+Je,he[V][2]=xe+Ze;B()}}function re(){O()}function ae(){if(y.length&&y[le]&&y[le].length){for(var Je=[],Ze=0;Ze<y[le].length;Ze++)Ze!==V&&Je.push(y[le][Ze]);Je.length>1&&!(Je.length===2&&Je[1][0]==="Z")&&(V===0&&(Je[0][0]="M"),y[le]=Je,B(),O())}}function fe(Je,Ze){if(Je===2){le=+Ze.srcElement.getAttribute("data-i"),V=+Ze.srcElement.getAttribute("data-j");var Ee=y[le];!T(Ee)&&!l(Ee)&&ae()}}function be(Je){ue=[];for(var Ze=0;Ze<y.length;Ze++){var Ee=y[Ze],xe=T(Ee),he=!xe&&l(Ee);ue[Ze]=[];for(var De=Ee.length,tt=0;tt<De;tt++)if(Ee[tt][0]!=="Z"&&!(he&&tt!==i&&tt!==n&&tt!==s&&tt!==f)){var nt=xe&&L.isActiveSelection,$e;nt&&($e=g(Ee,tt));var Et=Ee[tt][1],Ct=Ee[tt][2],jt=Je.append(nt?"rect":"circle").attr("data-i",Ze).attr("data-j",tt).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(nt){var Wt=$e[1]-Et,dr=$e[2]-Ct,vr=dr?5:Math.max(Math.min(25,Math.abs(Wt)-5),5),Dr=Wt?5:Math.max(Math.min(25,Math.abs(dr)-5),5);jt.classed(dr?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",vr).attr("height",Dr).attr("x",Et-vr/2).attr("y",Ct-Dr/2).attr("transform",b(Wt/2,dr/2))}else jt.classed("cursor-grab",!0).attr("r",5).attr("cx",Et).attr("cy",Ct);ue[Ze][tt]={element:jt.node(),gd:F,prepFn:Q,doneFn:re,clickFn:fe},S.init(ue[Ze][tt])}}}function Me(Je,Ze){if(y.length)for(var Ee=0;Ee<y.length;Ee++)for(var xe=0;xe<y[Ee].length;xe++)for(var he=0;he+2<y[Ee][xe].length;he+=2)y[Ee][xe][he+1]=J[Ee][xe][he+1]+Je,y[Ee][xe][he+2]=J[Ee][xe][he+2]+Ze}function Ie(Je,Ze){Me(Je,Ze),B()}function Le(Je){le=+Je.srcElement.getAttribute("data-i"),le||(le=0),oe[le].moveFn=Ie}function je(){O()}function et(Je){Je===2&&u(F)}function rt(){if(oe=[],!!y.length){var Je=0;oe[Je]={element:R[0][0],gd:F,prepFn:Le,doneFn:je,clickFn:et},S.init(oe[Je])}}};function w(v,y){for(var R=0;R<y.length;R++){var L=y[R];v[R]=[];for(var z=0;z<L.length;z++){v[R][z]=[];for(var F=0;F<L[z].length;F++)v[R][z][F]=L[z][F]}}return v}function g(v,y){var R=v[y][1],L=v[y][2],z=v.length,F,B,O;return F=(y+1)%z,B=v[F][1],O=v[F][2],B===R&&O===L&&(F=(y+2)%z,B=v[F][1],O=v[F][2]),[F,B,O]}function u(v){if(t(v._fullLayout.dragmode)){p(v);var y=v._fullLayout._activeSelectionIndex,R=(v.layout||{}).selections||[];if(y<R.length){for(var L=[],z=0;z<R.length;z++)z!==y&&L.push(R[z]);delete v._fullLayout._activeSelectionIndex;var F=v._fullLayout.selections[y];v._fullLayout._deselect={xref:F.xref,yref:F.yref},r.call("_guiRelayout",v,{selections:L})}}}}}),d1=He({"src/components/shapes/draw.js"(Y,G){var h=_i(),b=ji(),S=ea(),E=Ao(),e=Jd().readPaths,t=v1(),r=zb(),o=Zd().clearOutlineControllers,a=Di(),i=Io(),n=xl().arrayEditor,s=kh(),f=Av(),c=im(),p=Qd(),d=p.getPathString;G.exports={draw:T,drawOne:x,eraseActiveShape:u,drawLabel:r};function T(v){var y=v._fullLayout;y._shapeUpperLayer.selectAll("path").remove(),y._shapeLowerLayer.selectAll("path").remove(),y._shapeUpperLayer.selectAll("text").remove(),y._shapeLowerLayer.selectAll("text").remove();for(var R in y._plots){var L=y._plots[R].shapelayer;L&&(L.selectAll("path").remove(),L.selectAll("text").remove())}for(var z=0;z<y.shapes.length;z++)y.shapes[z].visible===!0&&x(v,z)}function l(v){return!!v._fullLayout._outlining}function m(v){return!v._context.edits.shapePosition}function x(v,y){v._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+y+'"]').remove();var R=p.makeShapesOptionsAndPlotinfo(v,y),L=R.options,z=R.plotinfo;if(!L._input||L.visible!==!0)return;if(L.layer==="above")B(v._fullLayout._shapeUpperLayer);else if(L.xref==="paper"||L.yref==="paper")B(v._fullLayout._shapeLowerLayer);else if(L.layer==="between")B(z.shapelayerBetween);else if(z._hadPlotinfo){var F=z.mainplotinfo||z;B(F.shapelayer)}else B(v._fullLayout._shapeLowerLayer);function B(O){var I=d(v,L),N={"data-index":y,"fill-rule":L.fillrule,d:I},U=L.opacity,X=L.fillcolor,ee=L.line.width?L.line.color:"rgba(0,0,0,0)",ue=L.line.width,oe=L.line.dash;!ue&&L.editable===!0&&(ue=5,oe="solid");var le=I[I.length-1]!=="Z",V=m(v)&&L.editable&&v._fullLayout._activeShapeIndex===y;V&&(X=le?"rgba(0,0,0,0)":v._fullLayout.activeshape.fillcolor,U=v._fullLayout.activeshape.opacity);var J=O.append("g").classed("shape-group",!0).attr({"data-index":y}),te=J.append("path").attr(N).style("opacity",U).call(a.stroke,ee).call(a.fill,X).call(i.dashLine,oe,ue);A(J,v,L),r(v,y,L,J);var Z;if((V||v._context.edits.shapePosition)&&(Z=n(v.layout,"shapes",L)),V){te.style({cursor:"move"});var se={element:te.node(),plotinfo:z,gd:v,editHelpers:Z,hasText:L.label.text||L.label.texttemplate,isActiveShape:!0},Q=e(I,v);t(Q,te,se)}else v._context.edits.shapePosition?M(v,te,L,y,O,Z):L.editable===!0&&te.style("pointer-events",le||a.opacity(X)*U<=.5?"stroke":"all");te.node().addEventListener("click",function(){return w(v,te)})}}function A(v,y,R){var L=(R.xref+R.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");i.setClipUrl(v,L?"clip"+y._fullLayout._uid+L:null,y)}function M(v,y,R,L,z,F){var B=10,O=10,I=R.xsizemode==="pixel",N=R.ysizemode==="pixel",U=R.type==="line",X=R.type==="path",ee=F.modifyItem,ue,oe,le,V,J,te,Z,se,Q,q,re,ae,fe,be,Me,Ie=h.select(y.node().parentNode),Le=E.getFromId(v,R.xref),je=E.getRefType(R.xref),et=E.getFromId(v,R.yref),rt=E.getRefType(R.yref),Je=R.x0shift,Ze=R.x1shift,Ee=R.y0shift,xe=R.y1shift,he=function(me,pe){var Te=p.getDataToPixel(v,Le,pe,!1,je);return Te(me)},De=function(me,pe){var Te=p.getDataToPixel(v,et,pe,!0,rt);return Te(me)},tt=p.getPixelToData(v,Le,!1,je),nt=p.getPixelToData(v,et,!0,rt),$e=jt(),Et={element:$e.node(),gd:v,prepFn:vr,doneFn:Dr,clickFn:hr},Ct;s.init(Et),$e.node().onmousemove=dr;function jt(){return U?Wt():y}function Wt(){var me=10,pe=Math.max(R.line.width,me),Te=z.append("g").attr("data-index",L).attr("drag-helper",!0);Te.append("path").attr("d",y.attr("d")).style({cursor:"move","stroke-width":pe,"stroke-opacity":"0"});var Ue={"fill-opacity":"0"},Xe=Math.max(pe/2,me);return Te.append("circle").attr({"data-line-point":"start-point",cx:I?he(R.xanchor)+R.x0:he(R.x0,Je),cy:N?De(R.yanchor)-R.y0:De(R.y0,Ee),r:Xe}).style(Ue).classed("cursor-grab",!0),Te.append("circle").attr({"data-line-point":"end-point",cx:I?he(R.xanchor)+R.x1:he(R.x1,Ze),cy:N?De(R.yanchor)-R.y1:De(R.y1,xe),r:Xe}).style(Ue).classed("cursor-grab",!0),Te}function dr(me){if(l(v)){Ct=null;return}if(U)me.target.tagName==="path"?Ct="move":Ct=me.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var pe=Et.element.getBoundingClientRect(),Te=pe.right-pe.left,Ue=pe.bottom-pe.top,Xe=me.clientX-pe.left,bt=me.clientY-pe.top,xt=!X&&Te>B&&Ue>O&&!me.shiftKey?s.getCursor(Xe/Te,1-bt/Ue):"move";f(y,xt),Ct=xt.split("-")[0]}}function vr(me){l(v)||(I&&(J=he(R.xanchor)),N&&(te=De(R.yanchor)),R.type==="path"?Me=R.path:(ue=I?R.x0:he(R.x0),oe=N?R.y0:De(R.y0),le=I?R.x1:he(R.x1),V=N?R.y1:De(R.y1)),ue<le?(Q=ue,fe="x0",q=le,be="x1"):(Q=le,fe="x1",q=ue,be="x0"),!N&&oe<V||N&&oe>V?(Z=oe,re="y0",se=V,ae="y1"):(Z=V,re="y1",se=oe,ae="y0"),dr(me),Fe(z,R),Ae(y,R,v),Et.moveFn=Ct==="move"?Ar:mt,Et.altKey=me.altKey)}function Dr(){l(v)||(f(y),We(z),A(y,v,R),b.call("_guiRelayout",v,F.getUpdateObj()))}function hr(){l(v)||We(z)}function Ar(me,pe){if(R.type==="path"){var Te=function(bt){return bt},Ue=Te,Xe=Te;I?ee("xanchor",R.xanchor=tt(J+me)):(Ue=function(xt){return tt(he(xt)+me)},Le&&Le.type==="date"&&(Ue=p.encodeDate(Ue))),N?ee("yanchor",R.yanchor=nt(te+pe)):(Xe=function(xt){return nt(De(xt)+pe)},et&&et.type==="date"&&(Xe=p.encodeDate(Xe))),ee("path",R.path=_(Me,Ue,Xe))}else I?ee("xanchor",R.xanchor=tt(J+me)):(ee("x0",R.x0=tt(ue+me)),ee("x1",R.x1=tt(le+me))),N?ee("yanchor",R.yanchor=nt(te+pe)):(ee("y0",R.y0=nt(oe+pe)),ee("y1",R.y1=nt(V+pe)));y.attr("d",d(v,R)),Fe(z,R),r(v,L,R,Ie)}function mt(me,pe){if(X){var Te=function(ya){return ya},Ue=Te,Xe=Te;I?ee("xanchor",R.xanchor=tt(J+me)):(Ue=function(rn){return tt(he(rn)+me)},Le&&Le.type==="date"&&(Ue=p.encodeDate(Ue))),N?ee("yanchor",R.yanchor=nt(te+pe)):(Xe=function(rn){return nt(De(rn)+pe)},et&&et.type==="date"&&(Xe=p.encodeDate(Xe))),ee("path",R.path=_(Me,Ue,Xe))}else if(U){if(Ct==="resize-over-start-point"){var bt=ue+me,xt=N?oe-pe:oe+pe;ee("x0",R.x0=I?bt:tt(bt)),ee("y0",R.y0=N?xt:nt(xt))}else if(Ct==="resize-over-end-point"){var Mt=le+me,Nt=N?V-pe:V+pe;ee("x1",R.x1=I?Mt:tt(Mt)),ee("y1",R.y1=N?Nt:nt(Nt))}}else{var sr=function(ya){return Ct.indexOf(ya)!==-1},ar=sr("n"),tr=sr("s"),Tr=sr("w"),sa=sr("e"),Ea=ar?Z+pe:Z,ba=tr?se+pe:se,Ia=Tr?Q+me:Q,Ra=sa?q+me:q;N&&(ar&&(Ea=Z-pe),tr&&(ba=se-pe)),(!N&&ba-Ea>O||N&&Ea-ba>O)&&(ee(re,R[re]=N?Ea:nt(Ea)),ee(ae,R[ae]=N?ba:nt(ba))),Ra-Ia>B&&(ee(fe,R[fe]=I?Ia:tt(Ia)),ee(be,R[be]=I?Ra:tt(Ra)))}y.attr("d",d(v,R)),Fe(z,R),r(v,L,R,Ie)}function Fe(me,pe){(I||N)&&Te();function Te(){var Ue=pe.type!=="path",Xe=me.selectAll(".visual-cue").data([0]),bt=1;Xe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":bt}).classed("visual-cue",!0);var xt=he(I?pe.xanchor:S.midRange(Ue?[pe.x0,pe.x1]:p.extractPathCoords(pe.path,c.paramIsX))),Mt=De(N?pe.yanchor:S.midRange(Ue?[pe.y0,pe.y1]:p.extractPathCoords(pe.path,c.paramIsY)));if(xt=p.roundPositionForSharpStrokeRendering(xt,bt),Mt=p.roundPositionForSharpStrokeRendering(Mt,bt),I&&N){var Nt="M"+(xt-1-bt)+","+(Mt-1-bt)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Xe.attr("d",Nt)}else if(I){var sr="M"+(xt-1-bt)+","+(Mt-9-bt)+"v18 h2 v-18 Z";Xe.attr("d",sr)}else{var ar="M"+(xt-9-bt)+","+(Mt-1-bt)+"h18 v2 h-18 Z";Xe.attr("d",ar)}}}function We(me){me.selectAll(".visual-cue").remove()}function Ae(me,pe,Te){var Ue=pe.xref,Xe=pe.yref,bt=E.getFromId(Te,Ue),xt=E.getFromId(Te,Xe),Mt="";Ue!=="paper"&&!bt.autorange&&(Mt+=Ue),Xe!=="paper"&&!xt.autorange&&(Mt+=Xe),i.setClipUrl(me,Mt?"clip"+Te._fullLayout._uid+Mt:null,Te)}}function _(v,y,R){return v.replace(c.segmentRE,function(L){var z=0,F=L.charAt(0),B=c.paramIsX[F],O=c.paramIsY[F],I=c.numParams[F],N=L.slice(1).replace(c.paramRE,function(U){return z>=I||(B[z]?U=y(U):O[z]&&(U=R(U)),z++),U});return F+N})}function w(v,y){if(m(v)){var R=y.node(),L=+R.getAttribute("data-index");if(L>=0){if(L===v._fullLayout._activeShapeIndex){g(v);return}v._fullLayout._activeShapeIndex=L,v._fullLayout._deactivateShape=g,T(v)}}}function g(v){if(m(v)){var y=v._fullLayout._activeShapeIndex;y>=0&&(o(v),delete v._fullLayout._activeShapeIndex,T(v))}}function u(v){if(m(v)){o(v);var y=v._fullLayout._activeShapeIndex,R=(v.layout||{}).shapes||[];if(y<R.length){for(var L=[],z=0;z<R.length;z++)z!==y&&L.push(R[z]);return delete v._fullLayout._activeShapeIndex,b.call("_guiRelayout",v,{shapes:L})}}}}}),Fb=He({"src/components/modebar/buttons.js"(Y,G){var h=ji(),b=nc(),S=Mc(),E=u1(),e=d1().eraseActiveShape,t=ea(),r=t._,o=G.exports={};o.toImage={name:"toImage",title:function(M){var _=M._context.toImageButtonOptions||{},w=_.format||"png";return w==="png"?r(M,"Download plot as a PNG"):r(M,"Download plot")},icon:E.camera,click:function(M){var _=M._context.toImageButtonOptions,w={format:_.format||"png"};t.notifier(r(M,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(g){g in _&&(w[g]=_[g])}),h.call("downloadImage",M,w).then(function(g){t.notifier(r(M,"Snapshot succeeded")+" - "+g,"long")}).catch(function(){t.notifier(r(M,"Sorry, there was a problem downloading your snapshot!"),"long")})}},o.sendDataToCloud={name:"sendDataToCloud",title:function(M){return r(M,"Edit in Chart Studio")},icon:E.disk,click:function(M){b.sendDataToCloud(M)}},o.editInChartStudio={name:"editInChartStudio",title:function(M){return r(M,"Edit in Chart Studio")},icon:E.pencil,click:function(M){b.sendDataToCloud(M)}},o.zoom2d={name:"zoom2d",_cat:"zoom",title:function(M){return r(M,"Zoom")},attr:"dragmode",val:"zoom",icon:E.zoombox,click:a},o.pan2d={name:"pan2d",_cat:"pan",title:function(M){return r(M,"Pan")},attr:"dragmode",val:"pan",icon:E.pan,click:a},o.select2d={name:"select2d",_cat:"select",title:function(M){return r(M,"Box Select")},attr:"dragmode",val:"select",icon:E.selectbox,click:a},o.lasso2d={name:"lasso2d",_cat:"lasso",title:function(M){return r(M,"Lasso Select")},attr:"dragmode",val:"lasso",icon:E.lasso,click:a},o.drawclosedpath={name:"drawclosedpath",title:function(M){return r(M,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:E.drawclosedpath,click:a},o.drawopenpath={name:"drawopenpath",title:function(M){return r(M,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:E.drawopenpath,click:a},o.drawline={name:"drawline",title:function(M){return r(M,"Draw line")},attr:"dragmode",val:"drawline",icon:E.drawline,click:a},o.drawrect={name:"drawrect",title:function(M){return r(M,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:E.drawrect,click:a},o.drawcircle={name:"drawcircle",title:function(M){return r(M,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:E.drawcircle,click:a},o.eraseshape={name:"eraseshape",title:function(M){return r(M,"Erase active shape")},icon:E.eraseshape,click:e},o.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(M){return r(M,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:a},o.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(M){return r(M,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:a},o.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(M){return r(M,"Autoscale")},attr:"zoom",val:"auto",icon:E.autoscale,click:a},o.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(M){return r(M,"Reset axes")},attr:"zoom",val:"reset",icon:E.home,click:a},o.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(M){return r(M,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:E.tooltip_basic,gravity:"ne",click:a},o.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(M){return r(M,"Compare data on hover")},attr:"hovermode",val:function(M){return M._fullLayout._isHoriz?"y":"x"},icon:E.tooltip_compare,gravity:"ne",click:a};function a(M,_){var w=_.currentTarget,g=w.getAttribute("data-attr"),u=w.getAttribute("data-val")||!0,v=M._fullLayout,y={},R=S.list(M,null,!0),L=v._cartesianSpikesEnabled,z,F;if(g==="zoom"){var B=u==="in"?.5:2,O=(1+B)/2,I=(1-B)/2,N,U;for(F=0;F<R.length;F++)if(z=R[F],U=z.modebardisable==="none"||z.modebardisable.indexOf(u==="auto"||u==="reset"?"autoscale":"zoominout")===-1,U&&!z.fixedrange)if(N=z._name,u==="auto")y[N+".autorange"]=!0;else if(u==="reset")z._rangeInitial0===void 0&&z._rangeInitial1===void 0?y[N+".autorange"]=!0:z._rangeInitial0===void 0?(y[N+".autorange"]=z._autorangeInitial,y[N+".range"]=[null,z._rangeInitial1]):z._rangeInitial1===void 0?(y[N+".range"]=[z._rangeInitial0,null],y[N+".autorange"]=z._autorangeInitial):y[N+".range"]=[z._rangeInitial0,z._rangeInitial1],z._showSpikeInitial!==void 0&&(y[N+".showspikes"]=z._showSpikeInitial,L==="on"&&!z._showSpikeInitial&&(L="off"));else{var X=[z.r2l(z.range[0]),z.r2l(z.range[1])],ee=[O*X[0]+I*X[1],O*X[1]+I*X[0]];y[N+".range[0]"]=z.l2r(ee[0]),y[N+".range[1]"]=z.l2r(ee[1])}}else g==="hovermode"&&(u==="x"||u==="y")&&(u=v._isHoriz?"y":"x",w.setAttribute("data-val",u)),y[g]=u;v._cartesianSpikesEnabled=L,h.call("_guiRelayout",M,y)}o.zoom3d={name:"zoom3d",_cat:"zoom",title:function(M){return r(M,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:E.zoombox,click:i},o.pan3d={name:"pan3d",_cat:"pan",title:function(M){return r(M,"Pan")},attr:"scene.dragmode",val:"pan",icon:E.pan,click:i},o.orbitRotation={name:"orbitRotation",title:function(M){return r(M,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:E["3d_rotate"],click:i},o.tableRotation={name:"tableRotation",title:function(M){return r(M,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:E["z-axis"],click:i};function i(M,_){for(var w=_.currentTarget,g=w.getAttribute("data-attr"),u=w.getAttribute("data-val")||!0,v=M._fullLayout._subplots.gl3d||[],y={},R=g.split("."),L=0;L<v.length;L++)y[v[L]+"."+R[1]]=u;var z=u==="pan"?u:"zoom";y.dragmode=z,h.call("_guiRelayout",M,y)}o.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(M){return r(M,"Reset camera to default")},attr:"resetDefault",icon:E.home,click:n},o.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(M){return r(M,"Reset camera to last save")},attr:"resetLastSave",icon:E.movie,click:n};function n(M,_){for(var w=_.currentTarget,g=w.getAttribute("data-attr"),u=g==="resetLastSave",v=g==="resetDefault",y=M._fullLayout,R=y._subplots.gl3d||[],L={},z=0;z<R.length;z++){var F=R[z],B=F+".camera",O=F+".aspectratio",I=F+".aspectmode",N=y[F]._scene,U;u?(L[B+".up"]=N.viewInitial.up,L[B+".eye"]=N.viewInitial.eye,L[B+".center"]=N.viewInitial.center,U=!0):v&&(L[B+".up"]=null,L[B+".eye"]=null,L[B+".center"]=null,U=!0),U&&(L[O+".x"]=N.viewInitial.aspectratio.x,L[O+".y"]=N.viewInitial.aspectratio.y,L[O+".z"]=N.viewInitial.aspectratio.z,L[I]=N.viewInitial.aspectmode)}h.call("_guiRelayout",M,L)}o.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(M){return r(M,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:f};function s(M,_){var w=_.currentTarget,g=w._previousVal,u=M._fullLayout,v=u._subplots.gl3d||[],y=["xaxis","yaxis","zaxis"],R={},L={};if(g)L=g,w._previousVal=null;else{for(var z=0;z<v.length;z++){var F=v[z],B=u[F],O=F+".hovermode";R[O]=B.hovermode,L[O]=!1;for(var I=0;I<3;I++){var N=y[I],U=F+"."+N+".showspikes";L[U]=!1,R[U]=B[N].showspikes}}w._previousVal=R}return L}function f(M,_){var w=s(M,_);h.call("_guiRelayout",M,w)}o.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(M){return r(M,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:c},o.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(M){return r(M,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:c},o.resetGeo={name:"resetGeo",_cat:"reset",title:function(M){return r(M,"Reset")},attr:"reset",val:null,icon:E.autoscale,click:c},o.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(M){return r(M,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:d};function c(M,_){for(var w=_.currentTarget,g=w.getAttribute("data-attr"),u=w.getAttribute("data-val")||!0,v=M._fullLayout,y=v._subplots.geo||[],R=0;R<y.length;R++){var L=y[R],z=v[L];if(g==="zoom"){var F=z.projection.scale,B=u==="in"?2*F:.5*F;h.call("_guiRelayout",M,L+".projection.scale",B)}}g==="reset"&&A(M,"geo")}o.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(M){return r(M,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:E.tooltip_basic,gravity:"ne",click:d};function p(M){var _=M._fullLayout;return _.hovermode?!1:_._has("cartesian")?_._isHoriz?"y":"x":"closest"}function d(M){var _=p(M);h.call("_guiRelayout",M,"hovermode",_)}o.resetViewSankey={name:"resetSankeyGroup",title:function(M){return r(M,"Reset view")},icon:E.home,click:function(M){for(var _={"node.groups":[],"node.x":[],"node.y":[]},w=0;w<M._fullData.length;w++){var g=M._fullData[w]._viewInitial;_["node.groups"].push(g.node.groups.slice()),_["node.x"].push(g.node.x.slice()),_["node.y"].push(g.node.y.slice())}h.call("restyle",M,_)}},o.toggleHover={name:"toggleHover",title:function(M){return r(M,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:E.tooltip_basic,gravity:"ne",click:function(M,_){var w=s(M,_);w.hovermode=p(M),h.call("_guiRelayout",M,w)}},o.resetViews={name:"resetViews",title:function(M){return r(M,"Reset views")},icon:E.home,click:function(M,_){var w=_.currentTarget;w.setAttribute("data-attr","zoom"),w.setAttribute("data-val","reset"),a(M,_),w.setAttribute("data-attr","resetLastSave"),n(M,_),A(M,"geo"),A(M,"mapbox"),A(M,"map")}},o.toggleSpikelines={name:"toggleSpikelines",title:function(M){return r(M,"Toggle Spike Lines")},icon:E.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(M){var _=M._fullLayout,w=_._cartesianSpikesEnabled;_._cartesianSpikesEnabled=w==="on"?"off":"on",h.call("_guiRelayout",M,T(M))}};function T(M){for(var _=M._fullLayout,w=_._cartesianSpikesEnabled==="on",g=S.list(M,null,!0),u={},v=0;v<g.length;v++){var y=g[v];u[y._name+".showspikes"]=w?!0:y._showSpikeInitial}return u}o.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(M){return r(M,"Reset view")},attr:"reset",icon:E.home,click:function(M){A(M,"mapbox")}},o.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(M){return r(M,"Reset view")},attr:"reset",icon:E.home,click:function(M){A(M,"map")}},o.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(M){return r(M,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:l},o.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(M){return r(M,"Zoom in")},attr:"zoom",val:"in",icon:E.zoom_plus,click:m},o.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(M){return r(M,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:l},o.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(M){return r(M,"Zoom out")},attr:"zoom",val:"out",icon:E.zoom_minus,click:m};function l(M,_){x(M,_,"mapbox")}function m(M,_){x(M,_,"map")}function x(M,_,w){for(var g=_.currentTarget,u=g.getAttribute("data-val"),v=M._fullLayout,y=v._subplots[w]||[],R=1.05,L={},z=0;z<y.length;z++){var F=y[z],B=v[F].zoom,O=u==="in"?R*B:B/R;L[F+".zoom"]=O}h.call("_guiRelayout",M,L)}function A(M,_){for(var w=M._fullLayout,g=w._subplots[_]||[],u={},v=0;v<g.length;v++)for(var y=g[v],R=w[y]._subplot,L=R.viewInitial,z=Object.keys(L),F=0;F<z.length;F++){var B=z[F];u[y+"."+B]=L[B]}h.call("_guiRelayout",M,u)}}}),Ob=He({"src/components/modebar/constants.js"(Y,G){var h=Fb(),b=Object.keys(h),S=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],E=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(S),e=[],t=function(r){if(E.indexOf(r._cat||r.name)===-1){var o=r.name,a=(r._cat||r.name).toLowerCase();e.indexOf(o)===-1&&e.push(o),e.indexOf(a)===-1&&e.push(a)}};b.forEach(function(r){t(h[r])}),e.sort(),G.exports={DRAW_MODES:S,backButtons:E,foreButtons:e}}}),Bb=He({"src/components/modebar/attributes.js"(Y,G){Ob(),G.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}}),xS=He({"src/components/modebar/defaults.js"(Y,G){var h=ea(),b=Di(),S=xl(),E=Bb();G.exports=function(t,r){var o=t.modebar||{},a=S.newContainer(r,"modebar");function i(s,f){return h.coerce(o,a,E,s,f)}i("orientation"),i("bgcolor",b.addOpacity(r.paper_bgcolor,.5));var n=b.contrast(b.rgb(r.modebar.bgcolor));i("color",b.addOpacity(n,.3)),i("activecolor",b.addOpacity(n,.7)),i("uirevision",r.uirevision),i("add"),i("remove")}}}),bS=He({"src/components/modebar/modebar.js"(Y,G){var h=_i(),b=Ui(),S=ea(),E=u1(),e=ac().version,t=new DOMParser;function r(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var o=r.prototype;o.update=function(n,s){this.graphInfo=n;var f=this.graphInfo._context,c=this.graphInfo._fullLayout,p="modebar-"+c._uid;this.element.setAttribute("id",p),this.element.setAttribute("role","toolbar"),this._uid=p,this.element.className="modebar modebar--custom",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),c.modebar.orientation==="v"&&(this.element.className+=" vertical",s=s.reverse());var d=c.modebar,T="#"+p+" .modebar-group";document.querySelectorAll(T).forEach(function(M){M.style.backgroundColor=d.bgcolor});var l=!this.hasButtons(s),m=this.hasLogo!==f.displaylogo,x=this.locale!==f.locale;if(this.locale=f.locale,(l||m||x)&&(this.removeAllButtons(),this.updateButtons(s),f.watermark||f.displaylogo)){var A=this.getLogo();f.watermark&&(A.className=A.className+" watermark"),c.modebar.orientation==="v"?this.element.insertBefore(A,this.element.childNodes[0]):this.element.appendChild(A),this.hasLogo=!0}this.updateActiveButton(),S.setStyleOnHover("#"+p+" .modebar-btn",".active",".icon path","fill: "+d.activecolor,"fill: "+d.color,this.element)},o.updateButtons=function(n){var s=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var c=s.createGroup();f.forEach(function(p){var d=p.name;if(!d)throw new Error("must provide button 'name' in button config");if(s.buttonsNames.indexOf(d)!==-1)throw new Error("button name '"+d+"' is taken");s.buttonsNames.push(d);var T=s.createButton(p);s.buttonElements.push(T),c.appendChild(T)}),s.element.appendChild(c)})},o.createGroup=function(){var n=document.createElement("div");n.className="modebar-group";var s=this.graphInfo._fullLayout.modebar;return n.style.backgroundColor=s.bgcolor,n},o.createButton=function(n){var s=this,f=document.createElement("button");f.setAttribute("type","button"),f.setAttribute("rel","tooltip"),f.className="modebar-btn";var c=n.title;c===void 0?c=n.name:typeof c=="function"&&(c=c(this.graphInfo)),(c||c===0)&&(f.setAttribute("data-title",c),f.setAttribute("aria-label",c)),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var p=n.val;p!==void 0&&(typeof p=="function"&&(p=p(this.graphInfo)),f.setAttribute("data-val",p));var d=n.click;if(typeof d!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(l){n.click(s.graphInfo,l),s.updateActiveButton(l.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&h.select(f).classed("active",!0);var T=n.icon;return typeof T=="function"?f.appendChild(T()):f.appendChild(this.createIcon(T||E.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},o.createIcon=function(n){var s=b(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",c;if(n.path){c=document.createElementNS(f,"svg"),c.setAttribute("viewBox",[0,0,n.width,s].join(" ")),c.setAttribute("class","icon");var p=document.createElementNS(f,"path");p.setAttribute("d",n.path),n.transform?p.setAttribute("transform",n.transform):n.ascent!==void 0&&p.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),c.appendChild(p)}if(n.svg){var d=t.parseFromString(n.svg,"application/xml");c=d.childNodes[0]}return c.setAttribute("height","1em"),c.setAttribute("width","1em"),c},o.updateActiveButton=function(n){var s=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(c){var p=c.getAttribute("data-val")||!0,d=c.getAttribute("data-attr"),T=c.getAttribute("data-toggle")==="true",l=h.select(c),m=function(M,_){var w=s.modebar,g=M.querySelector(".icon path");g&&(_||M.matches(":hover")?g.style.fill=w.activecolor:g.style.fill=w.color)};if(T){if(d===f){var x=!l.classed("active");l.classed("active",x),m(c,x)}}else{var A=d===null?d:S.nestedProperty(s,d).get();l.classed("active",A===p),m(c,A===p)}})},o.hasButtons=function(n){var s=this.buttons;if(!s||n.length!==s.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==s[f].length)return!1;for(var c=0;c<n[f].length;c++)if(n[f][c].name!==s[f][c].name)return!1}return!0};function a(n){return n+" (v"+e+")"}o.getLogo=function(){var n=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",a(S._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(E.newplotlylogo)),n.appendChild(s),n},o.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},o.destroy=function(){S.removeElement(this.container.querySelector(".modebar"))};function i(n,s){var f=n._fullLayout,c=new r({graphInfo:n,container:f._modebardiv.node(),buttons:s});return f._privateplot&&h.select(c.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),c}G.exports=i}}),wS=He({"src/components/modebar/manage.js"(Y,G){var h=Mc(),b=mu(),S=ji(),E=qh().isUnifiedHover,e=bS(),t=Fb(),r=Ob().DRAW_MODES,o=ea().extendDeep;G.exports=function(d){var T=d._fullLayout,l=d._context,m=T._modeBar;if(!l.displayModeBar&&!l.watermark){m&&(m.destroy(),delete T._modeBar);return}if(!Array.isArray(l.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(l.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var x=l.modeBarButtons,A;Array.isArray(x)&&x.length?A=c(x):!l.displayModeBar&&l.watermark?A=[]:A=a(d),m?m.update(d,A):T._modeBar=e(d,A)};function a(p){var d=p._fullLayout,T=p._fullData,l=p._context;function m(q,re){if(typeof re=="string"){if(re.toLowerCase()===q.toLowerCase())return!0}else{var ae=re.name,fe=re._cat||re.name;if(ae===q||fe===q.toLowerCase())return!0}return!1}var x=d.modebar.add;typeof x=="string"&&(x=[x]);var A=d.modebar.remove;typeof A=="string"&&(A=[A]);var M=l.modeBarButtonsToAdd.concat(x.filter(function(q){for(var re=0;re<l.modeBarButtonsToRemove.length;re++)if(m(q,l.modeBarButtonsToRemove[re]))return!1;return!0})),_=l.modeBarButtonsToRemove.concat(A.filter(function(q){for(var re=0;re<l.modeBarButtonsToAdd.length;re++)if(m(q,l.modeBarButtonsToAdd[re]))return!1;return!0})),w=d._has("cartesian"),g=d._has("gl3d"),u=d._has("geo"),v=d._has("pie"),y=d._has("funnelarea"),R=d._has("ternary"),L=d._has("mapbox"),z=d._has("map"),F=d._has("polar"),B=d._has("smith"),O=d._has("sankey"),I=i(d),N=E(d.hovermode),U=[];function X(q){if(q.length){for(var re=[],ae=0;ae<q.length;ae++){for(var fe=q[ae],be=t[fe],Me=be.name.toLowerCase(),Ie=(be._cat||be.name).toLowerCase(),Le=!1,je=0;je<_.length;je++){var et=_[je].toLowerCase();if(et===Me||et===Ie){Le=!0;break}}Le||re.push(t[fe])}U.push(re)}}var ee=["toImage"];l.showEditInChartStudio?ee.push("editInChartStudio"):l.showSendToCloud&&ee.push("sendDataToCloud"),X(ee);var ue=[],oe=[],le=[],V=[];(w||v||y||R)+u+g+L+z+F+B>1?(oe=["toggleHover"],le=["resetViews"]):u?(ue=["zoomInGeo","zoomOutGeo"],oe=["hoverClosestGeo"],le=["resetGeo"]):g?(oe=["hoverClosest3d"],le=["resetCameraDefault3d","resetCameraLastSave3d"]):L?(ue=["zoomInMapbox","zoomOutMapbox"],oe=["toggleHover"],le=["resetViewMapbox"]):z?(ue=["zoomInMap","zoomOutMap"],oe=["toggleHover"],le=["resetViewMap"]):v?oe=["hoverClosestPie"]:O?(oe=["hoverClosestCartesian","hoverCompareCartesian"],le=["resetViewSankey"]):oe=["toggleHover"],w&&oe.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(s(T)||N)&&(oe=[]),w&&!I&&(ue=["zoomIn2d","zoomOut2d","autoScale2d"],le[0]!=="resetViews"&&(le=["resetScale2d"])),g?V=["zoom3d","pan3d","orbitRotation","tableRotation"]:w&&!I||R?V=["zoom2d","pan2d"]:L||z||u?V=["pan2d"]:F&&(V=["zoom2d"]),n(T)&&V.push("select2d","lasso2d");var J=[],te=function(q){J.indexOf(q)===-1&&oe.indexOf(q)!==-1&&J.push(q)};if(Array.isArray(M)){for(var Z=[],se=0;se<M.length;se++){var Q=M[se];typeof Q=="string"?(Q=Q.toLowerCase(),r.indexOf(Q)!==-1?(d._has("mapbox")||d._has("map")||d._has("cartesian"))&&V.push(Q):Q==="togglespikelines"?te("toggleSpikelines"):Q==="togglehover"?te("toggleHover"):Q==="hovercompare"?te("hoverCompareCartesian"):Q==="hoverclosest"?(te("hoverClosestCartesian"),te("hoverClosestGeo"),te("hoverClosest3d"),te("hoverClosestPie")):Q==="v1hovermode"&&(te("hoverClosestCartesian"),te("hoverCompareCartesian"),te("hoverClosestGeo"),te("hoverClosest3d"),te("hoverClosestPie"))):Z.push(Q)}M=Z}return X(V),X(ue.concat(le)),X(J),f(U,M)}function i(p){for(var d=h.list({_fullLayout:p},null,!0),T=0;T<d.length;T++){var l=d[T].modebardisable;if(!d[T].fixedrange&&l!=="autoscale+zoominout"&&l!=="zoominout+autoscale")return!1}return!0}function n(p){for(var d=!1,T=0;T<p.length&&!d;T++){var l=p[T];!l._module||!l._module.selectPoints||(S.traceIs(l,"scatter-like")?(b.hasMarkers(l)||b.hasText(l))&&(d=!0):S.traceIs(l,"box-violin")?(l.boxpoints==="all"||l.points==="all")&&(d=!0):d=!0)}return d}function s(p){for(var d=0;d<p.length;d++)if(!S.traceIs(p[d],"noHover"))return!1;return!0}function f(p,d){if(d.length)if(Array.isArray(d[0]))for(var T=0;T<d.length;T++)p.push(d[T]);else p.push(d);return p}function c(p){for(var d=o([],p),T=0;T<d.length;T++)for(var l=d[T],m=0;m<l.length;m++){var x=l[m];if(typeof x=="string")if(t[x]!==void 0)d[T][m]=t[x];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return d}}}),Nb=He({"src/components/modebar/index.js"(Y,G){G.exports={moduleType:"component",name:"modebar",layoutAttributes:Bb(),supplyLayoutDefaults:xS(),manage:wS()}}}),Ub=He({"src/plots/cartesian/scale_zoom.js"(Y,G){var h=Nf().FROM_BL;G.exports=function(S,E,e){e===void 0&&(e=h[S.constraintoward||"center"]);var t=[S.r2l(S.range[0]),S.r2l(S.range[1])],r=t[0]+(t[1]-t[0])*e;S.range=S._input.range=[S.l2r(r+(t[0]-r)*E),S.l2r(r+(t[1]-r)*E)],S.setScale()}}}),zp=He({"src/plots/cartesian/constraints.js"(Y){var G=ea(),h=Tv(),b=Mc().id2name,S=oh(),E=Ub(),e=Wv(),t=Qo().ALMOST_EQUAL,r=Nf().FROM_BL;Y.handleDefaults=function(p,d,T){var l=T.axIds,m=T.axHasImage,x=d._axisConstraintGroups=[],A=d._axisMatchGroups=[],M,_,w,g,u,v,y,R;for(M=0;M<l.length;M++)g=b(l[M]),u=p[g],v=d[g],o(u,v,{axIds:l,layoutOut:d,hasImage:m[g]});function L(ee,ue){for(M=0;M<ee.length;M++){_=ee[M];for(w in _)d[b(w)][ue]=_}}for(L(A,"_matchGroup"),M=0;M<x.length;M++){_=x[M];for(w in _)if(v=d[b(w)],v.fixedrange){for(var z in _){var F=b(z);(p[F]||{}).fixedrange===!1&&G.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),d[F].fixedrange=!0}break}}for(M=0;M<x.length;){_=x[M];for(w in _){v=d[b(w)],v._matchGroup&&Object.keys(v._matchGroup).length===Object.keys(_).length&&(x.splice(M,1),M--);break}M++}L(x,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,I=!1;function N(){R=v[y],y==="rangebreaks"&&(I=v._hasDayOfWeekBreaks)}for(M=0;M<A.length;M++){_=A[M];for(var U=0;U<B.length;U++){y=B[U],R=null;var X;for(w in _)if(g=b(w),u=p[g],v=d[g],y in v){if(!v.matches&&(X=v,y in u)){N();break}R===null&&y in u&&N()}if(y==="range"&&R&&u.range&&u.range.length===2&&u.range[0]!==null&&u.range[1]!==null&&(O=!0),y==="autorange"&&R===null&&O&&(R=!1),R===null&&y in X&&(R=X[y]),R!==null)for(w in _)v=d[b(w)],v[y]=y==="range"?R.slice():R,y==="rangebreaks"&&(v._hasDayOfWeekBreaks=I,e(v,d))}}};function o(p,d,T){var l=T.axIds,m=T.layoutOut,x=T.hasImage,A=m._axisConstraintGroups,M=m._axisMatchGroups,_=d._id,w=_.charAt(0),g=((m._splomAxes||{})[w]||{})[_]||{},u=d._id,v=u.charAt(0)==="x";d._matchGroup=null,d._constraintGroup=null;function y(V,J){return G.coerce(p,d,S,V,J)}y("constrain",x?"domain":"range"),G.coerce(p,d,{constraintoward:{valType:"enumerated",values:v?["left","center","right"]:["bottom","middle","top"],dflt:v?"center":"middle"}},"constraintoward");var R=d.type,L,z,F=[];for(L=0;L<l.length;L++)if(z=l[L],z!==u){var B=m[b(z)];B.type===R&&F.push(z)}var O=i(A,u);if(O){var I=[];for(L=0;L<F.length;L++)z=F[L],O[z]||I.push(z);F=I}var N=F.length,U,X;N&&(p.matches||g.matches)&&(U=G.coerce(p,d,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(g.matches)!==-1?g.matches:void 0}},"matches"));var ee=x&&!v?d.anchor:void 0;if(N&&!U&&(p.scaleanchor||ee)&&(X=G.coerce(p,d,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",ee)),U){d._matchGroup=n(M,u,U,1);var ue=m[b(U)],oe=a(m,d)/a(m,ue);v!==(U.charAt(0)==="x")&&(oe=(v?"x":"y")+oe),n(A,u,U,oe)}else p.matches&&l.indexOf(p.matches)!==-1&&G.warn("ignored "+d._name+'.matches: "'+p.matches+'" to avoid an infinite loop');if(X){var le=y("scaleratio");le||(le=d.scaleratio=1),n(A,u,X,le)}else p.scaleanchor&&l.indexOf(p.scaleanchor)!==-1&&G.warn("ignored "+d._name+'.scaleanchor: "'+p.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function a(p,d){var T=d.domain;return T||(T=p[b(d.overlaying)].domain),T[1]-T[0]}function i(p,d){for(var T=0;T<p.length;T++)if(p[T][d])return p[T];return null}function n(p,d,T,l){var m,x,A,M,_,w=i(p,d);w===null?(w={},w[d]=1,_=p.length,p.push(w)):_=p.indexOf(w);var g=Object.keys(w);for(m=0;m<p.length;m++)if(A=p[m],m!==_&&A[T]){var u=A[T];for(x=0;x<g.length;x++)M=g[x],A[M]=s(u,s(l,w[M]));p.splice(_,1);return}if(l!==1)for(x=0;x<g.length;x++){var v=g[x];w[v]=s(l,w[v])}w[T]=1}function s(p,d){var T="",l="",m,x;typeof p=="string"&&(T=p.match(/^[xy]*/)[0],m=T.length,p=+p.slice(m)),typeof d=="string"&&(l=d.match(/^[xy]*/)[0],x=l.length,d=+d.slice(x));var A=p*d;return!m&&!x?A:!m||!x||T.charAt(0)===l.charAt(0)?T+l+p*d:m===x?A:(m>x?T.slice(x):l.slice(m))+A}function f(p,d){for(var T=d._size,l=T.h/T.w,m={},x=Object.keys(p),A=0;A<x.length;A++){var M=x[A],_=p[M];if(typeof _=="string"){var w=_.match(/^[xy]*/)[0],g=w.length;_=+_.slice(g);for(var u=w.charAt(0)==="y"?l:1/l,v=0;v<g;v++)_*=u}m[M]=_}return m}Y.enforce=function(d){var T=d._fullLayout,l=T._axisConstraintGroups||[],m,x,A,M,_,w,g,u;for(m=0;m<l.length;m++){A=f(l[m],T);var v=Object.keys(A),y=1/0,R=0,L=1/0,z={},F={},B=!1;for(x=0;x<v.length;x++)M=v[x],F[M]=_=T[b(M)],_._inputDomain?_.domain=_._inputDomain.slice():_._inputDomain=_.domain.slice(),_._inputRange||(_._inputRange=_.range.slice()),_.setScale(),z[M]=w=Math.abs(_._m)/A[M],y=Math.min(y,w),(_.constrain==="domain"||!_._constraintShrinkable)&&(L=Math.min(L,w)),delete _._constraintShrinkable,R=Math.max(R,w),_.constrain==="domain"&&(B=!0);if(!(y>t*R&&!B)){for(x=0;x<v.length;x++)if(M=v[x],w=z[M],_=F[M],g=_.constrain,w!==L||g==="domain")if(u=w/L,g==="range")E(_,u);else{var O=_._inputDomain,I=(_.domain[1]-_.domain[0])/(O[1]-O[0]),N=(_.r2l(_.range[1])-_.r2l(_.range[0]))/(_.r2l(_._inputRange[1])-_.r2l(_._inputRange[0]));if(u/=I,u*N<1){_.domain=_._input.domain=O.slice(),E(_,u);continue}if(N<1&&(_.range=_._input.range=_._inputRange.slice(),u*=N),_.autorange){var U=_.r2l(_.range[0]),X=_.r2l(_.range[1]),ee=(U+X)/2,ue=ee,oe=ee,le=Math.abs(X-ee),V=ee-le*u*1.0001,J=ee+le*u*1.0001,te=h.makePadFn(T,_,0),Z=h.makePadFn(T,_,1);c(_,u);var se=Math.abs(_._m),Q=h.concatExtremes(d,_),q=Q.min,re=Q.max,ae,fe;for(fe=0;fe<q.length;fe++)ae=q[fe].val-te(q[fe])/se,ae>V&&ae<ue&&(ue=ae);for(fe=0;fe<re.length;fe++)ae=re[fe].val+Z(re[fe])/se,ae<J&&ae>oe&&(oe=ae);var be=(oe-ue)/(2*le);u/=be,ue=_.l2r(ue),oe=_.l2r(oe),_.range=_._input.range=U<X?[ue,oe]:[oe,ue]}c(_,u)}}}},Y.getAxisGroup=function(d,T){for(var l=d._axisMatchGroups,m=0;m<l.length;m++){var x=l[m];if(x[T])return"g"+m}return T},Y.clean=function(d,T){if(T._inputDomain){for(var l=!1,m=T._id,x=d._fullLayout._axisConstraintGroups,A=0;A<x.length;A++)if(x[A][m]){l=!0;break}(!l||T.constrain!=="domain")&&(T._input.domain=T.domain=T._inputDomain,delete T._inputDomain)}};function c(p,d){var T=p._inputDomain,l=r[p.constraintoward],m=T[0]+(T[1]-T[0])*l;p.domain=p._input.domain=[m+(T[0]-m)/d,m+(T[1]-m)/d],p.setScale()}}}),om=He({"src/plot_api/subroutines.js"(Y){var G=_i(),h=ji(),b=nc(),S=ea(),E=Zl(),e=nm(),t=Di(),r=Io(),o=Dp(),a=Nb(),i=Ao(),n=Nf(),s=zp(),f=s.enforce,c=s.clean,p=Tv().doAutoRange,d="start",T="middle",l="end",m=Yf().zindexSeparator;Y.layoutStyles=function(O){return S.syncOrAsync([b.doAutoMargin,A],O)};function x(O,I,N){for(var U=0;U<N.length;U++){var X=N[U][0],ee=N[U][1];if(!(X[0]>=O[1]||X[1]<=O[0])&&ee[0]<I[1]&&ee[1]>I[0])return!0}return!1}function A(O){var I=O._fullLayout,N=I._size,U=N.p,X=i.list(O,"",!0),ee,ue,oe,le,V,J;if(I._paperdiv.style({width:O._context.responsive&&I.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":I.width+"px",height:O._context.responsive&&I.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(r.setSize,I.width,I.height),O._context.setBackground(O,I.paper_bgcolor),Y.drawMainTitle(O),a.manage(O),!I._has("cartesian"))return b.previousPromises(O);function te(Ae,me,pe){var Te=Ae._lw/2;if(Ae._id.charAt(0)==="x"){if(me){if(pe==="top")return me._offset-U-Te}else return N.t+N.h*(1-(Ae.position||0))+Te%1;return me._offset+me._length+U+Te}if(me){if(pe==="right")return me._offset+me._length+U+Te}else return N.l+N.w*(Ae.position||0)+Te%1;return me._offset-U-Te}for(ee=0;ee<X.length;ee++){le=X[ee];var Z=le._anchorAxis;le._linepositions={},le._lw=r.crispRound(O,le.linewidth,1),le._mainLinePosition=te(le,Z,le.side),le._mainMirrorPosition=le.mirror&&Z?te(le,Z,n.OPPOSITE_SIDE[le.side]):null}var se=[],Q=[],q=[],re=t.opacity(I.paper_bgcolor)===1&&t.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(ue in I._plots)if(oe=I._plots[ue],oe.mainplot)oe.bg&&oe.bg.remove(),oe.bg=void 0;else{var ae=oe.xaxis.domain,fe=oe.yaxis.domain,be=oe.plotgroup;if(x(ae,fe,q)&&ue.indexOf(m)===-1){var Me=be.node(),Ie=oe.bg=S.ensureSingle(be,"rect","bg");Me.insertBefore(Ie.node(),Me.childNodes[0]),Q.push(ue)}else be.select("rect.bg").remove(),q.push([ae,fe]),re||(se.push(ue),Q.push(ue))}var Le=I._bgLayer.selectAll(".bg").data(se);for(Le.enter().append("rect").classed("bg",!0),Le.exit().remove(),Le.each(function(Ae){I._plots[Ae].bg=G.select(this)}),ee=0;ee<Q.length;ee++)oe=I._plots[Q[ee]],V=oe.xaxis,J=oe.yaxis,oe.bg&&V._offset!==void 0&&J._offset!==void 0&&oe.bg.call(r.setRect,V._offset-U,J._offset-U,V._length+2*U,J._length+2*U).call(t.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(ue in I._plots){oe=I._plots[ue],V=oe.xaxis,J=oe.yaxis;var je=oe.clipId="clip"+I._uid+ue+"plot",et=S.ensureSingleById(I._clips,"clipPath",je,function(Ae){Ae.classed("plotclip",!0).append("rect")});oe.clipRect=et.select("rect").attr({width:V._length,height:J._length}),r.setTranslate(oe.plot,V._offset,J._offset);var rt,Je;oe._hasClipOnAxisFalse?(rt=null,Je=je):(rt=je,Je=null),r.setClipUrl(oe.plot,rt,O),oe.layerClipId=Je}var Ze,Ee,xe,he,De,tt,nt,$e,Et,Ct,jt,Wt,dr;function vr(Ae){return"M"+Ze+","+Ae+"H"+Ee}function Dr(Ae){return"M"+V._offset+","+Ae+"h"+V._length}function hr(Ae){return"M"+Ae+","+$e+"V"+nt}function Ar(Ae){return J._shift!==void 0&&(Ae+=J._shift),"M"+Ae+","+J._offset+"v"+J._length}function mt(Ae,me,pe){if(!Ae.showline||ue!==Ae._mainSubplot)return"";if(!Ae._anchorAxis)return pe(Ae._mainLinePosition);var Te=me(Ae._mainLinePosition);return Ae.mirror&&(Te+=me(Ae._mainMirrorPosition)),Te}for(ue in I._plots){oe=I._plots[ue],V=oe.xaxis,J=oe.yaxis;var Fe="M0,0";M(V,ue)&&(De=w(V,"left",J,X),Ze=V._offset-(De?U+De:0),tt=w(V,"right",J,X),Ee=V._offset+V._length+(tt?U+tt:0),xe=te(V,J,"bottom"),he=te(V,J,"top"),dr=!V._anchorAxis||ue!==V._mainSubplot,dr&&(V.mirror==="allticks"||V.mirror==="all")&&(V._linepositions[ue]=[xe,he]),Fe=mt(V,vr,Dr),dr&&V.showline&&(V.mirror==="all"||V.mirror==="allticks")&&(Fe+=vr(xe)+vr(he)),oe.xlines.style("stroke-width",V._lw+"px").call(t.stroke,V.showline?V.linecolor:"rgba(0,0,0,0)")),oe.xlines.attr("d",Fe);var We="M0,0";M(J,ue)&&(jt=w(J,"bottom",V,X),nt=J._offset+J._length+(jt?U:0),Wt=w(J,"top",V,X),$e=J._offset-(Wt?U:0),Et=te(J,V,"left"),Ct=te(J,V,"right"),dr=!J._anchorAxis||ue!==J._mainSubplot,dr&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ue]=[Et,Ct]),We=mt(J,hr,Ar),dr&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(We+=hr(Et)+hr(Ct)),oe.ylines.style("stroke-width",J._lw+"px").call(t.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),oe.ylines.attr("d",We)}return i.makeClipPaths(O),b.previousPromises(O)}function M(O,I){return(O.ticks||O.showline)&&(I===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function _(O,I,N){if(!N.showline||!N._lw)return!1;if(N.mirror==="all"||N.mirror==="allticks")return!0;var U=N._anchorAxis;if(!U)return!1;var X=n.FROM_BL[I];return N.side===I?U.domain[X]===O.domain[X]:N.mirror&&U.domain[1-X]===O.domain[1-X]}function w(O,I,N,U){if(_(O,I,N))return N._lw;for(var X=0;X<U.length;X++){var ee=U[X];if(ee._mainAxis===N._mainAxis&&_(O,I,ee))return ee._lw}return 0}Y.drawMainTitle=function(O){var I=O._fullLayout.title,N=O._fullLayout,U=F(N),X=B(N),ee=L(N,X),ue=R(N,U);if(o.draw(O,"gtitle",{propContainer:N,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:N._dfltTitle.plot,subtitlePlaceholder:N._dfltTitle.subtitle,attributes:{x:ue,y:ee,"text-anchor":U,dy:X}}),I.text&&I.automargin){var oe=G.select(O).selectAll(".gtitle"),le=r.bBox(G.select(O).selectAll(".g-gtitle").node()).height,V=v(O,I,le);if(V>0){y(O,ee,V,le),oe.attr({x:ue,y:ee,"text-anchor":U,dy:z(I.yanchor)}).call(E.positionText,ue,ee);var J=(I.text.match(E.BR_TAG_ALL)||[]).length;if(J){var te=n.LINE_SPACING*J+n.MID_SHIFT;I.y===0&&(te=-te),oe.selectAll(".line").each(function(){var re=+this.getAttribute("dy").slice(0,-2)-te+"em";this.setAttribute("dy",re)})}var Z=G.select(O).selectAll(".gtitle-subtitle");if(Z.node()){var se=oe.node().getBBox(),Q=se.y+se.height,q=Q+o.SUBTITLE_PADDING_EM*I.subtitle.font.size;Z.attr({x:ue,y:q,"text-anchor":U,dy:z(I.yanchor)}).call(E.positionText,ue,q)}}}};function g(O,I,N,U,X){var ee=I.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,ue=S.isTopAnchor(I)?U:U-X,oe=N==="b"?ee-ue:ue;return S.isTopAnchor(I)&&N==="t"||S.isBottomAnchor(I)&&N==="b"?!1:oe<X}function u(O,I,N,U,X){var ee=0;return N==="middle"&&(ee+=X/2),O==="t"?(N==="top"&&(ee+=X),ee+=U-I*U):(N==="bottom"&&(ee+=X),ee+=I*U),ee}function v(O,I,N){var U=I.y,X=I.yanchor,ee=U>.5?"t":"b",ue=O._fullLayout.margin[ee],oe=0;return I.yref==="paper"?oe=N+I.pad.t+I.pad.b:I.yref==="container"&&(oe=u(ee,U,X,O._fullLayout.height,N)+I.pad.t+I.pad.b),oe>ue?oe:0}function y(O,I,N,U){var X="title.automargin",ee=O._fullLayout.title,ue=ee.y>.5?"t":"b",oe={x:ee.x,y:ee.y,t:0,b:0},le={};ee.yref==="paper"&&g(O,ee,ue,I,U)?oe[ue]=N:ee.yref==="container"&&(le[ue]=N,O._fullLayout._reservedMargin[X]=le),b.allowAutoMargin(O,X),b.autoMargin(O,X,oe)}function R(O,I){var N=O.title,U=O._size,X=0;switch(I===d?X=N.pad.l:I===l&&(X=-N.pad.r),N.xref){case"paper":return U.l+U.w*N.x+X;case"container":default:return O.width*N.x+X}}function L(O,I){var N=O.title,U=O._size,X=0;if(I==="0em"||!I?X=-N.pad.b:I===n.CAP_SHIFT+"em"&&(X=N.pad.t),N.y==="auto")return U.t/2;switch(N.yref){case"paper":return U.t+U.h-U.h*N.y+X;case"container":default:return O.height-O.height*N.y+X}}function z(O){return O==="top"?n.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":n.MID_SHIFT+"em"}function F(O){var I=O.title,N=T;return S.isRightAnchor(I)?N=l:S.isLeftAnchor(I)&&(N=d),N}function B(O){var I=O.title,N="0em";return S.isTopAnchor(I)?N=n.CAP_SHIFT+"em":S.isMiddleAnchor(I)&&(N=n.MID_SHIFT+"em"),N}Y.doTraceStyle=function(O){var I=O.calcdata,N=[],U;for(U=0;U<I.length;U++){var X=I[U],ee=X[0]||{},ue=ee.trace||{},oe=ue._module||{},le=oe.arraysToCalcdata;le&&le(X,ue);var V=oe.editStyle;V&&N.push({fn:V,cd0:ee})}if(N.length){for(U=0;U<N.length;U++){var J=N[U];J.fn(O,J.cd0)}e(O),Y.redrawReglTraces(O)}return b.style(O),h.getComponentMethod("legend","draw")(O),b.previousPromises(O)},Y.doColorBars=function(O){return h.getComponentMethod("colorbar","draw")(O),b.previousPromises(O)},Y.layoutReplot=function(O){var I=O.layout;return O.layout=void 0,h.call("_doPlot",O,"",I)},Y.doLegend=function(O){return h.getComponentMethod("legend","draw")(O),b.previousPromises(O)},Y.doTicksRelayout=function(O){return i.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(h.subplotsRegistry.splom.updateGrid(O),e(O),Y.redrawReglTraces(O)),Y.drawMainTitle(O),b.previousPromises(O)},Y.doModeBar=function(O){var I=O._fullLayout;a.manage(O);for(var N=0;N<I._basePlotModules.length;N++){var U=I._basePlotModules[N].updateFx;U&&U(O)}return b.previousPromises(O)},Y.doCamera=function(O){for(var I=O._fullLayout,N=I._subplots.gl3d,U=0;U<N.length;U++){var X=I[N[U]],ee=X._scene;ee.setViewport(X)}},Y.drawData=function(O){var I=O._fullLayout;e(O);for(var N=I._basePlotModules,U=0;U<N.length;U++)N[U].plot(O);return Y.redrawReglTraces(O),b.style(O),h.getComponentMethod("selections","draw")(O),h.getComponentMethod("shapes","draw")(O),h.getComponentMethod("annotations","draw")(O),h.getComponentMethod("images","draw")(O),I._replotting=!1,b.previousPromises(O)},Y.redrawReglTraces=function(O){var I=O._fullLayout;if(I._has("regl")){var N=O._fullData,U=[],X=[],ee,ue;for(I._hasOnlyLargeSploms&&I._splomGrid.draw(),ee=0;ee<N.length;ee++){var oe=N[ee];oe.visible===!0&&oe._length!==0&&(oe.type==="splom"?I._splomScenes[oe.uid].draw():oe.type==="scattergl"?S.pushUnique(U,oe.xaxis+oe.yaxis):oe.type==="scatterpolargl"&&S.pushUnique(X,oe.subplot))}for(ee=0;ee<U.length;ee++)ue=I._plots[U[ee]],ue._scene&&ue._scene.draw();for(ee=0;ee<X.length;ee++)ue=I[X[ee]]._subplot,ue._scene&&ue._scene.draw()}},Y.doAutoRangeAndConstraints=function(O){for(var I=i.list(O,"",!0),N,U={},X=0;X<I.length;X++)if(N=I[X],!U[N._id]){U[N._id]=1,c(O,N),p(O,N);var ee=N._matchGroup;if(ee)for(var ue in ee){var oe=i.getFromId(O,ue);p(O,oe,N.range),U[ue]=1}}f(O)},Y.finalDraw=function(O){h.getComponentMethod("rangeslider","draw")(O),h.getComponentMethod("rangeselector","draw")(O)},Y.drawMarginPushers=function(O){h.getComponentMethod("legend","draw")(O),h.getComponentMethod("rangeselector","draw")(O),h.getComponentMethod("sliders","draw")(O),h.getComponentMethod("updatemenus","draw")(O),h.getComponentMethod("colorbar","draw")(O)}}}),jb=He({"src/components/selections/draw.js"(Y,G){var h=Jd().readPaths,b=v1(),S=Zd().clearOutlineControllers,E=Di(),e=Io(),t=xl().arrayEditor,r=Qd(),o=r.getPathString;G.exports={draw:a,drawOne:n,activateLastSelection:c};function a(d){var T=d._fullLayout;S(d),T._selectionLayer.selectAll("path").remove();for(var l in T._plots){var m=T._plots[l].selectionLayer;m&&m.selectAll("path").remove()}for(var x=0;x<T.selections.length;x++)n(d,x)}function i(d){return d._context.editSelection}function n(d,T){d._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+T+'"]').remove();var l=r.makeSelectionsOptionsAndPlotinfo(d,T),m=l.options,x=l.plotinfo;if(!m._input)return;A(d._fullLayout._selectionLayer);function A(M){var _=o(d,m),w={"data-index":T,"fill-rule":"evenodd",d:_},g=m.opacity,u="rgba(0,0,0,0)",v=m.line.color||E.contrast(d._fullLayout.plot_bgcolor),y=m.line.width,R=m.line.dash;y||(y=5,R="solid");var L=i(d)&&d._fullLayout._activeSelectionIndex===T;L&&(u=d._fullLayout.activeselection.fillcolor,g=d._fullLayout.activeselection.opacity);for(var z=[],F=1;F>=0;F--){var B=M.append("path").attr(w).style("opacity",F?.1:g).call(E.stroke,v).call(E.fill,u).call(e.dashLine,F?"solid":R,F?4+y:y);if(s(B,d,m),L){var O=t(d.layout,"selections",m);B.style({cursor:"move"});var I={element:B.node(),plotinfo:x,gd:d,editHelpers:O,isActiveSelection:!0},N=h(_,d);b(N,B,I)}else B.style("pointer-events",F?"all":"none");z[F]=B}var U=z[0],X=z[1];X.node().addEventListener("click",function(){return f(d,U)})}}function s(d,T,l){var m=l.xref+l.yref;e.setClipUrl(d,"clip"+T._fullLayout._uid+m,T)}function f(d,T){if(i(d)){var l=T.node(),m=+l.getAttribute("data-index");if(m>=0){if(m===d._fullLayout._activeSelectionIndex){p(d);return}d._fullLayout._activeSelectionIndex=m,d._fullLayout._deactivateSelection=p,a(d)}}}function c(d){if(i(d)){var T=d._fullLayout.selections.length-1;d._fullLayout._activeSelectionIndex=T,d._fullLayout._deactivateSelection=p,a(d)}}function p(d){if(i(d)){var T=d._fullLayout._activeSelectionIndex;T>=0&&(S(d),delete d._fullLayout._activeSelectionIndex,a(d))}}}}),TS=He({"node_modules/polybooljs/lib/build-log.js"(Y,G){function h(){var b,S=0,E=!1;function e(t,r){return b.list.push({type:t,data:r?JSON.parse(JSON.stringify(r)):void 0}),b}return b={list:[],segmentId:function(){return S++},checkIntersection:function(t,r){return e("check",{seg1:t,seg2:r})},segmentChop:function(t,r){return e("div_seg",{seg:t,pt:r}),e("chop",{seg:t,pt:r})},statusRemove:function(t){return e("pop_seg",{seg:t})},segmentUpdate:function(t){return e("seg_update",{seg:t})},segmentNew:function(t,r){return e("new_seg",{seg:t,primary:r})},segmentRemove:function(t){return e("rem_seg",{seg:t})},tempStatus:function(t,r,o){return e("temp_status",{seg:t,above:r,below:o})},rewind:function(t){return e("rewind",{seg:t})},status:function(t,r,o){return e("status",{seg:t,above:r,below:o})},vert:function(t){return t===E?b:(E=t,e("vert",{x:t}))},log:function(t){return typeof t!="string"&&(t=JSON.stringify(t,!1,"  ")),e("log",{txt:t})},reset:function(){return e("reset")},selected:function(t){return e("selected",{segs:t})},chainStart:function(t){return e("chain_start",{seg:t})},chainRemoveHead:function(t,r){return e("chain_rem_head",{index:t,pt:r})},chainRemoveTail:function(t,r){return e("chain_rem_tail",{index:t,pt:r})},chainNew:function(t,r){return e("chain_new",{pt1:t,pt2:r})},chainMatch:function(t){return e("chain_match",{index:t})},chainClose:function(t){return e("chain_close",{index:t})},chainAddHead:function(t,r){return e("chain_add_head",{index:t,pt:r})},chainAddTail:function(t,r){return e("chain_add_tail",{index:t,pt:r})},chainConnect:function(t,r){return e("chain_con",{index1:t,index2:r})},chainReverse:function(t){return e("chain_rev",{index:t})},chainJoin:function(t,r){return e("chain_join",{index1:t,index2:r})},done:function(){return e("done")}},b}G.exports=h}}),AS=He({"node_modules/polybooljs/lib/epsilon.js"(Y,G){function h(b){typeof b!="number"&&(b=1e-10);var S={epsilon:function(E){return typeof E=="number"&&(b=E),b},pointAboveOrOnLine:function(E,e,t){var r=e[0],o=e[1],a=t[0],i=t[1],n=E[0],s=E[1];return(a-r)*(s-o)-(i-o)*(n-r)>=-b},pointBetween:function(E,e,t){var r=E[1]-e[1],o=t[0]-e[0],a=E[0]-e[0],i=t[1]-e[1],n=a*o+r*i;if(n<b)return!1;var s=o*o+i*i;return!(n-s>-b)},pointsSameX:function(E,e){return Math.abs(E[0]-e[0])<b},pointsSameY:function(E,e){return Math.abs(E[1]-e[1])<b},pointsSame:function(E,e){return S.pointsSameX(E,e)&&S.pointsSameY(E,e)},pointsCompare:function(E,e){return S.pointsSameX(E,e)?S.pointsSameY(E,e)?0:E[1]<e[1]?-1:1:E[0]<e[0]?-1:1},pointsCollinear:function(E,e,t){var r=E[0]-e[0],o=E[1]-e[1],a=e[0]-t[0],i=e[1]-t[1];return Math.abs(r*i-a*o)<b},linesIntersect:function(E,e,t,r){var o=e[0]-E[0],a=e[1]-E[1],i=r[0]-t[0],n=r[1]-t[1],s=o*n-a*i;if(Math.abs(s)<b)return!1;var f=E[0]-t[0],c=E[1]-t[1],p=(i*c-n*f)/s,d=(o*c-a*f)/s,T={alongA:0,alongB:0,pt:[E[0]+p*o,E[1]+p*a]};return p<=-b?T.alongA=-2:p<b?T.alongA=-1:p-1<=-b?T.alongA=0:p-1<b?T.alongA=1:T.alongA=2,d<=-b?T.alongB=-2:d<b?T.alongB=-1:d-1<=-b?T.alongB=0:d-1<b?T.alongB=1:T.alongB=2,T},pointInsideRegion:function(E,e){for(var t=E[0],r=E[1],o=e[e.length-1][0],a=e[e.length-1][1],i=!1,n=0;n<e.length;n++){var s=e[n][0],f=e[n][1];f-r>b!=a-r>b&&(o-s)*(r-f)/(a-f)+s-t>b&&(i=!i),o=s,a=f}return i}};return S}G.exports=h}}),SS=He({"node_modules/polybooljs/lib/linked-list.js"(Y,G){var h={create:function(){var b={root:{root:!0,next:null},exists:function(S){return!(S===null||S===b.root)},isEmpty:function(){return b.root.next===null},getHead:function(){return b.root.next},insertBefore:function(S,E){for(var e=b.root,t=b.root.next;t!==null;){if(E(t)){S.prev=t.prev,S.next=t,t.prev.next=S,t.prev=S;return}e=t,t=t.next}e.next=S,S.prev=e,S.next=null},findTransition:function(S){for(var E=b.root,e=b.root.next;e!==null&&!S(e);)E=e,e=e.next;return{before:E===b.root?null:E,after:e,insert:function(t){return t.prev=E,t.next=e,E.next=t,e!==null&&(e.prev=t),t}}}};return b},node:function(b){return b.prev=null,b.next=null,b.remove=function(){b.prev.next=b.next,b.next&&(b.next.prev=b.prev),b.prev=null,b.next=null},b}};G.exports=h}}),MS=He({"node_modules/polybooljs/lib/intersecter.js"(Y,G){var h=SS();function b(S,E,e){function t(T,l){return{id:e?e.segmentId():-1,start:T,end:l,myFill:{above:null,below:null},otherFill:null}}function r(T,l,m){return{id:e?e.segmentId():-1,start:T,end:l,myFill:{above:m.myFill.above,below:m.myFill.below},otherFill:null}}var o=h.create();function a(T,l,m,x,A,M){var _=E.pointsCompare(l,A);return _!==0?_:E.pointsSame(m,M)?0:T!==x?T?1:-1:E.pointAboveOrOnLine(m,x?A:M,x?M:A)?1:-1}function i(T,l){o.insertBefore(T,function(m){var x=a(T.isStart,T.pt,l,m.isStart,m.pt,m.other.pt);return x<0})}function n(T,l){var m=h.node({isStart:!0,pt:T.start,seg:T,primary:l,other:null,status:null});return i(m,T.end),m}function s(T,l,m){var x=h.node({isStart:!1,pt:l.end,seg:l,primary:m,other:T,status:null});T.other=x,i(x,T.pt)}function f(T,l){var m=n(T,l);return s(m,T,l),m}function c(T,l){e&&e.segmentChop(T.seg,l),T.other.remove(),T.seg.end=l,T.other.pt=l,i(T.other,T.pt)}function p(T,l){var m=r(l,T.seg.end,T.seg);return c(T,l),f(m,T.primary)}function d(T,l){var m=h.create();function x(B,O){var I=B.seg.start,N=B.seg.end,U=O.seg.start,X=O.seg.end;return E.pointsCollinear(I,U,X)?E.pointsCollinear(N,U,X)||E.pointAboveOrOnLine(N,U,X)?1:-1:E.pointAboveOrOnLine(I,U,X)?1:-1}function A(B){return m.findTransition(function(O){var I=x(B,O.ev);return I>0})}function M(B,O){var I=B.seg,N=O.seg,U=I.start,X=I.end,ee=N.start,ue=N.end;e&&e.checkIntersection(I,N);var oe=E.linesIntersect(U,X,ee,ue);if(oe===!1){if(!E.pointsCollinear(U,X,ee)||E.pointsSame(U,ue)||E.pointsSame(X,ee))return!1;var le=E.pointsSame(U,ee),V=E.pointsSame(X,ue);if(le&&V)return O;var J=!le&&E.pointBetween(U,ee,ue),te=!V&&E.pointBetween(X,ee,ue);if(le)return te?p(O,X):p(B,ue),O;J&&(V||(te?p(O,X):p(B,ue)),p(O,U))}else oe.alongA===0&&(oe.alongB===-1?p(B,ee):oe.alongB===0?p(B,oe.pt):oe.alongB===1&&p(B,ue)),oe.alongB===0&&(oe.alongA===-1?p(O,U):oe.alongA===0?p(O,oe.pt):oe.alongA===1&&p(O,X));return!1}for(var _=[];!o.isEmpty();){var w=o.getHead();if(e&&e.vert(w.pt[0]),w.isStart){let B=function(){if(u){var O=M(w,u);if(O)return O}return v?M(w,v):!1};e&&e.segmentNew(w.seg,w.primary);var g=A(w),u=g.before?g.before.ev:null,v=g.after?g.after.ev:null;e&&e.tempStatus(w.seg,u?u.seg:!1,v?v.seg:!1);var y=B();if(y){if(S){var R;w.seg.myFill.below===null?R=!0:R=w.seg.myFill.above!==w.seg.myFill.below,R&&(y.seg.myFill.above=!y.seg.myFill.above)}else y.seg.otherFill=w.seg.myFill;e&&e.segmentUpdate(y.seg),w.other.remove(),w.remove()}if(o.getHead()!==w){e&&e.rewind(w.seg);continue}if(S){var R;w.seg.myFill.below===null?R=!0:R=w.seg.myFill.above!==w.seg.myFill.below,v?w.seg.myFill.below=v.seg.myFill.above:w.seg.myFill.below=T,R?w.seg.myFill.above=!w.seg.myFill.below:w.seg.myFill.above=w.seg.myFill.below}else if(w.seg.otherFill===null){var L;v?w.primary===v.primary?L=v.seg.otherFill.above:L=v.seg.myFill.above:L=w.primary?l:T,w.seg.otherFill={above:L,below:L}}e&&e.status(w.seg,u?u.seg:!1,v?v.seg:!1),w.other.status=g.insert(h.node({ev:w}))}else{var z=w.status;if(z===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(m.exists(z.prev)&&m.exists(z.next)&&M(z.prev.ev,z.next.ev),e&&e.statusRemove(z.ev.seg),z.remove(),!w.primary){var F=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=F}_.push(w.seg)}o.getHead().remove()}return e&&e.done(),_}return S?{addRegion:function(T){for(var l,m=T[T.length-1],x=0;x<T.length;x++){l=m,m=T[x];var A=E.pointsCompare(l,m);A!==0&&f(t(A<0?l:m,A<0?m:l),!0)}},calculate:function(T){return d(T,!1)}}:{calculate:function(T,l,m,x){return T.forEach(function(A){f(r(A.start,A.end,A),!0)}),m.forEach(function(A){f(r(A.start,A.end,A),!1)}),d(l,x)}}}G.exports=b}}),ES=He({"node_modules/polybooljs/lib/segment-chainer.js"(Y,G){function h(b,S,E){var e=[],t=[];return b.forEach(function(r){var o=r.start,a=r.end;if(S.pointsSame(o,a)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}E&&E.chainStart(r);var i={index:0,matches_head:!1,matches_pt1:!1},n={index:0,matches_head:!1,matches_pt1:!1},s=i;function f(L,z,F){return s.index=L,s.matches_head=z,s.matches_pt1=F,s===i?(s=n,!1):(s=null,!0)}for(var c=0;c<e.length;c++){var p=e[c],d=p[0];p[1];var T=p[p.length-1];if(p[p.length-2],S.pointsSame(d,o)){if(f(c,!0,!0))break}else if(S.pointsSame(d,a)){if(f(c,!0,!1))break}else if(S.pointsSame(T,o)){if(f(c,!1,!0))break}else if(S.pointsSame(T,a)&&f(c,!1,!1))break}if(s===i){e.push([o,a]),E&&E.chainNew(o,a);return}if(s===n){E&&E.chainMatch(i.index);var l=i.index,m=i.matches_pt1?a:o,x=i.matches_head,p=e[l],A=x?p[0]:p[p.length-1],M=x?p[1]:p[p.length-2],_=x?p[p.length-1]:p[0],w=x?p[p.length-2]:p[1];if(S.pointsCollinear(M,A,m)&&(x?(E&&E.chainRemoveHead(i.index,m),p.shift()):(E&&E.chainRemoveTail(i.index,m),p.pop()),A=M),S.pointsSame(_,m)){e.splice(l,1),S.pointsCollinear(w,_,A)&&(x?(E&&E.chainRemoveTail(i.index,A),p.pop()):(E&&E.chainRemoveHead(i.index,A),p.shift())),E&&E.chainClose(i.index),t.push(p);return}x?(E&&E.chainAddHead(i.index,m),p.unshift(m)):(E&&E.chainAddTail(i.index,m),p.push(m));return}function g(L){E&&E.chainReverse(L),e[L].reverse()}function u(L,z){var F=e[L],B=e[z],O=F[F.length-1],I=F[F.length-2],N=B[0],U=B[1];S.pointsCollinear(I,O,N)&&(E&&E.chainRemoveTail(L,O),F.pop(),O=I),S.pointsCollinear(O,N,U)&&(E&&E.chainRemoveHead(z,N),B.shift()),E&&E.chainJoin(L,z),e[L]=F.concat(B),e.splice(z,1)}var v=i.index,y=n.index;E&&E.chainConnect(v,y);var R=e[v].length<e[y].length;i.matches_head?n.matches_head?R?(g(v),u(v,y)):(g(y),u(y,v)):u(y,v):n.matches_head?u(v,y):R?(g(v),u(y,v)):(g(y),u(v,y))}),t}G.exports=h}}),kS=He({"node_modules/polybooljs/lib/segment-selector.js"(Y,G){function h(S,E,e){var t=[];return S.forEach(function(r){var o=(r.myFill.above?8:0)+(r.myFill.below?4:0)+(r.otherFill&&r.otherFill.above?2:0)+(r.otherFill&&r.otherFill.below?1:0);E[o]!==0&&t.push({id:e?e.segmentId():-1,start:r.start,end:r.end,myFill:{above:E[o]===1,below:E[o]===2},otherFill:null})}),e&&e.selected(t),t}var b={union:function(S,E){return h(S,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],E)},intersect:function(S,E){return h(S,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],E)},difference:function(S,E){return h(S,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],E)},differenceRev:function(S,E){return h(S,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],E)},xor:function(S,E){return h(S,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],E)}};G.exports=b}}),CS=He({"node_modules/polybooljs/lib/geojson.js"(Y,G){var h={toPolygon:function(b,S){function E(r){if(r.length<=0)return b.segments({inverted:!1,regions:[]});function o(n){var s=n.slice(0,n.length-1);return b.segments({inverted:!1,regions:[s]})}for(var a=o(r[0]),i=1;i<r.length;i++)a=b.selectDifference(b.combine(a,o(r[i])));return a}if(S.type==="Polygon")return b.polygon(E(S.coordinates));if(S.type==="MultiPolygon"){for(var e=b.segments({inverted:!1,regions:[]}),t=0;t<S.coordinates.length;t++)e=b.selectUnion(b.combine(e,E(S.coordinates[t])));return b.polygon(e)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(b,S,E){E=b.polygon(b.segments(E));function e(p,d){return S.pointInsideRegion([(p[0][0]+p[1][0])*.5,(p[0][1]+p[1][1])*.5],d)}function t(p){return{region:p,children:[]}}var r=t(null);function o(p,d){for(var T=0;T<p.children.length;T++){var l=p.children[T];if(e(d,l.region)){o(l,d);return}}for(var m=t(d),T=0;T<p.children.length;T++){var l=p.children[T];e(l.region,d)&&(m.children.push(l),p.children.splice(T,1),T--)}p.children.push(m)}for(var a=0;a<E.regions.length;a++){var i=E.regions[a];i.length<3||o(r,i)}function n(p,d){for(var T=0,l=p[p.length-1][0],m=p[p.length-1][1],x=[],A=0;A<p.length;A++){var M=p[A][0],_=p[A][1];x.push([M,_]),T+=_*l-M*m,l=M,m=_}var w=T<0;return w!==d&&x.reverse(),x.push([x[0][0],x[0][1]]),x}var s=[];function f(p){var d=[n(p.region,!1)];s.push(d);for(var T=0;T<p.children.length;T++)d.push(c(p.children[T]))}function c(p){for(var d=0;d<p.children.length;d++)f(p.children[d]);return n(p.region,!0)}for(var a=0;a<r.children.length;a++)f(r.children[a]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};G.exports=h}}),LS=He({"node_modules/polybooljs/index.js"(Y,G){var h=TS(),b=AS(),S=MS(),E=ES(),e=kS(),t=CS(),r=!1,o=b(),a;a={buildLog:function(n){return n===!0?r=h():n===!1&&(r=!1),r===!1?!1:r.list},epsilon:function(n){return o.epsilon(n)},segments:function(n){var s=S(!0,o,r);return n.regions.forEach(s.addRegion),{segments:s.calculate(n.inverted),inverted:n.inverted}},combine:function(n,s){var f=S(!1,o,r);return{combined:f.calculate(n.segments,n.inverted,s.segments,s.inverted),inverted1:n.inverted,inverted2:s.inverted}},selectUnion:function(n){return{segments:e.union(n.combined,r),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:e.intersect(n.combined,r),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:e.difference(n.combined,r),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:e.differenceRev(n.combined,r),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:e.xor(n.combined,r),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:E(n.segments,o,r),inverted:n.inverted}},polygonFromGeoJSON:function(n){return t.toPolygon(a,n)},polygonToGeoJSON:function(n){return t.fromPolygon(a,o,n)},union:function(n,s){return i(n,s,a.selectUnion)},intersect:function(n,s){return i(n,s,a.selectIntersect)},difference:function(n,s){return i(n,s,a.selectDifference)},differenceRev:function(n,s){return i(n,s,a.selectDifferenceRev)},xor:function(n,s){return i(n,s,a.selectXor)}};function i(n,s,f){var c=a.segments(n),p=a.segments(s),d=a.combine(c,p),T=f(d);return a.polygon(T)}typeof window=="object"&&(window.PolyBool=a),G.exports=a}}),PS=He({"node_modules/point-in-polygon/nested.js"(Y,G){G.exports=function(b,S,E,e){var t=b[0],r=b[1],o=!1;E===void 0&&(E=0),e===void 0&&(e=S.length);for(var a=e-E,i=0,n=a-1;i<a;n=i++){var s=S[i+E][0],f=S[i+E][1],c=S[n+E][0],p=S[n+E][1],d=f>r!=p>r&&t<(c-s)*(r-f)/(p-f)+s;d&&(o=!o)}return o}}}),sm=He({"src/lib/polygon.js"(Y,G){var h=e1().dot,b=Qo().BADNUM,S=G.exports={};S.tester=function(e){var t=e.slice(),r=t[0][0],o=r,a=t[0][1],i=a,n;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),n=1;n<t.length;n++)r=Math.min(r,t[n][0]),o=Math.max(o,t[n][0]),a=Math.min(a,t[n][1]),i=Math.max(i,t[n][1]);var s=!1,f;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(s=!0,f=function(l){return l[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(s=!0,f=function(l){return l[1]===t[0][1]}));function c(l,m){var x=l[0],A=l[1];return!(x===b||x<r||x>o||A===b||A<a||A>i||m&&f(l))}function p(l,m){var x=l[0],A=l[1];if(x===b||x<r||x>o||A===b||A<a||A>i)return!1;var M=t.length,_=t[0][0],w=t[0][1],g=0,u,v,y,R,L;for(u=1;u<M;u++)if(v=_,y=w,_=t[u][0],w=t[u][1],R=Math.min(v,_),!(x<R||x>Math.max(v,_)||A>Math.max(y,w)))if(A<Math.min(y,w))x!==R&&g++;else{if(_===v?L=A:L=y+(x-v)*(w-y)/(_-v),A===L)return!(u===1&&m);A<=L&&x!==R&&g++}return g%2===1}var d=!0,T=t[0];for(n=1;n<t.length;n++)if(T[0]!==t[n][0]||T[1]!==t[n][1]){d=!1;break}return{xmin:r,xmax:o,ymin:a,ymax:i,pts:t,contains:s?c:p,isRect:s,degenerate:d}},S.isSegmentBent=function(e,t,r,o){var a=e[t],i=[e[r][0]-a[0],e[r][1]-a[1]],n=h(i,i),s=Math.sqrt(n),f=[-i[1]/s,i[0]/s],c,p,d;for(c=t+1;c<r;c++)if(p=[e[c][0]-a[0],e[c][1]-a[1]],d=h(p,i),d<0||d>n||Math.abs(h(p,f))>o)return!0;return!1},S.filter=function(e,t){var r=[e[0]],o=0,a=0;function i(s){e.push(s);var f=r.length,c=o;r.splice(a+1);for(var p=c+1;p<e.length;p++)(p===e.length-1||S.isSegmentBent(e,c,p+1,t))&&(r.push(e[p]),r.length<f-2&&(o=p,a=r.length-1),c=p)}if(e.length>1){var n=e.pop();i(n)}return{addPt:i,raw:e,filtered:r}}}}),IS=He({"src/components/selections/constants.js"(Y,G){G.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}}),RS=He({"src/components/selections/select.js"(Y,G){var h=LS(),b=PS(),S=ji(),E=Io().dashStyle,e=Di(),t=kc(),r=qh().makeEventData,o=Sv(),a=o.freeMode,i=o.rectMode,n=o.drawMode,s=o.openMode,f=o.selectMode,c=Qd(),p=im(),d=v1(),T=Zd().clearOutline,l=Jd(),m=l.handleEllipse,x=l.readPaths,A=h1().newShapes,M=Db(),_=jb().activateLastSelection,w=ea(),g=w.sorterAsc,u=sm(),v=n1(),y=Mc().getFromId,R=nm(),L=om().redrawReglTraces,z=IS(),F=z.MINSELECT,B=u.filter,O=u.tester,I=f1(),N=I.p2r,U=I.axValue,X=I.getTransform;function ee(Fe){return Fe.subplot!==void 0}function ue(Fe,We,Ae,me,pe){var Te=!ee(me),Ue=a(pe),Xe=i(pe),bt=s(pe),xt=n(pe),Mt=f(pe),Nt=pe==="drawline",sr=pe==="drawcircle",ar=Nt||sr,tr=me.gd,Tr=tr._fullLayout,sa=Mt&&Tr.newselection.mode==="immediate"&&Te,Ea=Tr._zoomlayer,ba=me.element.getBoundingClientRect(),Ia=me.plotinfo,Ra=X(Ia),ya=We-ba.left,rn=Ae-ba.top;Tr._calcInverseTransform(tr);var mn=w.apply3DTransform(Tr._invTransform)(ya,rn);ya=mn[0],rn=mn[1];var Yt=Tr._invScaleX,It=Tr._invScaleY,Zt=ya,$t=rn,Cr="M"+ya+","+rn,qr=me.xaxes[0],Jr=me.yaxes[0],aa=qr._length,Ca=Jr._length,Ha=Fe.altKey&&!(n(pe)&&bt),Va,Za,an,wa,Nn,Wn,At;Z(Fe,tr,me),Ue&&(Va=B([[ya,rn]],z.BENDPX));var ft=Ea.selectAll("path.select-outline-"+Ia.id).data([1]),pr=xt?Tr.newshape:Tr.newselection;xt&&(me.hasText=pr.label.text||pr.label.texttemplate);var Sr=xt&&!bt?pr.fillcolor:"rgba(0,0,0,0)",Er=pr.line.color||(Te?e.contrast(tr._fullLayout.plot_bgcolor):"#7f7f7f");ft.enter().append("path").attr("class","select-outline select-outline-"+Ia.id).style({opacity:xt?pr.opacity/2:1,"stroke-dasharray":E(pr.line.dash,pr.line.width),"stroke-width":pr.line.width+"px","shape-rendering":"crispEdges"}).call(e.stroke,Er).call(e.fill,Sr).attr("fill-rule","evenodd").classed("cursor-move",!!xt).attr("transform",Ra).attr("d",Cr+"Z");var _r=Ea.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1}).attr("transform",Ra).attr("d","M0,0Z");if(xt&&me.hasText){var Mr=Ea.select(".label-temp");Mr.empty()&&(Mr=Ea.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=Tr._uid+z.SELECTID,Fr=[],pt=ae(tr,me.xaxes,me.yaxes,me.subplot);sa&&!Fe.shiftKey&&(me._clearSubplotSelections=function(){if(Te){var xr=qr._id,Hr=Jr._id;nt(tr,xr,Hr,pt);for(var fa=(tr.layout||{}).selections||[],xa=[],_a=!1,Wr=0;Wr<fa.length;Wr++){var ha=Tr.selections[Wr];!ha||ha.xref!==xr||ha.yref!==Hr?xa.push(fa[Wr]):_a=!0}_a&&(tr._fullLayout._noEmitSelectedAtStart=!0,S.call("_guiRelayout",tr,{selections:xa}))}});var Kt=Dr(me);me.moveFn=function(xr,Hr){me._clearSubplotSelections&&(me._clearSubplotSelections(),me._clearSubplotSelections=void 0),Zt=Math.max(0,Math.min(aa,Yt*xr+ya)),$t=Math.max(0,Math.min(Ca,It*Hr+rn));var fa=Math.abs(Zt-ya),xa=Math.abs($t-rn);if(Xe){var _a,Wr,ha;if(Mt){var jn=Tr.selectdirection;switch(jn==="any"?xa<Math.min(fa*.6,F)?_a="h":fa<Math.min(xa*.6,F)?_a="v":_a="d":_a=jn,_a){case"h":Wr=sr?Ca/2:0,ha=Ca;break;case"v":Wr=sr?aa/2:0,ha=aa;break}}if(xt)switch(Tr.newshape.drawdirection){case"vertical":_a="h",Wr=sr?Ca/2:0,ha=Ca;break;case"horizontal":_a="v",Wr=sr?aa/2:0,ha=aa;break;case"ortho":fa<xa?(_a="h",Wr=rn,ha=$t):(_a="v",Wr=ya,ha=Zt);break;default:_a="d"}_a==="h"?(wa=ar?m(sr,[Zt,Wr],[Zt,ha]):[[ya,Wr],[ya,ha],[Zt,ha],[Zt,Wr]],wa.xmin=ar?Zt:Math.min(ya,Zt),wa.xmax=ar?Zt:Math.max(ya,Zt),wa.ymin=Math.min(Wr,ha),wa.ymax=Math.max(Wr,ha),_r.attr("d","M"+wa.xmin+","+(rn-F)+"h-4v"+2*F+"h4ZM"+(wa.xmax-1)+","+(rn-F)+"h4v"+2*F+"h-4Z")):_a==="v"?(wa=ar?m(sr,[Wr,$t],[ha,$t]):[[Wr,rn],[Wr,$t],[ha,$t],[ha,rn]],wa.xmin=Math.min(Wr,ha),wa.xmax=Math.max(Wr,ha),wa.ymin=ar?$t:Math.min(rn,$t),wa.ymax=ar?$t:Math.max(rn,$t),_r.attr("d","M"+(ya-F)+","+wa.ymin+"v-4h"+2*F+"v4ZM"+(ya-F)+","+(wa.ymax-1)+"v4h"+2*F+"v-4Z")):_a==="d"&&(wa=ar?m(sr,[ya,rn],[Zt,$t]):[[ya,rn],[ya,$t],[Zt,$t],[Zt,rn]],wa.xmin=Math.min(ya,Zt),wa.xmax=Math.max(ya,Zt),wa.ymin=Math.min(rn,$t),wa.ymax=Math.max(rn,$t),_r.attr("d","M0,0Z"))}else Ue&&(Va.addPt([Zt,$t]),wa=Va.filtered);if(me.selectionDefs&&me.selectionDefs.length?(an=Je(me.mergedPolygons,wa,Ha),wa.subtract=Ha,Za=te(me.selectionDefs.concat([wa]))):(an=[wa],Za=O(wa)),d(Ee(an,bt),ft,me),Mt){var tn=he(tr,!1),Zn=tn.eventData?tn.eventData.points.slice():[];tn=he(tr,!1,Za,pt,me),Za=tn.selectionTesters,At=tn.eventData;var ii;Va?ii=Va.filtered:ii=Wt(an),v.throttle(Gr,z.SELECTDELAY,function(){Fr=xe(Za,pt);for(var pi=Fr.slice(),di=0;di<Zn.length;di++){for(var ki=Zn[di],zn=!1,no=0;no<pi.length;no++)if(pi[no].curveNumber===ki.curveNumber&&pi[no].pointNumber===ki.pointNumber){zn=!0;break}zn||pi.push(ki)}pi.length&&(At||(At={}),At.points=pi),Kt(At,ii),hr(tr,At)})}},me.clickFn=function(xr,Hr){if(_r.remove(),tr._fullLayout._activeShapeIndex>=0){tr._fullLayout._deactivateShape(tr);return}if(!xt){var fa=Tr.clickmode;v.done(Gr).then(function(){if(v.clear(Gr),xr===2){for(ft.remove(),Nn=0;Nn<pt.length;Nn++)Wn=pt[Nn],Wn._module.selectPoints(Wn,!1);if(et(tr,pt),q(me),mt(tr),pt.length){var xa=pt[0].xaxis,_a=pt[0].yaxis;if(xa&&_a){for(var Wr=[],ha=tr._fullLayout.selections,jn=0;jn<ha.length;jn++){var tn=ha[jn];tn&&(tn.xref!==xa._id||tn.yref!==_a._id)&&Wr.push(tn)}Wr.length<ha.length&&(tr._fullLayout._noEmitSelectedAtStart=!0,S.call("_guiRelayout",tr,{selections:Wr}))}}}else fa.indexOf("select")>-1&&oe(Hr,tr,me.xaxes,me.yaxes,me.subplot,me,ft),fa==="event"&&Ar(tr,void 0);t.click(tr,Hr,Ia.id)}).catch(w.error)}},me.doneFn=function(){_r.remove(),v.done(Gr).then(function(){v.clear(Gr),!sa&&wa&&me.selectionDefs&&(wa.subtract=Ha,me.selectionDefs.push(wa),me.mergedPolygons.length=0,[].push.apply(me.mergedPolygons,an)),(sa||xt)&&q(me,sa),me.doneFnCompleted&&me.doneFnCompleted(Fr),Mt&&Ar(tr,At)}).catch(w.error)}}function oe(Fe,We,Ae,me,pe,Te,Ue){var Xe=We._hoverdata,bt=We._fullLayout,xt=bt.clickmode,Mt=xt.indexOf("event")>-1,Nt=[],sr,ar,tr,Tr,sa,Ea,ba,Ia,Ra,ya;if(be(Xe)){Z(Fe,We,Te),sr=ae(We,Ae,me,pe);var rn=Me(Xe,sr),mn=rn.pointNumbers.length>0;if(mn?Le(sr,rn):je(sr)&&(ba=Ie(rn))){for(Ue&&Ue.remove(),ya=0;ya<sr.length;ya++)ar=sr[ya],ar._module.selectPoints(ar,!1);et(We,sr),q(Te),Mt&&mt(We)}else{Ia=Fe.shiftKey&&(ba!==void 0?ba:Ie(rn)),tr=le(rn.pointNumber,rn.searchInfo,Ia);var Yt=Te.selectionDefs.concat([tr]);for(Tr=te(Yt),ya=0;ya<sr.length;ya++)if(sa=sr[ya]._module.selectPoints(sr[ya],Tr),Ea=Ze(sa,sr[ya]),Nt.length)for(var It=0;It<Ea.length;It++)Nt.push(Ea[It]);else Nt=Ea;if(Ra={points:Nt},et(We,sr,Ra),tr&&Te&&Te.selectionDefs.push(tr),Ue){var Zt=Te.mergedPolygons,$t=s(Te.dragmode);d(Ee(Zt,$t),Ue,Te)}Mt&&Ar(We,Ra)}}}function le(Fe,We,Ae){return{pointNumber:Fe,searchInfo:We,subtract:!!Ae}}function V(Fe){return"pointNumber"in Fe&&"searchInfo"in Fe}function J(Fe){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(We,Ae,me,pe){var Te=Fe.searchInfo.cd[0].trace.index,Ue=pe.cd[0].trace.index;return Ue===Te&&me===Fe.pointNumber},isRect:!1,degenerate:!1,subtract:!!Fe.subtract}}function te(Fe){if(!Fe.length)return;for(var We=[],Ae=V(Fe[0])?0:Fe[0][0][0],me=Ae,pe=V(Fe[0])?0:Fe[0][0][1],Te=pe,Ue=0;Ue<Fe.length;Ue++)if(V(Fe[Ue]))We.push(J(Fe[Ue]));else{var Xe=O(Fe[Ue]);Xe.subtract=!!Fe[Ue].subtract,We.push(Xe),Ae=Math.min(Ae,Xe.xmin),me=Math.max(me,Xe.xmax),pe=Math.min(pe,Xe.ymin),Te=Math.max(Te,Xe.ymax)}function bt(xt,Mt,Nt,sr){for(var ar=!1,tr=0;tr<We.length;tr++)We[tr].contains(xt,Mt,Nt,sr)&&(ar=!We[tr].subtract);return ar}return{xmin:Ae,xmax:me,ymin:pe,ymax:Te,pts:[],contains:bt,isRect:!1,degenerate:!1}}function Z(Fe,We,Ae){var me=We._fullLayout,pe=Ae.plotinfo,Te=Ae.dragmode,Ue=me._lastSelectedSubplot&&me._lastSelectedSubplot===pe.id,Xe=(Fe.shiftKey||Fe.altKey)&&!(n(Te)&&s(Te));Ue&&Xe&&pe.selection&&pe.selection.selectionDefs&&!Ae.selectionDefs?(Ae.selectionDefs=pe.selection.selectionDefs,Ae.mergedPolygons=pe.selection.mergedPolygons):(!Xe||!pe.selection)&&q(Ae),Ue||(T(We),me._lastSelectedSubplot=pe.id)}function se(Fe){return Fe._fullLayout._activeShapeIndex>=0}function Q(Fe){return Fe._fullLayout._activeSelectionIndex>=0}function q(Fe,We){var Ae=Fe.dragmode,me=Fe.plotinfo,pe=Fe.gd;se(pe)&&pe._fullLayout._deactivateShape(pe),Q(pe)&&pe._fullLayout._deactivateSelection(pe);var Te=pe._fullLayout,Ue=Te._zoomlayer,Xe=n(Ae),bt=f(Ae);if(Xe||bt){var xt=Ue.selectAll(".select-outline-"+me.id);if(xt&&pe._fullLayout._outlining){var Mt;Xe&&(Mt=A(xt,Fe)),Mt&&S.call("_guiRelayout",pe,{shapes:Mt});var Nt;bt&&!ee(Fe)&&(Nt=M(xt,Fe)),Nt&&(pe._fullLayout._noEmitSelectedAtStart=!0,S.call("_guiRelayout",pe,{selections:Nt}).then(function(){We&&_(pe)})),pe._fullLayout._outlining=!1}}me.selection={},me.selection.selectionDefs=Fe.selectionDefs=[],me.selection.mergedPolygons=Fe.mergedPolygons=[]}function re(Fe){return Fe._id}function ae(Fe,We,Ae,me){if(!Fe.calcdata)return[];var pe=[],Te=We.map(re),Ue=Ae.map(re),Xe,bt,xt;for(xt=0;xt<Fe.calcdata.length;xt++)if(Xe=Fe.calcdata[xt],bt=Xe[0].trace,!(bt.visible!==!0||!bt._module||!bt._module.selectPoints))if(ee({subplot:me})&&(bt.subplot===me||bt.geo===me))pe.push(fe(bt._module,Xe,We[0],Ae[0]));else if(bt.type==="splom"){if(bt._xaxes[Te[0]]&&bt._yaxes[Ue[0]]){var Mt=fe(bt._module,Xe,We[0],Ae[0]);Mt.scene=Fe._fullLayout._splomScenes[bt.uid],pe.push(Mt)}}else if(bt.type==="sankey"){var Nt=fe(bt._module,Xe,We[0],Ae[0]);pe.push(Nt)}else{if(Te.indexOf(bt.xaxis)===-1&&(!bt._xA||!bt._xA.overlaying)||Ue.indexOf(bt.yaxis)===-1&&(!bt._yA||!bt._yA.overlaying))continue;pe.push(fe(bt._module,Xe,y(Fe,bt.xaxis),y(Fe,bt.yaxis)))}return pe}function fe(Fe,We,Ae,me){return{_module:Fe,cd:We,xaxis:Ae,yaxis:me}}function be(Fe){return Fe&&Array.isArray(Fe)&&Fe[0].hoverOnBox!==!0}function Me(Fe,We){var Ae=Fe[0],me=-1,pe=[],Te,Ue;for(Ue=0;Ue<We.length;Ue++)if(Te=We[Ue],Ae.fullData.index===Te.cd[0].trace.index){if(Ae.hoverOnBox===!0)break;Ae.pointNumber!==void 0?me=Ae.pointNumber:Ae.binNumber!==void 0&&(me=Ae.binNumber,pe=Ae.pointNumbers);break}return{pointNumber:me,pointNumbers:pe,searchInfo:Te}}function Ie(Fe){var We=Fe.searchInfo.cd[0].trace,Ae=Fe.pointNumber,me=Fe.pointNumbers,pe=me.length>0,Te=pe?me[0]:Ae;return We.selectedpoints?We.selectedpoints.indexOf(Te)>-1:!1}function Le(Fe,We){var Ae=[],me,pe,Te,Ue;for(Ue=0;Ue<Fe.length;Ue++)me=Fe[Ue],me.cd[0].trace.selectedpoints&&me.cd[0].trace.selectedpoints.length>0&&Ae.push(me);if(Ae.length===1&&(Te=Ae[0]===We.searchInfo,Te&&(pe=We.searchInfo.cd[0].trace,pe.selectedpoints.length===We.pointNumbers.length))){for(Ue=0;Ue<We.pointNumbers.length;Ue++)if(pe.selectedpoints.indexOf(We.pointNumbers[Ue])<0)return!1;return!0}return!1}function je(Fe){var We=0,Ae,me,pe;for(pe=0;pe<Fe.length;pe++)if(Ae=Fe[pe],me=Ae.cd[0].trace,me.selectedpoints&&(me.selectedpoints.length>1||(We+=me.selectedpoints.length,We>1)))return!1;return We===1}function et(Fe,We,Ae){var me;for(me=0;me<We.length;me++){var pe=We[me].cd[0].trace._fullInput,Te=Fe._fullLayout._tracePreGUI[pe.uid]||{};Te.selectedpoints===void 0&&(Te.selectedpoints=pe._input.selectedpoints||null)}var Ue;if(Ae){var Xe=Ae.points||[];for(me=0;me<We.length;me++)Ue=We[me].cd[0].trace,Ue._input.selectedpoints=Ue._fullInput.selectedpoints=[],Ue._fullInput!==Ue&&(Ue.selectedpoints=[]);for(var bt=0;bt<Xe.length;bt++){var xt=Xe[bt],Mt=xt.data,Nt=xt.fullData,sr=xt.pointIndex,ar=xt.pointIndices;ar?([].push.apply(Mt.selectedpoints,ar),Ue._fullInput!==Ue&&[].push.apply(Nt.selectedpoints,ar)):(Mt.selectedpoints.push(sr),Ue._fullInput!==Ue&&Nt.selectedpoints.push(sr))}}else for(me=0;me<We.length;me++)Ue=We[me].cd[0].trace,delete Ue.selectedpoints,delete Ue._input.selectedpoints,Ue._fullInput!==Ue&&delete Ue._fullInput.selectedpoints;rt(Fe,We)}function rt(Fe,We){for(var Ae=!1,me=0;me<We.length;me++){var pe=We[me],Te=pe.cd;S.traceIs(Te[0].trace,"regl")&&(Ae=!0);var Ue=pe._module,Xe=Ue.styleOnSelect||Ue.style;Xe&&(Xe(Fe,Te,Te[0].node3),Te[0].nodeRangePlot3&&Xe(Fe,Te,Te[0].nodeRangePlot3))}Ae&&(R(Fe),L(Fe))}function Je(Fe,We,Ae){for(var me=Ae?h.difference:h.union,pe=me({regions:Fe},{regions:[We]}),Te=pe.regions.reverse(),Ue=0;Ue<Te.length;Ue++){var Xe=Te[Ue];Xe.subtract=Ct(Xe,Te.slice(0,Ue))}return Te}function Ze(Fe,We){if(Array.isArray(Fe))for(var Ae=We.cd,me=We.cd[0].trace,pe=0;pe<Fe.length;pe++)Fe[pe]=r(Fe[pe],me,Ae);return Fe}function Ee(Fe,We){for(var Ae=[],me=0;me<Fe.length;me++){Ae[me]=[];for(var pe=0;pe<Fe[me].length;pe++){Ae[me][pe]=[],Ae[me][pe][0]=pe?"L":"M";for(var Te=0;Te<Fe[me][pe].length;Te++)Ae[me][pe].push(Fe[me][pe][Te])}We||Ae[me].push(["Z",Ae[me][0][1],Ae[me][0][2]])}return Ae}function xe(Fe,We){for(var Ae=[],me,pe,Te=0;Te<We.length;Te++){var Ue=We[Te];pe=Ue._module.selectPoints(Ue,Fe),me=Ze(pe,Ue),Ae=Ae.concat(me)}return Ae}function he(Fe,We,Ae,me,pe){var Te=!!me,Ue,Xe,bt;pe&&(Ue=pe.plotinfo,Xe=pe.xaxes[0]._id,bt=pe.yaxes[0]._id);var xt=[],Mt=[],Nt=Et(Fe),sr=Fe._fullLayout;if(Ue){var ar=sr._zoomlayer,tr=sr.dragmode,Tr=n(tr),sa=f(tr);if(Tr||sa){var Ea=y(Fe,Xe,"x"),ba=y(Fe,bt,"y");if(Ea&&ba){var Ia=ar.selectAll(".select-outline-"+Ue.id);if(Ia&&Fe._fullLayout._outlining&&Ia.length){for(var Ra=Ia[0][0],ya=Ra.getAttribute("d"),rn=x(ya,Fe,Ue),mn=[],Yt=0;Yt<rn.length;Yt++){for(var It=rn[Yt],Zt=[],$t=0;$t<It.length;$t++)Zt.push([jt(Ea,It[$t][1]),jt(ba,It[$t][2])]);Zt.xref=Xe,Zt.yref=bt,Zt.subtract=Ct(Zt,mn),mn.push(Zt)}Nt=Nt.concat(mn)}}}}var Cr=Xe&&bt?[Xe+bt]:sr._subplots.cartesian;De(Fe);for(var qr={},Jr=0;Jr<Cr.length;Jr++){var aa=Cr[Jr],Ca=aa.indexOf("y"),Ha=aa.slice(0,Ca),Va=aa.slice(Ca),Za=Xe&&bt?Ae:void 0;if(Za=$e(Nt,Ha,Va,Za),Za){var an=me;if(!Te){var wa=y(Fe,Ha,"x"),Nn=y(Fe,Va,"y");an=ae(Fe,[wa],[Nn],aa);for(var Wn=0;Wn<an.length;Wn++){var At=an[Wn],ft=At.cd[0],pr=ft.trace;if(At._module.name==="scattergl"&&!ft.t.xpx){var Sr=pr.x,Er=pr.y,_r=pr._length;ft.t.xpx=[],ft.t.ypx=[];for(var Mr=0;Mr<_r;Mr++)ft.t.xpx[Mr]=wa.c2p(Sr[Mr]),ft.t.ypx[Mr]=Nn.c2p(Er[Mr])}At._module.name==="splom"&&(qr[pr.uid]||(qr[pr.uid]=!0))}}var Gr=xe(Za,an);xt=xt.concat(Gr),Mt=Mt.concat(an)}}var Fr={points:xt};et(Fe,Mt,Fr);var pt=sr.clickmode,Kt=pt.indexOf("event")>-1&&We;if(!Ue&&We){var xr=Et(Fe,!0);if(xr.length){var Hr=xr[0].xref,fa=xr[0].yref;if(Hr&&fa){var xa=Wt(xr),_a=vr([y(Fe,Hr,"x"),y(Fe,fa,"y")]);_a(Fr,xa)}}Fe._fullLayout._noEmitSelectedAtStart?Fe._fullLayout._noEmitSelectedAtStart=!1:Kt&&Ar(Fe,Fr),sr._reselect=!1}if(!Ue&&sr._deselect){var Wr=sr._deselect;Xe=Wr.xref,bt=Wr.yref,tt(Xe,bt,Mt)||nt(Fe,Xe,bt,me),Kt&&(Fr.points.length?Ar(Fe,Fr):mt(Fe)),sr._deselect=!1}return{eventData:Fr,selectionTesters:Ae}}function De(Fe){var We=Fe.calcdata;if(We)for(var Ae=0;Ae<We.length;Ae++){var me=We[Ae][0],pe=me.trace,Te=Fe._fullLayout._splomScenes;if(Te){var Ue=Te[pe.uid];Ue&&(Ue.selectBatch=[])}}}function tt(Fe,We,Ae){for(var me=0;me<Ae.length;me++){var pe=Ae[me];if(pe.xaxis&&pe.xaxis._id===Fe&&pe.yaxis&&pe.yaxis._id===We)return!0}return!1}function nt(Fe,We,Ae,me){me=ae(Fe,[y(Fe,We,"x")],[y(Fe,Ae,"y")],We+Ae);for(var pe=0;pe<me.length;pe++){var Te=me[pe];Te._module.selectPoints(Te,!1)}et(Fe,me)}function $e(Fe,We,Ae,me){for(var pe,Te=0;Te<Fe.length;Te++){var Ue=Fe[Te];if(!(We!==Ue.xref||Ae!==Ue.yref))if(pe){var Xe=!!Ue.subtract;pe=Je(pe,Ue,Xe),me=te(pe)}else pe=[Ue],me=O(Ue)}return me}function Et(Fe,We){for(var Ae=[],me=Fe._fullLayout,pe=me.selections,Te=pe.length,Ue=0;Ue<Te;Ue++)if(!(We&&Ue!==me._activeSelectionIndex)){var Xe=pe[Ue];if(Xe){var bt=Xe.xref,xt=Xe.yref,Mt=y(Fe,bt,"x"),Nt=y(Fe,xt,"y"),sr,ar,tr,Tr,sa;if(Xe.type==="rect"){sa=[];var Ea=jt(Mt,Xe.x0),ba=jt(Mt,Xe.x1),Ia=jt(Nt,Xe.y0),Ra=jt(Nt,Xe.y1);sa=[[Ea,Ia],[Ea,Ra],[ba,Ra],[ba,Ia]],sr=Math.min(Ea,ba),ar=Math.max(Ea,ba),tr=Math.min(Ia,Ra),Tr=Math.max(Ia,Ra),sa.xmin=sr,sa.xmax=ar,sa.ymin=tr,sa.ymax=Tr,sa.xref=bt,sa.yref=xt,sa.subtract=!1,sa.isRect=!0,Ae.push(sa)}else if(Xe.type==="path")for(var ya=Xe.path.split("Z"),rn=[],mn=0;mn<ya.length;mn++){var Yt=ya[mn];if(Yt){Yt+="Z";var It=c.extractPathCoords(Yt,p.paramIsX,"raw"),Zt=c.extractPathCoords(Yt,p.paramIsY,"raw");sr=1/0,ar=-1/0,tr=1/0,Tr=-1/0,sa=[];for(var $t=0;$t<It.length;$t++){var Cr=jt(Mt,It[$t]),qr=jt(Nt,Zt[$t]);sa.push([Cr,qr]),sr=Math.min(Cr,sr),ar=Math.max(Cr,ar),tr=Math.min(qr,tr),Tr=Math.max(qr,Tr)}sa.xmin=sr,sa.xmax=ar,sa.ymin=tr,sa.ymax=Tr,sa.xref=bt,sa.yref=xt,sa.subtract=Ct(sa,rn),rn.push(sa),Ae.push(sa)}}}}return Ae}function Ct(Fe,We){for(var Ae=!1,me=0;me<We.length;me++)for(var pe=We[me],Te=0;Te<Fe.length;Te++)if(b(Fe[Te],pe)){Ae=!Ae;break}return Ae}function jt(Fe,We){return Fe.type==="date"&&(We=We.replace("_"," ")),Fe.type==="log"?Fe.c2p(We):Fe.r2p(We,null,Fe.calendar)}function Wt(Fe){for(var We=Fe.length,Ae=[],me=0;me<We;me++){var pe=Fe[me];Ae=Ae.concat(pe),Ae=Ae.concat([pe[0]])}return dr(Ae)}function dr(Fe){return Fe.isRect=Fe.length===5&&Fe[0][0]===Fe[4][0]&&Fe[0][1]===Fe[4][1]&&Fe[0][0]===Fe[1][0]&&Fe[2][0]===Fe[3][0]&&Fe[0][1]===Fe[3][1]&&Fe[1][1]===Fe[2][1]||Fe[0][1]===Fe[1][1]&&Fe[2][1]===Fe[3][1]&&Fe[0][0]===Fe[3][0]&&Fe[1][0]===Fe[2][0],Fe.isRect&&(Fe.xmin=Math.min(Fe[0][0],Fe[2][0]),Fe.xmax=Math.max(Fe[0][0],Fe[2][0]),Fe.ymin=Math.min(Fe[0][1],Fe[2][1]),Fe.ymax=Math.max(Fe[0][1],Fe[2][1])),Fe}function vr(Fe){return function(We,Ae){for(var me,pe,Te=0;Te<Fe.length;Te++){var Ue=Fe[Te],Xe=Ue._id,bt=Xe.charAt(0);if(Ae.isRect){me||(me={});var xt=Ae[bt+"min"],Mt=Ae[bt+"max"];xt!==void 0&&Mt!==void 0&&(me[Xe]=[N(Ue,xt),N(Ue,Mt)].sort(g))}else pe||(pe={}),pe[Xe]=Ae.map(U(Ue))}me&&(We.range=me),pe&&(We.lassoPoints=pe)}}function Dr(Fe){var We=Fe.plotinfo;return We.fillRangeItems||vr(Fe.xaxes.concat(Fe.yaxes))}function hr(Fe,We){Fe.emit("plotly_selecting",We)}function Ar(Fe,We){We&&(We.selections=(Fe.layout||{}).selections||[]),Fe.emit("plotly_selected",We)}function mt(Fe){Fe.emit("plotly_deselect",null)}G.exports={reselect:he,prepSelect:ue,clearOutline:T,clearSelectionsCache:q,selectOnClick:oe}}}),Vb=He({"src/components/annotations/arrow_paths.js"(Y,G){G.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}}),lm=He({"src/constants/axis_placeable_objects.js"(Y,G){G.exports={axisRefDescription:function(h,b,S){return["If set to a",h,"axis id (e.g. *"+h+"* or","*"+h+"2*), the `"+h+"` position refers to a",h,"coordinate. If set to *paper*, the `"+h+"`","position refers to the distance from the",b,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",b,"("+S+"). If set to a",h,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",b,"of the domain of that axis: e.g.,","*"+h+"2 domain* refers to the domain of the second",h," axis and a",h,"position of 0.5 refers to the","point between the",b,"and the",S,"of the domain of the","second",h,"axis."].join(" ")}}}}),Fp=He({"src/components/annotations/attributes.js"(Y,G){var h=Vb(),b=Ru(),S=Yf(),E=xl().templatedArray;lm(),G.exports=E("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:b({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:h.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:h.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",S.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",S.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",S.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",S.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:b({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}}),Xv=He({"src/traces/scatter/constants.js"(Y,G){G.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}}),Mv=He({"src/traces/scatter/fillcolor_attribute.js"(Y,G){G.exports=function(b){return{valType:"color",editType:"style",anim:!0}}}}),Cc=He({"src/traces/scatter/attributes.js"(Y,G){var h=Ec().axisHoverFormat,{hovertemplateAttrs:b,texttemplateAttrs:S,templatefallbackAttrs:E}=Ll(),e=ou(),t=Ru(),r=nh().dash,o=nh().pattern,a=Io(),i=Xv(),n=Po().extendFlat,s=Mv();function f(d){return{valType:"any",dflt:0,editType:"calc"}}function c(d){return{valType:"any",editType:"calc"}}function p(d){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}G.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:f(),yperiod:f(),xperiod0:c(),yperiod0:c(),xperiodalignment:p(),yperiodalignment:p(),xhoverformat:h("x"),yhoverformat:h("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:S(),texttemplatefallback:E({editType:"calc"}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:b({},{keys:i.eventDataKeys}),hovertemplatefallback:E(),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:n({},r,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:s(!0),fillgradient:n({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:o,marker:n({symbol:{valType:"enumerated",values:a.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:n({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},e("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},e("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:t({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}}),qb=He({"src/components/selections/attributes.js"(Y,G){var h=Fp(),b=Cc().line,S=nh().dash,E=Po().extendFlat,e=Zu().overrideAll,t=xl().templatedArray;lm(),G.exports=e(t("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:E({},h.xref,{}),yref:E({},h.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:b.color,width:E({},b.width,{min:1,dflt:1}),dash:E({},S,{dflt:"dot"})}}),"arraydraw","from-root")}}),DS=He({"src/components/selections/defaults.js"(Y,G){var h=ea(),b=Ao(),S=_h(),E=qb(),e=Qd();G.exports=function(o,a){S(o,a,{name:"selections",handleItemDefaults:t});for(var i=a.selections,n=0;n<i.length;n++){var s=i[n];s&&s.path===void 0&&(s.x0===void 0||s.x1===void 0||s.y0===void 0||s.y1===void 0)&&(a.selections[n]=null)}};function t(r,o,a){function i(R,L){return h.coerce(r,o,E,R,L)}var n=i("path"),s=n?"path":"rect",f=i("type",s),c=f!=="path";c&&delete o.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var p=["x","y"],d=0;d<2;d++){var T=p[d],l={_fullLayout:a},m,x,A,M=b.coerceRef(r,o,l,T);if(m=b.getFromId(l,M),m._selectionIndices.push(o._index),A=e.rangeToShapePosition(m),x=e.shapePositionToRange(m),c){var _=T+"0",w=T+"1",g=r[_],u=r[w];r[_]=x(r[_],!0),r[w]=x(r[w],!0),b.coercePosition(o,l,i,M,_),b.coercePosition(o,l,i,M,w);var v=o[_],y=o[w];v!==void 0&&y!==void 0&&(o[_]=A(v),o[w]=A(y),r[_]=g,r[w]=u)}}c&&h.noneOrAll(r,o,["x0","x1","y0","y1"])}}}),zS=He({"src/components/selections/draw_newselection/defaults.js"(Y,G){G.exports=function(b,S,E){E("newselection.mode");var e=E("newselection.line.width");e&&(E("newselection.line.color"),E("newselection.line.dash")),E("activeselection.fillcolor"),E("activeselection.opacity")}}}),um=He({"src/plots/cartesian/include_components.js"(Y,G){var h=ji(),b=ea(),S=Mc();G.exports=function(e){return function(r,o){var a=r[e];if(Array.isArray(a))for(var i=h.subplotsRegistry.cartesian,n=i.idRegex,s=o._subplots,f=s.xaxis,c=s.yaxis,p=s.cartesian,d=o._has("cartesian"),T=0;T<a.length;T++){var l=a[T];if(b.isPlainObject(l)){var m=S.cleanId(l.xref,"x",!1),x=S.cleanId(l.yref,"y",!1),A=n.x.test(m),M=n.y.test(x);if(A||M){d||b.pushUnique(o._basePlotModules,i);var _=!1;A&&f.indexOf(m)===-1&&(f.push(m),_=!0),M&&c.indexOf(x)===-1&&(c.push(x),_=!0),_&&A&&M&&p.push(m+x)}}}}}}}),Xc=He({"src/components/selections/index.js"(Y,G){var h=jb(),b=RS();G.exports={moduleType:"component",name:"selections",layoutAttributes:qb(),supplyLayoutDefaults:DS(),supplyDrawNewSelectionDefaults:zS(),includeBasePlot:um()("selections"),draw:h.draw,drawOne:h.drawOne,reselect:b.reselect,prepSelect:b.prepSelect,clearOutline:b.clearOutline,clearSelectionsCache:b.clearSelectionsCache,selectOnClick:b.selectOnClick}}}),Gb=He({"src/plots/cartesian/dragbox.js"(Y,G){var h=_i(),b=ea(),S=b.numberFormat,E=Zf(),e=s1(),t=ji(),r=b.strTranslate,o=Zl(),a=Di(),i=Io(),n=kc(),s=Ao(),f=Av(),c=kh(),p=Sv(),d=p.selectingOrDrawing,T=p.freeMode,l=Nf().FROM_TL,m=nm(),x=om().redrawReglTraces,A=nc(),M=Mc().getFromId,_=Xc().prepSelect,w=Xc().clearOutline,g=Xc().selectOnClick,u=Ub(),v=Yf(),y=v.MINDRAG,R=v.MINZOOM,L=!0;function z(fe,be,Me,Ie,Le,je,et,rt){var Je=fe._fullLayout._zoomlayer,Ze=et+rt==="nsew",Ee=(et+rt).length===1,xe,he,De,tt,nt,$e,Et,Ct,jt,Wt,dr,vr,Dr,hr,Ar,mt,Fe,We,Ae,me,pe,Te,Ue;Me+=be.yaxis._shift;function Xe(){if(xe=be.xaxis,he=be.yaxis,jt=xe._length,Wt=he._length,Et=xe._offset,Ct=he._offset,De={},De[xe._id]=xe,tt={},tt[he._id]=he,et&&rt)for(var ft=be.overlays,pr=0;pr<ft.length;pr++){var Sr=ft[pr].xaxis;De[Sr._id]=Sr;var Er=ft[pr].yaxis;tt[Er._id]=Er}nt=ae(De),$e=ae(tt),Dr=O(nt,rt),hr=O($e,et),Ar=!hr&&!Dr,vr=q(fe,fe._fullLayout._axisMatchGroups,De,tt),dr=q(fe,fe._fullLayout._axisConstraintGroups,De,tt,vr);var _r=dr.isSubplotConstrained||vr.isSubplotConstrained;mt=rt||_r,Fe=et||_r;var Mr=fe._fullLayout;We=Mr._has("scattergl"),Ae=Mr._has("splom"),me=Mr._has("svg")}Xe();var bt=ee(hr+Dr,fe._fullLayout.dragmode,Ze),xt=B(be,et+rt+"drag",bt,Me,Ie,Le,je);if(Ar&&!Ze)return xt.onmousedown=null,xt.style.pointerEvents="none",xt;var Mt={element:xt,gd:fe,plotinfo:be};Mt.prepFn=function(ft,pr,Sr){var Er=Mt.dragmode,_r=fe._fullLayout.dragmode;_r!==Er&&(Mt.dragmode=_r),Xe(),Te=fe._fullLayout._invScaleX,Ue=fe._fullLayout._invScaleY,Ar||(Ze?ft.shiftKey?_r==="pan"?_r="zoom":d(_r)||(_r="pan"):ft.ctrlKey&&(_r="pan"):_r="pan"),T(_r)?Mt.minDrag=1:Mt.minDrag=void 0,d(_r)?(Mt.xaxes=nt,Mt.yaxes=$e,_(ft,pr,Sr,Mt,_r)):(Mt.clickFn=sr,d(Er)&&Nt(),Ar||(_r==="zoom"?(Mt.moveFn=Yt,Mt.doneFn=Zt,Mt.minDrag=1,mn(ft,pr,Sr)):_r==="pan"&&(Mt.moveFn=Ca,Mt.doneFn=an))),fe._fullLayout._redrag=function(){var Mr=fe._dragdata;if(Mr&&Mr.element===xt){var Gr=fe._fullLayout.dragmode;d(Gr)||(Xe(),wa([0,0,jt,Wt]),Mt.moveFn(Mr.dx,Mr.dy))}}};function Nt(){Mt.plotinfo.selection=!1,w(fe)}function sr(ft,pr){var Sr=Mt.gd;if(Sr._fullLayout._activeShapeIndex>=0){Sr._fullLayout._deactivateShape(Sr);return}var Er=Sr._fullLayout.clickmode;if(J(Sr),ft===2&&!Ee&&Za(),Ze)Er.indexOf("select")>-1&&g(pr,Sr,nt,$e,be.id,Mt),Er.indexOf("event")>-1&&n.click(Sr,pr,be.id);else if(ft===1&&Ee){var _r=et?he:xe,Mr=et==="s"||rt==="w"?0:1,Gr=_r._name+".range["+Mr+"]",Fr=I(_r,Mr),pt="left",Kt="middle";if(_r.fixedrange)return;et?(Kt=et==="n"?"top":"bottom",_r.side==="right"&&(pt="right")):rt==="e"&&(pt="right"),Sr._context.showAxisRangeEntryBoxes&&h.select(xt).call(o.makeEditable,{gd:Sr,immediate:!0,background:Sr._fullLayout.paper_bgcolor,text:String(Fr),fill:_r.tickfont?_r.tickfont.color:"#444",horizontalAlign:pt,verticalAlign:Kt}).on("edit",function(xr){var Hr=_r.d2r(xr);Hr!==void 0&&t.call("_guiRelayout",Sr,Gr,Hr)})}}c.init(Mt);var ar,tr,Tr,sa,Ea,ba,Ia,Ra,ya,rn;function mn(ft,pr,Sr){var Er=xt.getBoundingClientRect();ar=pr-Er.left,tr=Sr-Er.top,fe._fullLayout._calcInverseTransform(fe);var _r=b.apply3DTransform(fe._fullLayout._invTransform)(ar,tr);ar=_r[0],tr=_r[1],Tr={l:ar,r:ar,w:0,t:tr,b:tr,h:0},sa=fe._hmpixcount?fe._hmlumcount/fe._hmpixcount:E(fe._fullLayout.plot_bgcolor).getLuminance(),Ea="M0,0H"+jt+"V"+Wt+"H0V0",ba=!1,Ia="xy",rn=!1,Ra=ue(Je,sa,Et,Ct,Ea),ya=oe(Je,Et,Ct)}function Yt(ft,pr){if(fe._transitioningWithDuration)return!1;var Sr=Math.max(0,Math.min(jt,Te*ft+ar)),Er=Math.max(0,Math.min(Wt,Ue*pr+tr)),_r=Math.abs(Sr-ar),Mr=Math.abs(Er-tr);Tr.l=Math.min(ar,Sr),Tr.r=Math.max(ar,Sr),Tr.t=Math.min(tr,Er),Tr.b=Math.max(tr,Er);function Gr(){Ia="",Tr.r=Tr.l,Tr.t=Tr.b,ya.attr("d","M0,0Z")}if(dr.isSubplotConstrained)_r>R||Mr>R?(Ia="xy",_r/jt>Mr/Wt?(Mr=_r*Wt/jt,tr>Er?Tr.t=tr-Mr:Tr.b=tr+Mr):(_r=Mr*jt/Wt,ar>Sr?Tr.l=ar-_r:Tr.r=ar+_r),ya.attr("d",Q(Tr))):Gr();else if(vr.isSubplotConstrained)if(_r>R||Mr>R){Ia="xy";var Fr=Math.min(Tr.l/jt,(Wt-Tr.b)/Wt),pt=Math.max(Tr.r/jt,(Wt-Tr.t)/Wt);Tr.l=Fr*jt,Tr.r=pt*jt,Tr.b=(1-Fr)*Wt,Tr.t=(1-pt)*Wt,ya.attr("d",Q(Tr))}else Gr();else!hr||Mr<Math.min(Math.max(_r*.6,y),R)?_r<y||!Dr?Gr():(Tr.t=0,Tr.b=Wt,Ia="x",ya.attr("d",Z(Tr,tr))):!Dr||_r<Math.min(Mr*.6,R)?(Tr.l=0,Tr.r=jt,Ia="y",ya.attr("d",se(Tr,ar))):(Ia="xy",ya.attr("d",Q(Tr)));Tr.w=Tr.r-Tr.l,Tr.h=Tr.b-Tr.t,Ia&&(rn=!0),fe._dragged=rn,le(Ra,ya,Tr,Ea,ba,sa),It(),fe.emit("plotly_relayouting",pe),ba=!0}function It(){pe={},(Ia==="xy"||Ia==="x")&&(N(nt,Tr.l/jt,Tr.r/jt,pe,dr.xaxes),Ha("x",pe)),(Ia==="xy"||Ia==="y")&&(N($e,(Wt-Tr.b)/Wt,(Wt-Tr.t)/Wt,pe,dr.yaxes),Ha("y",pe))}function Zt(){It(),J(fe),an(),te(fe)}var $t=[0,0,jt,Wt],Cr=null,qr=v.REDRAWDELAY,Jr=be.mainplot?fe._fullLayout._plots[be.mainplot]:be;function aa(ft){if(!fe._context._scrollZoom.cartesian&&!fe._fullLayout._enablescrollzoom)return;if(Nt(),fe._transitioningWithDuration){ft.preventDefault(),ft.stopPropagation();return}Xe(),clearTimeout(Cr);var pr=-ft.deltaY;if(isFinite(pr)||(pr=ft.wheelDelta/10),!isFinite(pr)){b.log("Did not find wheel motion attributes: ",ft);return}var Sr=Math.exp(-Math.min(Math.max(pr,-20),20)/200),Er=Jr.draglayer.select(".nsewdrag").node().getBoundingClientRect(),_r=(ft.clientX-Er.left)/Er.width,Mr=(Er.bottom-ft.clientY)/Er.height,Gr;function Fr(pt,Kt,xr){if(pt.fixedrange)return;var Hr=b.simpleMap(pt.range,pt.r2l),fa=Hr[0]+(Hr[1]-Hr[0])*Kt;function xa(_a){return pt.l2r(fa+(_a-fa)*xr)}pt.range=Hr.map(xa)}if(mt){for(rt||(_r=.5),Gr=0;Gr<nt.length;Gr++)Fr(nt[Gr],_r,Sr);Ha("x"),$t[2]*=Sr,$t[0]+=$t[2]*_r*(1/Sr-1)}if(Fe){for(et||(Mr=.5),Gr=0;Gr<$e.length;Gr++)Fr($e[Gr],Mr,Sr);Ha("y"),$t[3]*=Sr,$t[1]+=$t[3]*(1-Mr)*(1/Sr-1)}wa($t),Va(),fe.emit("plotly_relayouting",pe),Cr=setTimeout(function(){fe._fullLayout&&($t=[0,0,jt,Wt],an())},qr),ft.preventDefault()}et.length*rt.length!==1&&re(xt,aa);function Ca(ft,pr){if(ft=ft*Te,pr=pr*Ue,fe._transitioningWithDuration)return;if(fe._fullLayout._replotting=!0,Dr==="ew"||hr==="ns"){var Sr=Dr?-ft:0,Er=hr?-pr:0;if(vr.isSubplotConstrained){if(Dr&&hr){var _r=(ft/jt-pr/Wt)/2;ft=_r*jt,pr=-_r*Wt,Sr=-ft,Er=-pr}hr?Sr=-Er*jt/Wt:Er=-Sr*Wt/jt}Dr&&(U(nt,ft),Ha("x")),hr&&(U($e,pr),Ha("y")),wa([Sr,Er,jt,Wt]),Va(),fe.emit("plotly_relayouting",pe);return}function Mr(xa,_a,Wr){for(var ha=1-_a,jn,tn,Zn=0;Zn<xa.length;Zn++){var ii=xa[Zn];if(!ii.fixedrange){jn=ii,tn=ii._rl[ha]+(ii._rl[_a]-ii._rl[ha])/X(Wr/ii._length);var pi=ii.l2r(tn);pi!==!1&&pi!==void 0&&(ii.range[_a]=pi)}}return jn._length*(jn._rl[_a]-tn)/(jn._rl[_a]-jn._rl[ha])}var Gr=Dr==="w"==(hr==="n")?1:-1;if(Dr&&hr&&(dr.isSubplotConstrained||vr.isSubplotConstrained)){var Fr=(ft/jt+Gr*pr/Wt)/2;ft=Fr*jt,pr=Gr*Fr*Wt}var pt,Kt;if(Dr==="w"?ft=Mr(nt,0,ft):Dr==="e"?ft=Mr(nt,1,-ft):Dr||(ft=0),hr==="n"?pr=Mr($e,1,pr):hr==="s"?pr=Mr($e,0,-pr):hr||(pr=0),pt=Dr==="w"?ft:0,Kt=hr==="n"?pr:0,dr.isSubplotConstrained&&!vr.isSubplotConstrained||vr.isSubplotConstrained&&Dr&&hr&&Gr>0){var xr;if(vr.isSubplotConstrained||!Dr&&hr.length===1){for(xr=0;xr<nt.length;xr++)nt[xr].range=nt[xr]._r.slice(),u(nt[xr],1-pr/Wt);ft=pr*jt/Wt,pt=ft/2}if(vr.isSubplotConstrained||!hr&&Dr.length===1){for(xr=0;xr<$e.length;xr++)$e[xr].range=$e[xr]._r.slice(),u($e[xr],1-ft/jt);pr=ft*Wt/jt,Kt=pr/2}}(!vr.isSubplotConstrained||!hr)&&Ha("x"),(!vr.isSubplotConstrained||!Dr)&&Ha("y");var Hr=jt-ft,fa=Wt-pr;vr.isSubplotConstrained&&!(Dr&&hr)&&(Dr?(Kt=pt?0:ft*Wt/jt,fa=Hr*Wt/jt):(pt=Kt?0:pr*jt/Wt,Hr=fa*jt/Wt)),wa([pt,Kt,Hr,fa]),Va(),fe.emit("plotly_relayouting",pe)}function Ha(ft,pr){for(var Sr=vr.isSubplotConstrained?{x:$e,y:nt}[ft]:vr[ft+"axes"],Er=vr.isSubplotConstrained?{x:nt,y:$e}[ft]:[],_r=0;_r<Sr.length;_r++){var Mr=Sr[_r],Gr=Mr._id,Fr=vr.xLinks[Gr]||vr.yLinks[Gr],pt=Er[0]||De[Fr]||tt[Fr];pt&&(pr?(pr[Mr._name+".range[0]"]=pr[pt._name+".range[0]"],pr[Mr._name+".range[1]"]=pr[pt._name+".range[1]"]):Mr.range=pt.range.slice())}}function Va(){var ft=[],pr;function Sr(Gr){for(pr=0;pr<Gr.length;pr++)Gr[pr].fixedrange||ft.push(Gr[pr]._id)}function Er(Gr,Fr){for(pr=0;pr<Gr.length;pr++){var pt=Gr[pr],Kt=pt[Fr];!pt.fixedrange&&Kt.tickmode==="sync"&&ft.push(Kt._id)}}for(mt&&(Sr(nt),Sr(dr.xaxes),Sr(vr.xaxes),Er(be.overlays,"xaxis")),Fe&&(Sr($e),Sr(dr.yaxes),Sr(vr.yaxes),Er(be.overlays,"yaxis")),pe={},pr=0;pr<ft.length;pr++){var _r=ft[pr],Mr=M(fe,_r);s.drawOne(fe,Mr,{skipTitle:!0}),pe[Mr._name+".range[0]"]=Mr.range[0],pe[Mr._name+".range[1]"]=Mr.range[1]}s.redrawComponents(fe,ft)}function Za(){if(!fe._transitioningWithDuration){var ft=fe._context.doubleClick,pr=[];Dr&&(pr=pr.concat(nt)),hr&&(pr=pr.concat($e)),vr.xaxes&&(pr=pr.concat(vr.xaxes)),vr.yaxes&&(pr=pr.concat(vr.yaxes));var Sr={},Er,_r;if(ft==="reset+autosize")for(ft="autosize",_r=0;_r<pr.length;_r++){Er=pr[_r];var Mr=Er._rangeInitial0,Gr=Er._rangeInitial1,Fr=Mr!==void 0||Gr!==void 0;if(Fr&&(Mr!==void 0&&Mr!==Er.range[0]||Gr!==void 0&&Gr!==Er.range[1])||!Fr&&Er.autorange!==!0){ft="reset";break}}if(ft==="autosize")for(_r=0;_r<pr.length;_r++)Er=pr[_r],Er.fixedrange||(Sr[Er._name+".autorange"]=!0);else if(ft==="reset"){for((Dr||dr.isSubplotConstrained)&&(pr=pr.concat(dr.xaxes)),hr&&!dr.isSubplotConstrained&&(pr=pr.concat(dr.yaxes)),dr.isSubplotConstrained&&(Dr?hr||(pr=pr.concat($e)):pr=pr.concat(nt)),_r=0;_r<pr.length;_r++)if(Er=pr[_r],!Er.fixedrange){var pt=Er._name,Kt=Er._autorangeInitial;Er._rangeInitial0===void 0&&Er._rangeInitial1===void 0?Sr[pt+".autorange"]=!0:Er._rangeInitial0===void 0?(Sr[pt+".autorange"]=Kt,Sr[pt+".range"]=[null,Er._rangeInitial1]):Er._rangeInitial1===void 0?(Sr[pt+".range"]=[Er._rangeInitial0,null],Sr[pt+".autorange"]=Kt):Sr[pt+".range"]=[Er._rangeInitial0,Er._rangeInitial1]}}fe.emit("plotly_doubleclick",null),t.call("_guiRelayout",fe,Sr)}}function an(){wa([0,0,jt,Wt]),b.syncOrAsync([A.previousPromises,function(){fe._fullLayout._replotting=!1,t.call("_guiRelayout",fe,pe)}],fe)}function wa(ft){var pr=fe._fullLayout,Sr=pr._plots,Er=pr._subplots.cartesian,_r,Mr,Gr,Fr;if(Ae&&t.subplotsRegistry.splom.drag(fe),We){for(_r=0;_r<Er.length;_r++)if(Mr=Sr[Er[_r]],Gr=Mr.xaxis,Fr=Mr.yaxis,Mr._scene){Gr.limitRange&&Gr.limitRange(),Fr.limitRange&&Fr.limitRange();var pt=b.simpleMap(Gr.range,Gr.r2l),Kt=b.simpleMap(Fr.range,Fr.r2l);Mr._scene.update({range:[pt[0],Kt[0],pt[1],Kt[1]]})}}if((Ae||We)&&(m(fe),x(fe)),me){var xr=ft[2]/xe._length,Hr=ft[3]/he._length;for(_r=0;_r<Er.length;_r++){Mr=Sr[Er[_r]],Gr=Mr.xaxis,Fr=Mr.yaxis;var fa=(mt||vr.isSubplotConstrained)&&!Gr.fixedrange&&De[Gr._id],xa=(Fe||vr.isSubplotConstrained)&&!Fr.fixedrange&&tt[Fr._id],_a,Wr,ha,jn;if(fa?(_a=xr,ha=rt||vr.isSubplotConstrained?ft[0]:At(Gr,_a)):vr.xaHash[Gr._id]?(_a=xr,ha=ft[0]*Gr._length/xe._length):vr.yaHash[Gr._id]?(_a=Hr,ha=hr==="ns"?-ft[1]*Gr._length/he._length:At(Gr,_a,{n:"top",s:"bottom"}[hr])):(_a=Nn(Gr,xr,Hr),ha=Wn(Gr,_a)),_a>1&&(Gr.maxallowed!==void 0&&mt===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&mt===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(_a=1,ha=0),xa?(Wr=Hr,jn=et||vr.isSubplotConstrained?ft[1]:At(Fr,Wr)):vr.yaHash[Fr._id]?(Wr=Hr,jn=ft[1]*Fr._length/he._length):vr.xaHash[Fr._id]?(Wr=xr,jn=Dr==="ew"?-ft[0]*Fr._length/xe._length:At(Fr,Wr,{e:"right",w:"left"}[Dr])):(Wr=Nn(Fr,xr,Hr),jn=Wn(Fr,Wr)),Wr>1&&(Fr.maxallowed!==void 0&&Fe===(Fr.range[0]<Fr.range[1]?"n":"s")||Fr.minallowed!==void 0&&Fe===(Fr.range[0]<Fr.range[1]?"s":"n"))&&(Wr=1,jn=0),!(!_a&&!Wr)){_a||(_a=1),Wr||(Wr=1);var tn=Gr._offset-ha/_a,Zn=Fr._offset-jn/Wr;Mr.clipRect.call(i.setTranslate,ha,jn).call(i.setScale,_a,Wr),Mr.plot.call(i.setTranslate,tn,Zn).call(i.setScale,1/_a,1/Wr),(_a!==Mr.xScaleFactor||Wr!==Mr.yScaleFactor)&&(i.setPointGroupScale(Mr.zoomScalePts,_a,Wr),i.setTextPointsScale(Mr.zoomScaleTxt,_a,Wr)),i.hideOutsideRangePoints(Mr.clipOnAxisFalseTraces,Mr),Mr.xScaleFactor=_a,Mr.yScaleFactor=Wr}}}}function Nn(ft,pr,Sr){return ft.fixedrange?0:mt&&dr.xaHash[ft._id]?pr:Fe&&(dr.isSubplotConstrained?dr.xaHash:dr.yaHash)[ft._id]?Sr:0}function Wn(ft,pr){return pr?(ft.range=ft._r.slice(),u(ft,pr),At(ft,pr)):0}function At(ft,pr,Sr){return ft._length*(1-pr)*l[Sr||ft.constraintoward||"middle"]}return xt}function F(fe,be,Me,Ie){var Le=b.ensureSingle(fe.draglayer,be,Me,function(je){je.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",fe.id)});return Le.call(f,Ie),Le.node()}function B(fe,be,Me,Ie,Le,je,et){var rt=F(fe,"rect",be,Me);return h.select(rt).call(i.setRect,Ie,Le,je,et),rt}function O(fe,be){for(var Me=0;Me<fe.length;Me++)if(!fe[Me].fixedrange)return be;return""}function I(fe,be){var Me=fe.range[be],Ie=Math.abs(Me-fe.range[1-be]),Le;return fe.type==="date"?Me:fe.type==="log"?(Le=Math.ceil(Math.max(0,-Math.log(Ie)/Math.LN10))+3,S("."+Le+"g")(Math.pow(10,Me))):(Le=Math.floor(Math.log(Math.abs(Me))/Math.LN10)-Math.floor(Math.log(Ie)/Math.LN10)+4,S("."+String(Le)+"g")(Me))}function N(fe,be,Me,Ie,Le){for(var je=0;je<fe.length;je++){var et=fe[je];if(!et.fixedrange)if(et.rangebreaks){var rt=et._id.charAt(0)==="y",Je=rt?1-be:be,Ze=rt?1-Me:Me;Ie[et._name+".range[0]"]=et.l2r(et.p2l(Je*et._length)),Ie[et._name+".range[1]"]=et.l2r(et.p2l(Ze*et._length))}else{var Ee=et._rl[0],xe=et._rl[1]-Ee;Ie[et._name+".range[0]"]=et.l2r(Ee+xe*be),Ie[et._name+".range[1]"]=et.l2r(Ee+xe*Me)}}if(Le&&Le.length){var he=(be+(1-Me))/2;N(Le,he,1-he,Ie,[])}}function U(fe,be){for(var Me=0;Me<fe.length;Me++){var Ie=fe[Me];if(!Ie.fixedrange){if(Ie.rangebreaks){var Le=0,je=Ie._length,et=Ie.p2l(Le+be)-Ie.p2l(Le),rt=Ie.p2l(je+be)-Ie.p2l(je),Je=(et+rt)/2;Ie.range=[Ie.l2r(Ie._rl[0]-Je),Ie.l2r(Ie._rl[1]-Je)]}else Ie.range=[Ie.l2r(Ie._rl[0]-be/Ie._m),Ie.l2r(Ie._rl[1]-be/Ie._m)];Ie.limitRange&&Ie.limitRange()}}}function X(fe){return 1-(fe>=0?Math.min(fe,.9):1/(1/Math.max(fe,-.3)+3.222))}function ee(fe,be,Me){return fe?fe==="nsew"?Me?"":be==="pan"?"move":"crosshair":fe.toLowerCase()+"-resize":"pointer"}function ue(fe,be,Me,Ie,Le){return fe.append("path").attr("class","zoombox").style({fill:be>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",r(Me,Ie)).attr("d",Le+"Z")}function oe(fe,be,Me){return fe.append("path").attr("class","zoombox-corners").style({fill:a.background,stroke:a.defaultLine,"stroke-width":1,opacity:0}).attr("transform",r(be,Me)).attr("d","M0,0Z")}function le(fe,be,Me,Ie,Le,je){fe.attr("d",Ie+"M"+Me.l+","+Me.t+"v"+Me.h+"h"+Me.w+"v-"+Me.h+"h-"+Me.w+"Z"),V(fe,be,Le,je)}function V(fe,be,Me,Ie){Me||(fe.transition().style("fill",Ie>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),be.transition().style("opacity",1).duration(200))}function J(fe){h.select(fe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function te(fe){L&&fe.data&&fe._context.showTips&&(b.notifier(b._(fe,"Double-click to zoom back out"),"long"),L=!1)}function Z(fe,be){return"M"+(fe.l-.5)+","+(be-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(fe.r+.5)+","+(be-R-.5)+"h3v"+(2*R+1)+"h-3Z"}function se(fe,be){return"M"+(be-R-.5)+","+(fe.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(be-R-.5)+","+(fe.b+.5)+"v3h"+(2*R+1)+"v-3Z"}function Q(fe){var be=Math.floor(Math.min(fe.b-fe.t,fe.r-fe.l,R)/2);return"M"+(fe.l-3.5)+","+(fe.t-.5+be)+"h3v"+-be+"h"+be+"v-3h-"+(be+3)+"ZM"+(fe.r+3.5)+","+(fe.t-.5+be)+"h-3v"+-be+"h"+-be+"v-3h"+(be+3)+"ZM"+(fe.r+3.5)+","+(fe.b+.5-be)+"h-3v"+be+"h"+-be+"v3h"+(be+3)+"ZM"+(fe.l-3.5)+","+(fe.b+.5-be)+"h3v"+be+"h"+be+"v3h-"+(be+3)+"Z"}function q(fe,be,Me,Ie,Le){for(var je=!1,et={},rt={},Je,Ze,Ee,xe,he=(Le||{}).xaHash,De=(Le||{}).yaHash,tt=0;tt<be.length;tt++){var nt=be[tt];for(Je in Me)if(nt[Je]){for(Ee in nt)!(Le&&(he[Ee]||De[Ee]))&&!(Ee.charAt(0)==="x"?Me:Ie)[Ee]&&(et[Ee]=Je);for(Ze in Ie)!(Le&&(he[Ze]||De[Ze]))&&nt[Ze]&&(je=!0)}for(Ze in Ie)if(nt[Ze])for(xe in nt)!(Le&&(he[xe]||De[xe]))&&!(xe.charAt(0)==="x"?Me:Ie)[xe]&&(rt[xe]=Ze)}je&&(b.extendFlat(et,rt),rt={});var $e={},Et=[];for(Ee in et){var Ct=M(fe,Ee);Et.push(Ct),$e[Ct._id]=Ct}var jt={},Wt=[];for(xe in rt){var dr=M(fe,xe);Wt.push(dr),jt[dr._id]=dr}return{xaHash:$e,yaHash:jt,xaxes:Et,yaxes:Wt,xLinks:et,yLinks:rt,isSubplotConstrained:je}}function re(fe,be){if(!e)fe.onwheel!==void 0?fe.onwheel=be:fe.onmousewheel!==void 0?fe.onmousewheel=be:fe.isAddedWheelEvent||(fe.isAddedWheelEvent=!0,fe.addEventListener("wheel",be,{passive:!1}));else{var Me=fe.onwheel!==void 0?"wheel":"mousewheel";fe._onwheel&&fe.removeEventListener(Me,fe._onwheel),fe._onwheel=be,fe.addEventListener(Me,be,{passive:!1})}}function ae(fe){var be=[];for(var Me in fe)be.push(fe[Me]);return be}G.exports={makeDragBox:z,makeDragger:F,makeRectDragger:B,makeZoombox:ue,makeCorners:oe,updateZoombox:le,xyCorners:Q,transitionZoombox:V,removeZoombox:J,showDoubleClickNotifier:te,attachWheelEventHandler:re}}}),Hb=He({"src/plots/cartesian/graph_interact.js"(Y){var G=_i(),h=kc(),b=kh(),S=Av(),E=Gb().makeDragBox,e=Yf().DRAGGERSIZE;Y.initInteractions=function(r){var o=r._fullLayout;if(r._context.staticPlot){G.select(r).selectAll(".drag").remove();return}if(!(!o._has("cartesian")&&!o._has("splom"))){var a=Object.keys(o._plots||{}).sort(function(n,s){if((o._plots[n].mainplot&&!0)===(o._plots[s].mainplot&&!0)){var f=n.split("y"),c=s.split("y");return f[0]===c[0]?Number(f[1]||1)-Number(c[1]||1):Number(f[0]||1)-Number(c[0]||1)}return o._plots[n].mainplot?1:-1});a.forEach(function(n){var s=o._plots[n],f=s.xaxis,c=s.yaxis;if(!s.mainplot){var p=E(r,s,f._offset,c._offset,f._length,c._length,"ns","ew");p.onmousemove=function(l){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===n&&r._fullLayout._plots[n]&&h.hover(r,l,n)},h.hover(r,l,n),r._fullLayout._lasthover=p,r._fullLayout._hoversubplot=n},p.onmouseout=function(l){r._dragging||(r._fullLayout._hoversubplot=null,b.unhover(r,l))},r._context.showAxisDragHandles&&(E(r,s,f._offset-e,c._offset-e,e,e,"n","w"),E(r,s,f._offset+f._length,c._offset-e,e,e,"n","e"),E(r,s,f._offset-e,c._offset+c._length,e,e,"s","w"),E(r,s,f._offset+f._length,c._offset+c._length,e,e,"s","e"))}if(r._context.showAxisDragHandles){if(n===f._mainSubplot){var d=f._mainLinePosition;f.side==="top"&&(d-=e),E(r,s,f._offset+f._length*.1,d,f._length*.8,e,"","ew"),E(r,s,f._offset,d,f._length*.1,e,"","w"),E(r,s,f._offset+f._length*.9,d,f._length*.1,e,"","e")}if(n===c._mainSubplot){var T=c._mainLinePosition;c.side!=="right"&&(T-=e),E(r,s,T,c._offset+c._length*.1,e,c._length*.8,"ns",""),E(r,s,T,c._offset+c._length*.9,e,c._length*.1,"s",""),E(r,s,T,c._offset,e,c._length*.1,"n","")}}});var i=o._hoverlayer.node();i.onmousemove=function(n){n.target=r._fullLayout._lasthover,h.hover(r,n,o._hoversubplot)},i.onclick=function(n){n.target=r._fullLayout._lasthover,h.click(r,n)},i.onmousedown=function(n){r._fullLayout._lasthover.onmousedown(n)},Y.updateFx(r)}},Y.updateFx=function(t){var r=t._fullLayout,o=r.dragmode==="pan"?"move":"crosshair";S(r._draggers,o)}}}),FS=He({"src/plot_api/container_array_match.js"(Y,G){var h=ji();G.exports=function(S){for(var E=h.layoutArrayContainers,e=h.layoutArrayRegexes,t=S.split("[")[0],r,o,a=0;a<e.length;a++)if(o=S.match(e[a]),o&&o.index===0){r=o[0];break}if(r||(r=E[E.indexOf(t)]),!r)return!1;var i=S.slice(r.length);return i?(o=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),o?{array:r,index:Number(o[1]),property:o[3]||""}:!1):{array:r,index:"",property:""}}}}),OS=He({"src/plot_api/manage_arrays.js"(Y){var G=fd(),h=Qy(),b=Wd(),S=a1().sorterAsc,E=ji();Y.containerArrayMatch=FS();var e=Y.isAddVal=function(o){return o==="add"||G(o)},t=Y.isRemoveVal=function(o){return o===null||o==="remove"};Y.applyContainerArrayChanges=function(o,a,i,n,s){var f=a.astr,c=E.getComponentMethod(f,"supplyLayoutDefaults"),p=E.getComponentMethod(f,"draw"),d=E.getComponentMethod(f,"drawOne"),T=n.replot||n.recalc||c===h||p===h,l=o.layout,m=o._fullLayout;if(i[""]){Object.keys(i).length>1&&b.warn("Full array edits are incompatible with other edits",f);var x=i[""][""];if(t(x))a.set(null);else if(Array.isArray(x))a.set(x);else return b.warn("Unrecognized full array edit value",f,x),!0;return T?!1:(c(l,m),p(o),!0)}var A=Object.keys(i).map(Number).sort(S),M=a.get(),_=M||[],w=s(m,f).get(),g=[],u=-1,v=_.length,y,R,L,z,F,B,O,I;for(y=0;y<A.length;y++){if(L=A[y],z=i[L],F=Object.keys(z),B=z[""],O=e(B),L<0||L>_.length-(O?0:1)){b.warn("index out of range",f,L);continue}if(B!==void 0)F.length>1&&b.warn("Insertion & removal are incompatible with edits to the same index.",f,L),t(B)?g.push(L):O?(B==="add"&&(B={}),_.splice(L,0,B),w&&w.splice(L,0,{})):b.warn("Unrecognized full object edit value",f,L,B),u===-1&&(u=L);else for(R=0;R<F.length;R++)I=f+"["+L+"].",s(_[L],F[R],I).set(z[F[R]])}for(y=g.length-1;y>=0;y--)_.splice(g[y],1),w&&w.splice(g[y],1);if(_.length?M||a.set(_):a.set(null),T)return!1;if(c(l,m),d!==h){var N;if(u===-1)N=A;else{for(v=Math.max(_.length,v),N=[],y=0;y<A.length&&(L=A[y],!(L>=u));y++)N.push(L);for(y=u;y<v;y++)N.push(y)}for(y=0;y<N.length;y++)d(o,N[y])}else p(o);return!0}}}),BS=He({"src/plot_api/helpers.js"(Y){var G=Ui(),h=ji(),b=ea(),S=nc(),E=Mc(),e=Di(),t=E.cleanId,r=E.getFromTrace,o=h.traceIs,a=["x","y","z"];Y.clearPromiseQueue=function(l){Array.isArray(l._promises)&&l._promises.length>0&&b.log("Clearing previous rejected promises from queue."),l._promises=[]},Y.cleanLayout=function(l){var m;l||(l={}),l.xaxis1&&(l.xaxis||(l.xaxis=l.xaxis1),delete l.xaxis1),l.yaxis1&&(l.yaxis||(l.yaxis=l.yaxis1),delete l.yaxis1),l.scene1&&(l.scene||(l.scene=l.scene1),delete l.scene1);var x=(S.subplotsRegistry.cartesian||{}).attrRegex;(S.subplotsRegistry.polar||{}).attrRegex,(S.subplotsRegistry.ternary||{}).attrRegex,(S.subplotsRegistry.gl3d||{}).attrRegex;var A=Object.keys(l);for(m=0;m<A.length;m++){var M=A[m];if(x&&x.test(M)){var _=l[M];_.anchor&&_.anchor!=="free"&&(_.anchor=t(_.anchor)),_.overlaying&&(_.overlaying=t(_.overlaying)),_.type||(_.isdate?_.type="date":_.islog?_.type="log":_.isdate===!1&&_.islog===!1&&(_.type="linear")),(_.autorange==="withzero"||_.autorange==="tozero")&&(_.autorange=!0,_.rangemode="tozero"),_.insiderange&&delete _.range,delete _.islog,delete _.isdate,delete _.categories,c(_,"domain")&&delete _.domain}}var w=Array.isArray(l.annotations)?l.annotations.length:0;for(m=0;m<w;m++){var g=l.annotations[m];b.isPlainObject(g)&&(i(g,"xref"),i(g,"yref"))}var u=Array.isArray(l.shapes)?l.shapes.length:0;for(m=0;m<u;m++){var v=l.shapes[m];b.isPlainObject(v)&&(i(v,"xref"),i(v,"yref"))}var y=Array.isArray(l.images)?l.images.length:0;for(m=0;m<y;m++){var R=l.images[m];b.isPlainObject(R)&&(i(R,"xref"),i(R,"yref"))}var L=l.legend;return L&&(L.x>3?(L.x=1.02,L.xanchor="left"):L.x<-2&&(L.x=-.02,L.xanchor="right"),L.y>3?(L.y=1.02,L.yanchor="bottom"):L.y<-2&&(L.y=-.02,L.yanchor="top")),l.dragmode==="rotate"&&(l.dragmode="orbit"),e.clean(l),l.template&&l.template.layout&&Y.cleanLayout(l.template.layout),l};function i(l,m){var x=l[m],A=m.charAt(0);x&&x!=="paper"&&(l[m]=t(x,A,!0))}Y.cleanData=function(l){for(var m=0;m<l.length;m++){var x=l[m],A;if(x.type==="histogramy"&&"xbins"in x&&!("ybins"in x)&&(x.ybins=x.xbins,delete x.xbins),x.type==="histogramy"&&Y.swapXYData(x),(x.type==="histogramx"||x.type==="histogramy")&&(x.type="histogram"),"scl"in x&&!("colorscale"in x)&&(x.colorscale=x.scl,delete x.scl),"reversescl"in x&&!("reversescale"in x)&&(x.reversescale=x.reversescl,delete x.reversescl),x.xaxis&&(x.xaxis=t(x.xaxis,"x")),x.yaxis&&(x.yaxis=t(x.yaxis,"y")),o(x,"gl3d")&&x.scene&&(x.scene=S.subplotsRegistry.gl3d.cleanId(x.scene)),!o(x,"pie-like")&&!o(x,"bar-like"))if(Array.isArray(x.textposition))for(A=0;A<x.textposition.length;A++)x.textposition[A]=f(x.textposition[A]);else x.textposition&&(x.textposition=f(x.textposition));var M=h.getModule(x);if(M&&M.colorbar){var _=M.colorbar.container,w=_?x[_]:x;w&&w.colorscale&&(w.colorscale==="YIGnBu"&&(w.colorscale="YlGnBu"),w.colorscale==="YIOrRd"&&(w.colorscale="YlOrRd"))}if(x.type==="surface"&&b.isPlainObject(x.contours)){var g=["x","y","z"];for(A=0;A<g.length;A++){var u=x.contours[g[A]];b.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}}if(x.type==="candlestick"||x.type==="ohlc"){var v=(x.increasing||{}).showlegend!==!1,y=(x.decreasing||{}).showlegend!==!1,R=n(x.increasing),L=n(x.decreasing);if(R!==!1&&L!==!1){var z=s(R,L,v,y);z&&(x.name=z)}else(R||L)&&!x.name&&(x.name=R||L)}c(x,"line")&&delete x.line,"marker"in x&&(c(x.marker,"line")&&delete x.marker.line,c(x,"marker")&&delete x.marker),e.clean(x),x.autobinx&&(delete x.autobinx,delete x.xbins),x.autobiny&&(delete x.autobiny,delete x.ybins)}};function n(l){if(!b.isPlainObject(l))return!1;var m=l.name;return delete l.name,delete l.showlegend,(typeof m=="string"||typeof m=="number")&&String(m)}function s(l,m,x,A){if(x&&!A)return l;if(A&&!x||!l.trim())return m;if(!m.trim())return l;var M=Math.min(l.length,m.length),_;for(_=0;_<M&&l.charAt(_)===m.charAt(_);_++);var w=l.slice(0,_);return w.trim()}function f(l){var m="middle",x="center";return typeof l=="string"&&(l.indexOf("top")!==-1?m="top":l.indexOf("bottom")!==-1&&(m="bottom"),l.indexOf("left")!==-1?x="left":l.indexOf("right")!==-1&&(x="right")),m+" "+x}function c(l,m){return m in l&&typeof l[m]=="object"&&Object.keys(l[m]).length===0}Y.swapXYData=function(l){var m;if(b.swapAttrs(l,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(l.z)&&Array.isArray(l.z[0])&&(l.transpose?delete l.transpose:l.transpose=!0),l.error_x&&l.error_y){var x=l.error_y,A="copy_ystyle"in x?x.copy_ystyle:!(x.color||x.thickness||x.width);b.swapAttrs(l,["error_?.copy_ystyle"]),A&&b.swapAttrs(l,["error_?.color","error_?.thickness","error_?.width"])}if(typeof l.hoverinfo=="string"){var M=l.hoverinfo.split("+");for(m=0;m<M.length;m++)M[m]==="x"?M[m]="y":M[m]==="y"&&(M[m]="x");l.hoverinfo=M.join("+")}},Y.coerceTraceIndices=function(l,m){if(G(m))return[m];if(!Array.isArray(m)||!m.length)return l.data.map(function(M,_){return _});if(Array.isArray(m)){for(var x=[],A=0;A<m.length;A++)b.isIndex(m[A],l.data.length)?x.push(m[A]):b.warn("trace index (",m[A],") is not a number or is out of bounds");return x}return m},Y.manageArrayContainers=function(l,m,x){var A=l.obj,M=l.parts,_=M.length,w=M[_-1],g=G(w);if(g&&m===null){var u=M.slice(0,_-1).join("."),v=b.nestedProperty(A,u).get();v.splice(w,1)}else g&&l.get()===void 0&&l.get()===void 0&&(x[l.astr]=null),l.set(m)};var p=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function d(l){var m=l.search(p);if(m>0)return l.slice(0,m)}Y.hasParent=function(l,m){for(var x=d(m);x;){if(x in l)return!0;x=d(x)}return!1},Y.clearAxisTypes=function(l,m,x){for(var A=0;A<m.length;A++)for(var M=l._fullData[A],_=0;_<3;_++){var w=r(l,M,a[_]);if(w&&w.type!=="log"){var g=w._name,u=w._id.slice(1);if(u.slice(0,5)==="scene"){if(x[u]!==void 0)continue;g=u+"."+g}var v=g+".type";x[g]===void 0&&x[v]===void 0&&b.nestedProperty(l.layout,v).set(null)}}};var T=(l,m)=>{const x=(...A)=>A.every(M=>b.isPlainObject(M))||A.every(M=>Array.isArray(M));if([l,m].every(A=>Array.isArray(A))){if(l.length!==m.length)return!1;for(let A=0;A<l.length;A++){const M=l[A],_=m[A];if(M!==_&&!(x(M,_)?T(M,_):!1))return!1}return!0}else if([l,m].every(A=>b.isPlainObject(A))){if(Object.keys(l).length!==Object.keys(m).length)return!1;for(const A in l){if(A.startsWith("_"))continue;const M=l[A],_=m[A];if(M!==_&&!(x(M,_)?T(M,_):!1))return!1}return!0}return!1};Y.collectionsAreEqual=T}}),p1=He({"src/plot_api/plot_api.js"(Y){var G=_i(),h=Ui(),b=yb(),S=ea(),E=S.nestedProperty,e=U0(),t=rS(),r=ji(),o=j0(),a=nc(),i=Ao(),n=Mb(),s=oh(),f=Io(),c=Di(),p=Hb().initInteractions,d=rv(),T=Xc().clearOutline,l=Pp().dfltConfig,m=OS(),x=BS(),A=om(),M=Zu(),_=Yf().AX_NAME_PATTERN,w=0,g=5;function u(Ae,me,pe,Te){var Ue;if(Ae=S.getGraphDiv(Ae),e.init(Ae),S.isPlainObject(me)){var Xe=me;me=Xe.data,pe=Xe.layout,Te=Xe.config,Ue=Xe.frames}var bt=e.triggerHandler(Ae,"plotly_beforeplot",[me,pe,Te]);if(bt===!1)return Promise.reject();!me&&!pe&&!S.isPlotDiv(Ae)&&S.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Ae);function xt(){if(Ue)return Y.addFrames(Ae,Ue)}z(Ae,Te),pe||(pe={}),G.select(Ae).classed("js-plotly-plot",!0),f.makeTester(),Array.isArray(Ae._promises)||(Ae._promises=[]);var Mt=(Ae.data||[]).length===0&&Array.isArray(me);Array.isArray(me)&&(x.cleanData(me),Mt?Ae.data=me:Ae.data.push.apply(Ae.data,me),Ae.empty=!1),(!Ae.layout||Mt)&&(Ae.layout=x.cleanLayout(pe)),a.supplyDefaults(Ae);var Nt=Ae._fullLayout,sr=Nt._has("cartesian");Nt._replotting=!0,(Mt||Nt._shouldCreateBgLayer)&&(We(Ae),Nt._shouldCreateBgLayer&&delete Nt._shouldCreateBgLayer),f.initGradients(Ae),f.initPatterns(Ae),Mt&&i.saveShowSpikeInitial(Ae);var ar=!Ae.calcdata||Ae.calcdata.length!==(Ae._fullData||[]).length;ar&&a.doCalcdata(Ae);for(var tr=0;tr<Ae.calcdata.length;tr++)Ae.calcdata[tr][0].trace=Ae._fullData[tr];Ae._context.responsive?Ae._responsiveChartHandler||(Ae._responsiveChartHandler=function(){S.isHidden(Ae)||a.resize(Ae)},window.addEventListener("resize",Ae._responsiveChartHandler)):S.clearResponsive(Ae);var Tr=S.extendFlat({},Nt._size),sa=0;function Ea(){for(var It=Nt._basePlotModules,Zt=0;Zt<It.length;Zt++)It[Zt].drawFramework&&It[Zt].drawFramework(Ae);!Nt._glcanvas&&Nt._has("gl")&&(Nt._glcanvas=Nt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Jr){return Jr.key}),Nt._glcanvas.enter().append("canvas").attr("class",function(Jr){return"gl-canvas gl-canvas-"+Jr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $t=Ae._context.plotGlPixelRatio;if(Nt._glcanvas){Nt._glcanvas.attr("width",Nt.width*$t).attr("height",Nt.height*$t).style("width",Nt.width+"px").style("height",Nt.height+"px");var Cr=Nt._glcanvas.data()[0].regl;if(Cr&&(Math.floor(Nt.width*$t)!==Cr._gl.drawingBufferWidth||Math.floor(Nt.height*$t)!==Cr._gl.drawingBufferHeight)){var qr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(sa)S.error(qr);else return S.log(qr+" Clearing graph and plotting again."),a.cleanPlot([],{},Ae._fullData,Nt),a.supplyDefaults(Ae),Nt=Ae._fullLayout,a.doCalcdata(Ae),sa++,Ea()}}return Nt.modebar.orientation==="h"?Nt._modebardiv.style("height",null).style("width","100%"):Nt._modebardiv.style("width",null).style("height",Nt.height+"px"),a.previousPromises(Ae)}function ba(){if(a.clearAutoMarginIds(Ae),A.drawMarginPushers(Ae),i.allowAutoMargin(Ae),Ae._fullLayout.title.text&&Ae._fullLayout.title.automargin&&a.allowAutoMargin(Ae,"title.automargin"),Nt._has("pie"))for(var It=Ae._fullData,Zt=0;Zt<It.length;Zt++){var $t=It[Zt];$t.type==="pie"&&$t.automargin&&a.allowAutoMargin(Ae,"pie."+$t.uid+".automargin")}return a.doAutoMargin(Ae),a.previousPromises(Ae)}function Ia(){if(a.didMarginChange(Tr,Nt._size))return S.syncOrAsync([ba,A.layoutStyles],Ae)}function Ra(){if(!ar){ya();return}return S.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),ya],Ae)}function ya(){Ae._transitioning||(A.doAutoRangeAndConstraints(Ae),Mt&&i.saveRangeInitial(Ae),r.getComponentMethod("rangeslider","calcAutorange")(Ae))}function rn(){return i.draw(Ae,Mt?"":"redraw")}var mn=[a.previousPromises,xt,Ea,ba,Ia];sr&&mn.push(Ra),mn.push(A.layoutStyles),sr&&mn.push(rn,function(Zt){var $t=Zt._fullLayout._insideTickLabelsUpdaterange;if($t)return Zt._fullLayout._insideTickLabelsUpdaterange=void 0,be(Zt,$t).then(function(){i.saveRangeInitial(Zt,!0)})}),mn.push(A.drawData,A.finalDraw,p,a.addLinks,a.rehover,a.redrag,a.reselect,a.doAutoMargin,a.previousPromises);var Yt=S.syncOrAsync(mn,Ae);return(!Yt||!Yt.then)&&(Yt=Promise.resolve()),Yt.then(function(){return v(Ae),Ae})}function v(Ae){var me=Ae._fullLayout;me._redrawFromAutoMarginCount?me._redrawFromAutoMarginCount--:Ae.emit("plotly_afterplot")}function y(Ae){return S.extendFlat(l,Ae)}function R(Ae,me){try{Ae._fullLayout._paper.style("background",me)}catch(pe){S.error(pe)}}function L(Ae,me){var pe=c.combine(me,"white");R(Ae,pe)}function z(Ae,me){if(!Ae._context){Ae._context=S.extendDeep({},l);var pe=G.select("base");Ae._context._baseUrl=pe.size()&&pe.attr("href")?window.location.href.split("#")[0]:""}var Te=Ae._context,Ue,Xe,bt;if(me){for(Xe=Object.keys(me),Ue=0;Ue<Xe.length;Ue++)bt=Xe[Ue],!(bt==="editable"||bt==="edits")&&bt in Te&&(bt==="setBackground"&&me[bt]==="opaque"?Te[bt]=L:Te[bt]=me[bt]);var xt=me.editable;if(xt!==void 0)for(Te.editable=xt,Xe=Object.keys(Te.edits),Ue=0;Ue<Xe.length;Ue++)Te.edits[Xe[Ue]]=xt;if(me.edits)for(Xe=Object.keys(me.edits),Ue=0;Ue<Xe.length;Ue++)bt=Xe[Ue],bt in Te.edits&&(Te.edits[bt]=me.edits[bt]);Te._exportedPlot=me._exportedPlot}Te.staticPlot&&(Te.editable=!1,Te.edits={},Te.autosizable=!1,Te.scrollZoom=!1,Te.doubleClick=!1,Te.showTips=!1,Te.showLink=!1,Te.displayModeBar=!1),Te.displayModeBar==="hover"&&!b&&(Te.displayModeBar=!0),(Te.setBackground==="transparent"||typeof Te.setBackground!="function")&&(Te.setBackground=R),Te._hasZeroHeight=Te._hasZeroHeight||Ae.clientHeight===0,Te._hasZeroWidth=Te._hasZeroWidth||Ae.clientWidth===0;var Mt=Te.scrollZoom,Nt=Te._scrollZoom={};if(Mt===!0)Nt.cartesian=1,Nt.gl3d=1,Nt.geo=1,Nt.mapbox=1,Nt.map=1;else if(typeof Mt=="string"){var sr=Mt.split("+");for(Ue=0;Ue<sr.length;Ue++)Nt[sr[Ue]]=1}else Mt!==!1&&(Nt.gl3d=1,Nt.geo=1,Nt.mapbox=1,Nt.map=1)}function F(Ae){if(Ae=S.getGraphDiv(Ae),!S.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae);return x.cleanData(Ae.data),x.cleanLayout(Ae.layout),Ae.calcdata=void 0,Y._doPlot(Ae).then(function(){return Ae.emit("plotly_redraw"),Ae})}function B(Ae,me,pe,Te){return Ae=S.getGraphDiv(Ae),a.cleanPlot([],{},Ae._fullData||[],Ae._fullLayout||{}),a.purge(Ae),Y._doPlot(Ae,me,pe,Te)}function O(Ae,me){var pe=me+1,Te=[],Ue,Xe;for(Ue=0;Ue<Ae.length;Ue++)Xe=Ae[Ue],Xe<0?Te.push(pe+Xe):Te.push(Xe);return Te}function I(Ae,me,pe){var Te,Ue;for(Te=0;Te<me.length;Te++){if(Ue=me[Te],Ue!==parseInt(Ue,10))throw new Error("all values in "+pe+" must be integers");if(Ue>=Ae.data.length||Ue<-Ae.data.length)throw new Error(pe+" must be valid indices for gd.data.");if(me.indexOf(Ue,Te+1)>-1||Ue>=0&&me.indexOf(-Ae.data.length+Ue)>-1||Ue<0&&me.indexOf(Ae.data.length+Ue)>-1)throw new Error("each index in "+pe+" must be unique.")}}function N(Ae,me,pe){if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(me)||(me=[me]),I(Ae,me,"currentIndices"),typeof pe<"u"&&!Array.isArray(pe)&&(pe=[pe]),typeof pe<"u"&&I(Ae,pe,"newIndices"),typeof pe<"u"&&me.length!==pe.length)throw new Error("current and new indices must be of equal length.")}function U(Ae,me,pe){var Te,Ue;if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("traces must be defined.");for(Array.isArray(me)||(me=[me]),Te=0;Te<me.length;Te++)if(Ue=me[Te],typeof Ue!="object"||Array.isArray(Ue)||Ue===null)throw new Error("all values in traces array must be non-array objects");if(typeof pe<"u"&&!Array.isArray(pe)&&(pe=[pe]),typeof pe<"u"&&pe.length!==me.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function X(Ae,me,pe,Te){var Ue=S.isPlainObject(Te);if(!Array.isArray(Ae.data))throw new Error("gd.data must be an array");if(!S.isPlainObject(me))throw new Error("update must be a key:value object");if(typeof pe>"u")throw new Error("indices must be an integer or array of integers");I(Ae,pe,"indices");for(var Xe in me){if(!Array.isArray(me[Xe])||me[Xe].length!==pe.length)throw new Error("attribute "+Xe+" must be an array of length equal to indices array length");if(Ue&&(!(Xe in Te)||!Array.isArray(Te[Xe])||Te[Xe].length!==me[Xe].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function ee(Ae,me,pe,Te){var Ue=S.isPlainObject(Te),Xe=[],bt,xt,Mt,Nt,sr;Array.isArray(pe)||(pe=[pe]),pe=O(pe,Ae.data.length-1);for(var ar in me)for(var tr=0;tr<pe.length;tr++){if(bt=Ae.data[pe[tr]],Mt=E(bt,ar),xt=Mt.get(),Nt=me[ar][tr],!S.isArrayOrTypedArray(Nt))throw new Error("attribute: "+ar+" index: "+tr+" must be an array");if(!S.isArrayOrTypedArray(xt))throw new Error("cannot extend missing or non-array attribute: "+ar);if(xt.constructor!==Nt.constructor)throw new Error("cannot extend array with an array of a different type: "+ar);sr=Ue?Te[ar][tr]:Te,h(sr)||(sr=-1),Xe.push({prop:Mt,target:xt,insert:Nt,maxp:Math.floor(sr)})}return Xe}function ue(Ae,me,pe,Te,Ue){X(Ae,me,pe,Te);for(var Xe=ee(Ae,me,pe,Te),bt={},xt={},Mt=0;Mt<Xe.length;Mt++){var Nt=Xe[Mt].prop,sr=Xe[Mt].maxp,ar=Ue(Xe[Mt].target,Xe[Mt].insert,sr);Nt.set(ar[0]),Array.isArray(bt[Nt.astr])||(bt[Nt.astr]=[]),bt[Nt.astr].push(ar[1]),Array.isArray(xt[Nt.astr])||(xt[Nt.astr]=[]),xt[Nt.astr].push(Xe[Mt].target.length)}return{update:bt,maxPoints:xt}}function oe(Ae,me){var pe=new Ae.constructor(Ae.length+me.length);return pe.set(Ae),pe.set(me,Ae.length),pe}function le(Ae,me,pe,Te){Ae=S.getGraphDiv(Ae);function Ue(Mt,Nt,sr){var ar,tr;if(S.isTypedArray(Mt))if(sr<0){var Tr=new Mt.constructor(0),sa=oe(Mt,Nt);sr<0?(ar=sa,tr=Tr):(ar=Tr,tr=sa)}else if(ar=new Mt.constructor(sr),tr=new Mt.constructor(Mt.length+Nt.length-sr),sr===Nt.length)ar.set(Nt),tr.set(Mt);else if(sr<Nt.length){var Ea=Nt.length-sr;ar.set(Nt.subarray(Ea)),tr.set(Mt),tr.set(Nt.subarray(0,Ea),Mt.length)}else{var ba=sr-Nt.length,Ia=Mt.length-ba;ar.set(Mt.subarray(Ia)),ar.set(Nt,ba),tr.set(Mt.subarray(0,Ia))}else ar=Mt.concat(Nt),tr=sr>=0&&sr<ar.length?ar.splice(0,ar.length-sr):[];return[ar,tr]}var Xe=ue(Ae,me,pe,Te,Ue),bt=Y.redraw(Ae),xt=[Ae,Xe.update,pe,Xe.maxPoints];return t.add(Ae,Y.prependTraces,xt,le,arguments),bt}function V(Ae,me,pe,Te){Ae=S.getGraphDiv(Ae);function Ue(Mt,Nt,sr){var ar,tr;if(S.isTypedArray(Mt))if(sr<=0){var Tr=new Mt.constructor(0),sa=oe(Nt,Mt);sr<0?(ar=sa,tr=Tr):(ar=Tr,tr=sa)}else if(ar=new Mt.constructor(sr),tr=new Mt.constructor(Mt.length+Nt.length-sr),sr===Nt.length)ar.set(Nt),tr.set(Mt);else if(sr<Nt.length){var Ea=Nt.length-sr;ar.set(Nt.subarray(0,Ea)),tr.set(Nt.subarray(Ea)),tr.set(Mt,Ea)}else{var ba=sr-Nt.length;ar.set(Nt),ar.set(Mt.subarray(0,ba),Nt.length),tr.set(Mt.subarray(ba))}else ar=Nt.concat(Mt),tr=sr>=0&&sr<ar.length?ar.splice(sr,ar.length):[];return[ar,tr]}var Xe=ue(Ae,me,pe,Te,Ue),bt=Y.redraw(Ae),xt=[Ae,Xe.update,pe,Xe.maxPoints];return t.add(Ae,Y.extendTraces,xt,V,arguments),bt}function J(Ae,me,pe){Ae=S.getGraphDiv(Ae);var Te=[],Ue=Y.deleteTraces,Xe=J,bt=[Ae,Te],xt=[Ae,me],Mt,Nt;for(U(Ae,me,pe),Array.isArray(me)||(me=[me]),me=me.map(function(sr){return S.extendFlat({},sr)}),x.cleanData(me),Mt=0;Mt<me.length;Mt++)Ae.data.push(me[Mt]);for(Mt=0;Mt<me.length;Mt++)Te.push(-me.length+Mt);if(typeof pe>"u")return Nt=Y.redraw(Ae),t.add(Ae,Ue,bt,Xe,xt),Nt;Array.isArray(pe)||(pe=[pe]);try{N(Ae,Te,pe)}catch(sr){throw Ae.data.splice(Ae.data.length-me.length,me.length),sr}return t.startSequence(Ae),t.add(Ae,Ue,bt,Xe,xt),Nt=Y.moveTraces(Ae,Te,pe),t.stopSequence(Ae),Nt}function te(Ae,me){Ae=S.getGraphDiv(Ae);var pe=[],Te=Y.addTraces,Ue=te,Xe=[Ae,pe,me],bt=[Ae,me],xt,Mt;if(typeof me>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(me)||(me=[me]),I(Ae,me,"indices"),me=O(me,Ae.data.length-1),me.sort(S.sorterDes),xt=0;xt<me.length;xt+=1)Mt=Ae.data.splice(me[xt],1)[0],pe.push(Mt);var Nt=Y.redraw(Ae);return t.add(Ae,Te,Xe,Ue,bt),Nt}function Z(Ae,me,pe){Ae=S.getGraphDiv(Ae);var Te=[],Ue=[],Xe=Z,bt=Z,xt=[Ae,pe,me],Mt=[Ae,me,pe],Nt;if(N(Ae,me,pe),me=Array.isArray(me)?me:[me],typeof pe>"u")for(pe=[],Nt=0;Nt<me.length;Nt++)pe.push(-me.length+Nt);for(pe=Array.isArray(pe)?pe:[pe],me=O(me,Ae.data.length-1),pe=O(pe,Ae.data.length-1),Nt=0;Nt<Ae.data.length;Nt++)me.indexOf(Nt)===-1&&Te.push(Ae.data[Nt]);for(Nt=0;Nt<me.length;Nt++)Ue.push({newIndex:pe[Nt],trace:Ae.data[me[Nt]]});for(Ue.sort(function(ar,tr){return ar.newIndex-tr.newIndex}),Nt=0;Nt<Ue.length;Nt+=1)Te.splice(Ue[Nt].newIndex,0,Ue[Nt].trace);Ae.data=Te;var sr=Y.redraw(Ae);return t.add(Ae,Xe,xt,bt,Mt),sr}function se(Ae,me,pe,Te){Ae=S.getGraphDiv(Ae),x.clearPromiseQueue(Ae);var Ue={};if(typeof me=="string")Ue[me]=pe;else if(S.isPlainObject(me))Ue=S.extendFlat({},me),Te===void 0&&(Te=pe);else return S.warn("Restyle fail.",me,pe,Te),Promise.reject();Object.keys(Ue).length&&(Ae.changed=!0);var Xe=x.coerceTraceIndices(Ae,Te),bt=fe(Ae,Ue,Xe),xt=bt.flags;xt.calc&&(Ae.calcdata=void 0),xt.clearAxisTypes&&x.clearAxisTypes(Ae,Xe,{});var Mt=[];xt.fullReplot?Mt.push(Y._doPlot):(Mt.push(a.previousPromises),a.supplyDefaults(Ae),xt.markerSize&&(a.doCalcdata(Ae),Ie(Mt)),xt.style&&Mt.push(A.doTraceStyle),xt.colorbars&&Mt.push(A.doColorBars),Mt.push(v)),Mt.push(a.rehover,a.redrag,a.reselect),t.add(Ae,se,[Ae,bt.undoit,bt.traces],se,[Ae,bt.redoit,bt.traces]);var Nt=S.syncOrAsync(Mt,Ae);return(!Nt||!Nt.then)&&(Nt=Promise.resolve()),Nt.then(function(){return Ae.emit("plotly_restyle",bt.eventData),Ae})}function Q(Ae){return Ae===void 0?null:Ae}function q(Ae,me){return me?function(pe,Te,Ue){var Xe=E(pe,Te),bt=Xe.set;return Xe.set=function(xt){var Mt=(Ue||"")+Te;re(Mt,Xe.get(),xt,Ae),bt(xt)},Xe}:E}function re(Ae,me,pe,Te){if(Array.isArray(me)||Array.isArray(pe))for(var Ue=Array.isArray(me)?me:[],Xe=Array.isArray(pe)?pe:[],bt=Math.max(Ue.length,Xe.length),xt=0;xt<bt;xt++)re(Ae+"["+xt+"]",Ue[xt],Xe[xt],Te);else if(S.isPlainObject(me)||S.isPlainObject(pe)){var Mt=S.isPlainObject(me)?me:{},Nt=S.isPlainObject(pe)?pe:{},sr=S.extendFlat({},Mt,Nt);for(var ar in sr)re(Ae+"."+ar,Mt[ar],Nt[ar],Te)}else Te[Ae]===void 0&&(Te[Ae]=Q(me))}function ae(Ae,me,pe){for(var Te in pe){var Ue=E(Ae,Te);re(Te,Ue.get(),pe[Te],me)}}function fe(Ae,me,pe){var Te=Ae._fullLayout,Ue=Ae._fullData,Xe=Ae.data,bt=Te._guiEditing,xt=q(Te._preGUI,bt),Mt=S.extendDeepAll({},me),Nt,sr=M.traceFlags(),ar={},tr={},Tr;function sa(){return pe.map(function(){})}function Ea(Kt){var xr=i.id2name(Kt);Tr.indexOf(xr)===-1&&Tr.push(xr)}function ba(Kt){return"LAYOUT"+Kt+".autorange"}function Ia(Kt){return"LAYOUT"+Kt+".range"}function Ra(Kt){for(var xr=Kt;xr<Ue.length;xr++)if(Ue[xr]._input===Xe[Kt])return Ue[xr]}function ya(Kt,xr,Hr){if(Array.isArray(Kt)){Kt.forEach(function(Wr){ya(Wr,xr,Hr)});return}if(!(Kt in me||x.hasParent(me,Kt))){var fa;if(Kt.slice(0,6)==="LAYOUT")fa=xt(Ae.layout,Kt.replace("LAYOUT",""));else{var xa=pe[Hr],_a=Te._tracePreGUI[Ra(xa)._fullInput.uid];fa=q(_a,bt)(Xe[xa],Kt)}Kt in tr||(tr[Kt]=sa()),tr[Kt][Hr]===void 0&&(tr[Kt][Hr]=Q(fa.get())),xr!==void 0&&fa.set(xr)}}function rn(Kt){return function(xr){return Ue[xr][Kt]}}function mn(Kt){return function(xr,Hr){return xr===!1?Ue[pe[Hr]][Kt]:null}}for(var Yt in me){if(x.hasParent(me,Yt))throw new Error("cannot set "+Yt+" and a parent attribute simultaneously");var It=me[Yt],Zt,$t,Cr,qr,Jr,aa;if((Yt==="autobinx"||Yt==="autobiny")&&(Yt=Yt.charAt(Yt.length-1)+"bins",Array.isArray(It)?It=It.map(mn(Yt)):It===!1?It=pe.map(rn(Yt)):It=null),ar[Yt]=It,Yt.slice(0,6)==="LAYOUT"){Cr=xt(Ae.layout,Yt.replace("LAYOUT","")),tr[Yt]=[Q(Cr.get())],Cr.set(Array.isArray(It)?It[0]:It),sr.calc=!0;continue}for(tr[Yt]=sa(),Nt=0;Nt<pe.length;Nt++){Zt=Xe[pe[Nt]],$t=Ra(pe[Nt]);var Ca=Te._tracePreGUI[$t._fullInput.uid];if(Cr=q(Ca,bt)(Zt,Yt),qr=Cr.get(),Jr=Array.isArray(It)?It[Nt%It.length]:It,Jr!==void 0){var Ha=Cr.parts[Cr.parts.length-1],Va=Yt.slice(0,Yt.length-Ha.length-1),Za=Va?Va+".":"",an=Va?E($t,Va).get():$t;if(aa=o.getTraceValObject($t,Cr.parts),aa&&aa.impliedEdits&&Jr!==null)for(var wa in aa.impliedEdits)ya(S.relativeAttr(Yt,wa),aa.impliedEdits[wa],Nt);else if((Ha==="thicknessmode"||Ha==="lenmode")&&qr!==Jr&&(Jr==="fraction"||Jr==="pixels")&&an){var Nn=Te._size,Wn=an.orient,At=Wn==="top"||Wn==="bottom";if(Ha==="thicknessmode"){var ft=At?Nn.h:Nn.w;ya(Za+"thickness",an.thickness*(Jr==="fraction"?1/ft:ft),Nt)}else{var pr=At?Nn.w:Nn.h;ya(Za+"len",an.len*(Jr==="fraction"?1/pr:pr),Nt)}}else if(Yt==="type"&&(Jr==="pie"!=(qr==="pie")||Jr==="funnelarea"!=(qr==="funnelarea"))){var Sr="x",Er="y";(Jr==="bar"||qr==="bar")&&Zt.orientation==="h"&&(Sr="y",Er="x"),S.swapAttrs(Zt,["?","?src"],"labels",Sr),S.swapAttrs(Zt,["d?","?0"],"label",Sr),S.swapAttrs(Zt,["?","?src"],"values",Er),qr==="pie"||qr==="funnelarea"?(E(Zt,"marker.color").set(E(Zt,"marker.colors").get()),Te._pielayer.selectAll("g.trace").remove()):r.traceIs(Zt,"cartesian")&&E(Zt,"marker.colors").set(E(Zt,"marker.color").get())}tr[Yt][Nt]=Q(qr);var _r=["swapxy","swapxyaxes","orientation","orientationaxes"];if(_r.indexOf(Yt)!==-1){if(Yt==="orientation"){Cr.set(Jr);var Mr=Zt.x&&!Zt.y?"h":"v";if((Cr.get()||Mr)===$t.orientation)continue}else Yt==="orientationaxes"&&(Zt.orientation={v:"h",h:"v"}[$t.orientation]);x.swapXYData(Zt),sr.calc=sr.clearAxisTypes=!0}else a.dataArrayContainers.indexOf(Cr.parts[0])!==-1?(x.manageArrayContainers(Cr,Jr,tr),sr.calc=!0):(aa?aa.arrayOk&&!r.traceIs($t,"regl")&&(S.isArrayOrTypedArray(Jr)||S.isArrayOrTypedArray(qr))?sr.calc=!0:M.update(sr,aa):sr.calc=!0,Cr.set(Jr))}}if(["swapxyaxes","orientationaxes"].indexOf(Yt)!==-1&&i.swap(Ae,pe),Yt==="orientationaxes"){var Gr=E(Ae.layout,"hovermode"),Fr=Gr.get();Fr==="x"?Gr.set("y"):Fr==="y"?Gr.set("x"):Fr==="x unified"?Gr.set("y unified"):Fr==="y unified"&&Gr.set("x unified")}if(["orientation","type"].indexOf(Yt)!==-1){for(Tr=[],Nt=0;Nt<pe.length;Nt++){var pt=Xe[pe[Nt]];r.traceIs(pt,"cartesian")&&(Ea(pt.xaxis||"x"),Ea(pt.yaxis||"y"))}ya(Tr.map(ba),!0,0),ya(Tr.map(Ia),[0,1],0)}}return(sr.calc||sr.plot)&&(sr.fullReplot=!0),{flags:sr,undoit:tr,redoit:ar,traces:pe,eventData:S.extendDeepNoArrays([],[Mt,pe])}}function be(Ae,me,pe){Ae=S.getGraphDiv(Ae),x.clearPromiseQueue(Ae);var Te={};if(typeof me=="string")Te[me]=pe;else if(S.isPlainObject(me))Te=S.extendFlat({},me);else return S.warn("Relayout fail.",me,pe),Promise.reject();Object.keys(Te).length&&(Ae.changed=!0);var Ue=rt(Ae,Te),Xe=Ue.flags;Xe.calc&&(Ae.calcdata=void 0);var bt=[a.previousPromises];Xe.layoutReplot?bt.push(A.layoutReplot):Object.keys(Te).length&&(Me(Ae,Xe,Ue)||a.supplyDefaults(Ae),Xe.legend&&bt.push(A.doLegend),Xe.layoutstyle&&bt.push(A.layoutStyles),Xe.axrange&&Ie(bt,Ue.rangesAltered),Xe.ticks&&bt.push(A.doTicksRelayout),Xe.modebar&&bt.push(A.doModeBar),Xe.camera&&bt.push(A.doCamera),Xe.colorbars&&bt.push(A.doColorBars),bt.push(v)),bt.push(a.rehover,a.redrag,a.reselect),t.add(Ae,be,[Ae,Ue.undoit],be,[Ae,Ue.redoit]);var xt=S.syncOrAsync(bt,Ae);return(!xt||!xt.then)&&(xt=Promise.resolve(Ae)),xt.then(function(){return Ae.emit("plotly_relayout",Ue.eventData),Ae})}function Me(Ae,me,pe){var Te=Ae._fullLayout;if(!me.axrange)return!1;for(var Ue in me)if(Ue!=="axrange"&&me[Ue])return!1;var Xe,bt,xt=function(Tr,sa){return S.coerce(Xe,bt,s,Tr,sa)},Mt={};for(var Nt in pe.rangesAltered){var sr=i.id2name(Nt);if(Xe=Ae.layout[sr],bt=Te[sr],n(Xe,bt,xt,Mt),bt._matchGroup){for(var ar in bt._matchGroup)if(ar!==Nt){var tr=Te[i.id2name(ar)];tr.autorange=bt.autorange,tr.range=bt.range.slice(),tr._input.range=bt.range.slice()}}}return!0}function Ie(Ae,me){var pe=me?function(Te){var Ue=[],Xe=!0;for(var bt in me){var xt=i.getFromId(Te,bt);if(Ue.push(bt),(xt.ticklabelposition||"").indexOf("inside")!==-1&&xt._anchorAxis&&Ue.push(xt._anchorAxis._id),xt._matchGroup)for(var Mt in xt._matchGroup)me[Mt]||Ue.push(Mt)}return i.draw(Te,Ue,{skipTitle:Xe})}:function(Te){return i.draw(Te,"redraw")};Ae.push(T,A.doAutoRangeAndConstraints,pe,A.drawData,A.finalDraw)}var Le=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,je=/^[xyz]axis[0-9]*\.autorange$/,et=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function rt(Ae,me){var pe=Ae.layout,Te=Ae._fullLayout,Ue=Te._guiEditing,Xe=q(Te._preGUI,Ue),bt=Object.keys(me),xt=i.list(Ae),Mt=S.extendDeepAll({},me),Nt={},sr,ar,tr;for(bt=Object.keys(me),ar=0;ar<bt.length;ar++)if(bt[ar].indexOf("allaxes")===0){for(tr=0;tr<xt.length;tr++){var Tr=xt[tr]._id.slice(1),sa=Tr.indexOf("scene")!==-1?Tr+".":"",Ea=bt[ar].replace("allaxes",sa+xt[tr]._name);me[Ea]||(me[Ea]=me[bt[ar]])}delete me[bt[ar]]}var ba=M.layoutFlags(),Ia={},Ra={};function ya(_a,Wr){if(Array.isArray(_a)){_a.forEach(function(jn){ya(jn,Wr)});return}if(!(_a in me||x.hasParent(me,_a))){var ha=Xe(pe,_a);_a in Ra||(Ra[_a]=Q(ha.get())),Wr!==void 0&&ha.set(Wr)}}var rn={},mn;function Yt(_a){var Wr=i.name2id(_a.split(".")[0]);return rn[Wr]=1,Wr}for(var It in me){if(x.hasParent(me,It))throw new Error("cannot set "+It+" and a parent attribute simultaneously");for(var Zt=Xe(pe,It),$t=me[It],Cr=Zt.parts.length,qr=Cr-1;qr>0&&typeof Zt.parts[qr]!="string";)qr--;var Jr=Zt.parts[qr],aa=Zt.parts[qr-1]+"."+Jr,Ca=Zt.parts.slice(0,qr).join("."),Ha=E(Ae.layout,Ca).get(),Va=E(Te,Ca).get(),Za=Zt.get();if($t!==void 0){Ia[It]=$t,Ra[It]=Jr==="reverse"?$t:Q(Za);var an=o.getLayoutValObject(Te,Zt.parts);if(an&&an.impliedEdits&&$t!==null)for(var wa in an.impliedEdits)ya(S.relativeAttr(It,wa),an.impliedEdits[wa]);if(["width","height"].indexOf(It)!==-1)if($t){ya("autosize",null);var Nn=It==="height"?"width":"height";ya(Nn,Te[Nn])}else Te[It]=Ae._initialAutoSize[It];else if(It==="autosize")ya("width",$t?null:Te.width),ya("height",$t?null:Te.height);else if(aa.match(Le))Yt(aa),E(Te,Ca+"._inputRange").set(null);else if(aa.match(je)){Yt(aa),E(Te,Ca+"._inputRange").set(null);var Wn=E(Te,Ca).get();Wn._inputDomain&&(Wn._input.domain=Wn._inputDomain.slice())}else aa.match(et)&&E(Te,Ca+"._inputDomain").set(null);if(Jr==="type"){mn=Ha;var At=Va.type==="linear"&&$t==="log",ft=Va.type==="log"&&$t==="linear";if(At||ft){if(!mn||!mn.range)ya(Ca+".autorange",!0);else if(Va.autorange)At&&(mn.range=mn.range[1]>mn.range[0]?[1,2]:[2,1]);else{var pr=mn.range[0],Sr=mn.range[1];At?(pr<=0&&Sr<=0&&ya(Ca+".autorange",!0),pr<=0?pr=Sr/1e6:Sr<=0&&(Sr=pr/1e6),ya(Ca+".range[0]",Math.log(pr)/Math.LN10),ya(Ca+".range[1]",Math.log(Sr)/Math.LN10)):(ya(Ca+".range[0]",Math.pow(10,pr)),ya(Ca+".range[1]",Math.pow(10,Sr)))}Array.isArray(Te._subplots.polar)&&Te._subplots.polar.length&&Te[Zt.parts[0]]&&Zt.parts[1]==="radialaxis"&&delete Te[Zt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Ae,Va,$t,ya),r.getComponentMethod("images","convertCoords")(Ae,Va,$t,ya)}else ya(Ca+".autorange",!0),ya(Ca+".range",null);E(Te,Ca+"._inputRange").set(null)}else if(Jr.match(_)){var Er=E(Te,It).get(),_r=($t||{}).type;(!_r||_r==="-")&&(_r="linear"),r.getComponentMethod("annotations","convertCoords")(Ae,Er,_r,ya),r.getComponentMethod("images","convertCoords")(Ae,Er,_r,ya)}var Mr=m.containerArrayMatch(It);if(Mr){sr=Mr.array,ar=Mr.index;var Gr=Mr.property,Fr=an||{editType:"calc"};ar!==""&&Gr===""&&(m.isAddVal($t)?Ra[It]=null:m.isRemoveVal($t)?Ra[It]=(E(pe,sr).get()||[])[ar]:S.warn("unrecognized full object value",me)),M.update(ba,Fr),Nt[sr]||(Nt[sr]={});var pt=Nt[sr][ar];pt||(pt=Nt[sr][ar]={}),pt[Gr]=$t,delete me[It]}else Jr==="reverse"?(Ha.range?Ha.range.reverse():(ya(Ca+".autorange",!0),Ha.range=[1,0]),Va.autorange?ba.calc=!0:ba.plot=!0):(It==="dragmode"&&($t===!1&&Za!==!1||$t!==!1&&Za===!1)||Te._has("scatter-like")&&Te._has("regl")&&It==="dragmode"&&($t==="lasso"||$t==="select")&&!(Za==="lasso"||Za==="select")?ba.plot=!0:an?M.update(ba,an):ba.calc=!0,Zt.set($t))}}for(sr in Nt){var Kt=m.applyContainerArrayChanges(Ae,Xe(pe,sr),Nt[sr],ba,Xe);Kt||(ba.plot=!0)}for(var xr in rn){mn=i.getFromId(Ae,xr);var Hr=mn&&mn._constraintGroup;if(Hr){ba.calc=!0;for(var fa in Hr)rn[fa]||(i.getFromId(Ae,fa)._constraintShrinkable=!0)}}(Je(Ae)||me.height||me.width)&&(ba.plot=!0);var xa=Te.shapes;for(ar=0;ar<xa.length;ar++)if(xa[ar].showlegend){ba.calc=!0;break}return(ba.plot||ba.calc)&&(ba.layoutReplot=!0),{flags:ba,rangesAltered:rn,undoit:Ra,redoit:Ia,eventData:Mt}}function Je(Ae){var me=Ae._fullLayout,pe=me.width,Te=me.height;return Ae.layout.autosize&&a.plotAutoSize(Ae,Ae.layout,me),me.width!==pe||me.height!==Te}function Ze(Ae,me,pe,Te){Ae=S.getGraphDiv(Ae),x.clearPromiseQueue(Ae),S.isPlainObject(me)||(me={}),S.isPlainObject(pe)||(pe={}),Object.keys(me).length&&(Ae.changed=!0),Object.keys(pe).length&&(Ae.changed=!0);var Ue=x.coerceTraceIndices(Ae,Te),Xe=fe(Ae,S.extendFlat({},me),Ue),bt=Xe.flags,xt=rt(Ae,S.extendFlat({},pe)),Mt=xt.flags;(bt.calc||Mt.calc)&&(Ae.calcdata=void 0),bt.clearAxisTypes&&x.clearAxisTypes(Ae,Ue,pe);var Nt=[];Mt.layoutReplot?Nt.push(A.layoutReplot):bt.fullReplot?Nt.push(Y._doPlot):(Nt.push(a.previousPromises),Me(Ae,Mt,xt)||a.supplyDefaults(Ae),bt.style&&Nt.push(A.doTraceStyle),(bt.colorbars||Mt.colorbars)&&Nt.push(A.doColorBars),Mt.legend&&Nt.push(A.doLegend),Mt.layoutstyle&&Nt.push(A.layoutStyles),Mt.axrange&&Ie(Nt,xt.rangesAltered),Mt.ticks&&Nt.push(A.doTicksRelayout),Mt.modebar&&Nt.push(A.doModeBar),Mt.camera&&Nt.push(A.doCamera),Nt.push(v)),Nt.push(a.rehover,a.redrag,a.reselect),t.add(Ae,Ze,[Ae,Xe.undoit,xt.undoit,Xe.traces],Ze,[Ae,Xe.redoit,xt.redoit,Xe.traces]);var sr=S.syncOrAsync(Nt,Ae);return(!sr||!sr.then)&&(sr=Promise.resolve(Ae)),sr.then(function(){return Ae.emit("plotly_update",{data:Xe.eventData,layout:xt.eventData}),Ae})}function Ee(Ae){return function(pe){pe._fullLayout._guiEditing=!0;var Te=Ae.apply(null,arguments);return pe._fullLayout._guiEditing=!1,Te}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],he=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function De(Ae,me){for(var pe=0;pe<me.length;pe++){var Te=me[pe],Ue=Ae.match(Te.pattern);if(Ue){var Xe=Ue[1]||"";return{head:Xe,tail:Ae.slice(Xe.length+1),attr:Te.attr}}}}function tt(Ae,me){var pe=E(me,Ae).get();if(pe!==void 0)return pe;var Te=Ae.split(".");for(Te.pop();Te.length>1;)if(Te.pop(),pe=E(me,Te.join(".")+".uirevision").get(),pe!==void 0)return pe;return me.uirevision}function nt(Ae,me){for(var pe=0;pe<me.length;pe++)if(me[pe]._fullInput.uid===Ae)return pe;return-1}function $e(Ae,me,pe){for(var Te=0;Te<me.length;Te++)if(me[Te].uid===Ae)return Te;return!me[pe]||me[pe].uid?-1:pe}function Et(Ae,me){var pe=S.isPlainObject(Ae),Te=Array.isArray(Ae);return pe||Te?(pe&&S.isPlainObject(me)||Te&&Array.isArray(me))&&JSON.stringify(Ae)===JSON.stringify(me):Ae===me}function Ct(Ae,me,pe,Te){var Ue=Te._preGUI,Xe,bt,xt,Mt,Nt,sr,ar,tr,Tr,sa,Ea=[],ba={},Ia={};for(Xe in Ue){if(Nt=De(Xe,xe),Nt){if(Tr=Nt.head,sa=Nt.tail,bt=Nt.attr||Tr+".uirevision",xt=E(Te,bt).get(),Mt=xt&&tt(bt,me),Mt&&Mt===xt){if(sr=Ue[Xe],sr===null&&(sr=void 0),ar=E(me,Xe),tr=ar.get(),Et(tr,sr)){tr===void 0&&sa==="autorange"&&Ea.push(Tr),ar.set(Q(E(Te,Xe).get()));continue}else if(sa==="autorange"||sa.slice(0,6)==="range["){var Ra=Ue[Tr+".range[0]"],ya=Ue[Tr+".range[1]"],rn=Ue[Tr+".autorange"];if(rn||rn===null&&Ra===null&&ya===null){if(!(Tr in ba)){var mn=E(me,Tr).get();ba[Tr]=mn&&(mn.autorange||mn.autorange!==!1&&(!mn.range||mn.range.length!==2))}if(ba[Tr]){ar.set(Q(E(Te,Xe).get()));continue}}}}}else S.warn("unrecognized GUI edit: "+Xe);delete Ue[Xe],Nt&&Nt.tail.slice(0,6)==="range["&&(Ia[Nt.head]=1)}for(var Yt=0;Yt<Ea.length;Yt++){var It=Ea[Yt];if(Ia[It]){var Zt=E(me,It).get();Zt&&delete Zt.autorange}}var $t=Te._tracePreGUI;for(var Cr in $t){var qr=$t[Cr],Jr=null,aa;for(Xe in qr){if(!Jr){var Ca=nt(Cr,pe);if(Ca<0){delete $t[Cr];break}var Ha=pe[Ca];aa=Ha._fullInput;var Va=$e(Cr,Ae,aa.index);if(Va<0){delete $t[Cr];break}Jr=Ae[Va]}if(Nt=De(Xe,he),Nt){if(Nt.attr?(xt=E(Te,Nt.attr).get(),Mt=xt&&tt(Nt.attr,me)):(xt=aa.uirevision,Mt=Jr.uirevision,Mt===void 0&&(Mt=me.uirevision)),Mt&&Mt===xt&&(sr=qr[Xe],sr===null&&(sr=void 0),ar=E(Jr,Xe),tr=ar.get(),Et(tr,sr))){ar.set(Q(E(aa,Xe).get()));continue}}else S.warn("unrecognized GUI edit: "+Xe+" in trace uid "+Cr);delete qr[Xe]}}}function jt(Ae,me,pe,Te){var Ue,Xe;function bt(){return Y.addFrames(Ae,Ue)}Ae=S.getGraphDiv(Ae),x.clearPromiseQueue(Ae);var xt=Ae._fullData,Mt=Ae._fullLayout;if(!S.isPlotDiv(Ae)||!xt||!Mt)Xe=Y.newPlot(Ae,me,pe,Te);else{if(S.isPlainObject(me)){var Nt=me;me=Nt.data,pe=Nt.layout,Te=Nt.config,Ue=Nt.frames}var sr=!1;if(Te){const aa=S.extendDeepAll({},Ae._context);Ae._context=void 0,z(Ae,Te),sr=!x.collectionsAreEqual(aa,Ae._context)}if(sr){const aa=Ae._ev.eventNames().map(Ca=>[Ca,Ae._ev.listeners(Ca)]);Xe=Y.newPlot(Ae,me,pe,Te).then(()=>{for(const[Ca,Ha]of aa)Ha.forEach(Va=>Ae.on(Ca,Va));return Y.react(Ae,me,pe,Te)})}else{Ae.data=me||[],x.cleanData(Ae.data),Ae.layout=pe||{},x.cleanLayout(Ae.layout),Ct(Ae.data,Ae.layout,xt,Mt),a.supplyDefaults(Ae,{skipUpdateCalc:!0});var ar=Ae._fullData,tr=Ae._fullLayout,Tr=tr.datarevision===void 0,sa=tr.transition,Ea=dr(Ae,Mt,tr,Tr,sa),ba=Ea.newDataRevision,Ia=Wt(Ae,xt,ar,Tr,sa,ba);if(Je(Ae)&&(Ea.layoutReplot=!0),Ia.calc||Ea.calc){Ae.calcdata=void 0;for(var Ra=Object.getOwnPropertyNames(tr),ya=0;ya<Ra.length;ya++){var rn=Ra[ya],mn=rn.substring(0,5);if(mn==="xaxis"||mn==="yaxis"){var Yt=tr[rn]._emptyCategories;Yt&&Yt()}}}else a.supplyDefaultsUpdateCalc(Ae.calcdata,ar);var It=[];if(Ue&&(Ae._transitionData={},a.createTransitionData(Ae),It.push(bt)),tr.transition&&(Ia.anim||Ea.anim))Ea.ticks&&It.push(A.doTicksRelayout),a.doCalcdata(Ae),A.doAutoRangeAndConstraints(Ae),It.push(function(){return a.transitionFromReact(Ae,Ia,Ea,Mt)});else if(Ia.fullReplot||Ea.layoutReplot)Ae._fullLayout._skipDefaults=!0,It.push(Y._doPlot);else{for(var Zt in Ea.arrays){var $t=Ea.arrays[Zt];if($t.length){var Cr=r.getComponentMethod(Zt,"drawOne");if(Cr!==S.noop)for(var qr=0;qr<$t.length;qr++)Cr(Ae,$t[qr]);else{var Jr=r.getComponentMethod(Zt,"draw");if(Jr===S.noop)throw new Error("cannot draw components: "+Zt);Jr(Ae)}}}It.push(a.previousPromises),Ia.style&&It.push(A.doTraceStyle),(Ia.colorbars||Ea.colorbars)&&It.push(A.doColorBars),Ea.legend&&It.push(A.doLegend),Ea.layoutstyle&&It.push(A.layoutStyles),Ea.axrange&&Ie(It),Ea.ticks&&It.push(A.doTicksRelayout),Ea.modebar&&It.push(A.doModeBar),Ea.camera&&It.push(A.doCamera),It.push(v)}It.push(a.rehover,a.redrag,a.reselect),Xe=S.syncOrAsync(It,Ae),(!Xe||!Xe.then)&&(Xe=Promise.resolve(Ae))}}return Xe.then(()=>(sr||Ae.emit("plotly_react",{config:Te,data:me,layout:pe}),Ae))}function Wt(Ae,me,pe,Te,Ue,Xe){var bt=me.length===pe.length;if(!Ue&&!bt)return{fullReplot:!0,calc:!0};var xt=M.traceFlags();xt.arrays={},xt.nChanges=0,xt.nChangesAnim=0;var Mt,Nt;function sr(Tr){var sa=o.getTraceValObject(Nt,Tr);return!Nt._module.animatable&&sa.anim&&(sa.anim=!1),sa}var ar={getValObject:sr,flags:xt,immutable:Te,transition:Ue,newDataRevision:Xe,gd:Ae},tr={};for(Mt=0;Mt<me.length;Mt++)if(pe[Mt]){if(Nt=pe[Mt]._fullInput,tr[Nt.uid])continue;tr[Nt.uid]=1,vr(me[Mt]._fullInput,Nt,[],ar)}return(xt.calc||xt.plot)&&(xt.fullReplot=!0),Ue&&xt.nChanges&&xt.nChangesAnim&&(xt.anim=xt.nChanges===xt.nChangesAnim&&bt?"all":"some"),xt}function dr(Ae,me,pe,Te,Ue){var Xe=M.layoutFlags();Xe.arrays={},Xe.rangesAltered={},Xe.nChanges=0,Xe.nChangesAnim=0;function bt(tr){return o.getLayoutValObject(pe,tr)}for(var xt in pe)if(!(!xt.startsWith("xaxis")&&!xt.startsWith("yaxis"))&&me[xt]){var Mt=pe[xt].domain,Nt=me[xt].domain,sr=me[xt]._inputDomain;me[xt]._inputDomain&&(Mt[0]===sr[0]&&Mt[1]===sr[1]?pe[xt].domain=me[xt].domain:(Mt[0]!==Nt[0]||Mt[1]!==Nt[1])&&(pe[xt]._inputDomain=null))}var ar={getValObject:bt,flags:Xe,immutable:Te,transition:Ue,gd:Ae};return vr(me,pe,[],ar),(Xe.plot||Xe.calc)&&(Xe.layoutReplot=!0),Ue&&Xe.nChanges&&Xe.nChangesAnim&&(Xe.anim=Xe.nChanges===Xe.nChangesAnim?"all":"some"),Xe}function vr(Ae,me,pe,Te){var Ue,Xe,bt,xt=Te.getValObject,Mt=Te.flags,Nt=Te.immutable,sr=Te.inArray,ar=Te.arrayIndex;function tr(){var Ca=Ue.editType;if(sr&&Ca.indexOf("arraydraw")!==-1){S.pushUnique(Mt.arrays[sr],ar);return}M.update(Mt,Ue),Ca!=="none"&&Mt.nChanges++,Te.transition&&Ue.anim&&Mt.nChangesAnim++,(Le.test(bt)||je.test(bt))&&(Mt.rangesAltered[pe[0]]=1),Xe==="datarevision"&&(Mt.newDataRevision=1)}function Tr(Ca){return Ca.valType==="data_array"||Ca.arrayOk}for(Xe in Ae){if(Mt.calc&&!Te.transition)return;var sa=Ae[Xe],Ea=me[Xe],ba=pe.concat(Xe);if(bt=ba.join("."),!(Xe.charAt(0)==="_"||typeof sa=="function"||sa===Ea)){if((Xe==="tick0"||Xe==="dtick")&&pe[0]!=="geo"){var Ia=me.tickmode;if(Ia==="auto"||Ia==="array"||!Ia)continue}if(!(Xe==="range"&&me.autorange)&&!((Xe==="zmin"||Xe==="zmax")&&me.type==="contourcarpet")&&(Ue=xt(ba),!!Ue&&!(Ue._compareAsJSON&&JSON.stringify(sa)===JSON.stringify(Ea)))){var Ra=Ue.valType,ya,rn=Tr(Ue),mn=Array.isArray(sa),Yt=Array.isArray(Ea);if(mn&&Yt){var It="_input_"+Xe,Zt=Ae[It],$t=me[It];if(Array.isArray(Zt)&&Zt===$t)continue}if(Ea===void 0)rn&&mn?Mt.calc=!0:tr();else if(Ue._isLinkedToArray){var Cr=[],qr=!1;sr||(Mt.arrays[Xe]=Cr);var Jr=Math.min(sa.length,Ea.length),aa=Math.max(sa.length,Ea.length);if(Jr!==aa)if(Ue.editType==="arraydraw")qr=!0;else{tr();continue}for(ya=0;ya<Jr;ya++)vr(sa[ya],Ea[ya],ba.concat(ya),S.extendFlat({inArray:Xe,arrayIndex:ya},Te));if(qr)for(ya=Jr;ya<aa;ya++)Cr.push(ya)}else!Ra&&S.isPlainObject(sa)?vr(sa,Ea,ba,Te):rn?mn&&Yt?(Nt&&(Mt.calc=!0),(Nt||Te.newDataRevision)&&tr()):mn!==Yt?Mt.calc=!0:tr():mn&&Yt?(sa.length!==Ea.length||String(sa)!==String(Ea))&&tr():tr()}}}for(Xe in me)if(!(Xe in Ae||Xe.charAt(0)==="_"||typeof me[Xe]=="function"))if(Ue=xt(pe.concat(Xe)),Tr(Ue)&&Array.isArray(me[Xe])){Mt.calc=!0;return}else tr()}function Dr(Ae,me,pe){if(Ae=S.getGraphDiv(Ae),!S.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Te=Ae._transitionData;Te._frameQueue||(Te._frameQueue=[]),pe=a.supplyAnimationDefaults(pe);var Ue=pe.transition,Xe=pe.frame;Te._frameWaitingCnt===void 0&&(Te._frameWaitingCnt=0);function bt(Nt){return Array.isArray(Ue)?Nt>=Ue.length?Ue[0]:Ue[Nt]:Ue}function xt(Nt){return Array.isArray(Xe)?Nt>=Xe.length?Xe[0]:Xe[Nt]:Xe}function Mt(Nt,sr){var ar=0;return function(){if(Nt&&++ar===sr)return Nt()}}return new Promise(function(Nt,sr){function ar(){if(Te._frameQueue.length!==0){for(;Te._frameQueue.length;){var Jr=Te._frameQueue.pop();Jr.onInterrupt&&Jr.onInterrupt()}Ae.emit("plotly_animationinterrupted",[])}}function tr(Jr){if(Jr.length!==0){for(var aa=0;aa<Jr.length;aa++){var Ca;Jr[aa].type==="byname"?Ca=a.computeFrame(Ae,Jr[aa].name):Ca=Jr[aa].data;var Ha=xt(aa),Va=bt(aa);Va.duration=Math.min(Va.duration,Ha.duration);var Za={frame:Ca,name:Jr[aa].name,frameOpts:Ha,transitionOpts:Va};aa===Jr.length-1&&(Za.onComplete=Mt(Nt,2),Za.onInterrupt=sr),Te._frameQueue.push(Za)}pe.mode==="immediate"&&(Te._lastFrameAt=-1/0),Te._animationRaf||Ea()}}function Tr(){Ae.emit("plotly_animated"),window.cancelAnimationFrame(Te._animationRaf),Te._animationRaf=null}function sa(){Te._currentFrame&&Te._currentFrame.onComplete&&Te._currentFrame.onComplete();var Jr=Te._currentFrame=Te._frameQueue.shift();if(Jr){var aa=Jr.name?Jr.name.toString():null;Ae._fullLayout._currentFrame=aa,Te._lastFrameAt=Date.now(),Te._timeToNext=Jr.frameOpts.duration,a.transition(Ae,Jr.frame.data,Jr.frame.layout,x.coerceTraceIndices(Ae,Jr.frame.traces),Jr.frameOpts,Jr.transitionOpts).then(function(){Jr.onComplete&&Jr.onComplete()}),Ae.emit("plotly_animatingframe",{name:aa,frame:Jr.frame,animation:{frame:Jr.frameOpts,transition:Jr.transitionOpts}})}else Tr()}function Ea(){Ae.emit("plotly_animating"),Te._lastFrameAt=-1/0,Te._timeToNext=0,Te._runningTransitions=0,Te._currentFrame=null;var Jr=function(){Te._animationRaf=window.requestAnimationFrame(Jr),Date.now()-Te._lastFrameAt>Te._timeToNext&&sa()};Jr()}var ba=0;function Ia(Jr){return Array.isArray(Ue)?ba>=Ue.length?Jr.transitionOpts=Ue[ba]:Jr.transitionOpts=Ue[0]:Jr.transitionOpts=Ue,ba++,Jr}var Ra,ya,rn=[],mn=me==null,Yt=Array.isArray(me),It=!mn&&!Yt&&S.isPlainObject(me);if(It)rn.push({type:"object",data:Ia(S.extendFlat({},me))});else if(mn||["string","number"].indexOf(typeof me)!==-1)for(Ra=0;Ra<Te._frames.length;Ra++)ya=Te._frames[Ra],ya&&(mn||String(ya.group)===String(me))&&rn.push({type:"byname",name:String(ya.name),data:Ia({name:ya.name})});else if(Yt)for(Ra=0;Ra<me.length;Ra++){var Zt=me[Ra];["number","string"].indexOf(typeof Zt)!==-1?(Zt=String(Zt),rn.push({type:"byname",name:Zt,data:Ia({name:Zt})})):S.isPlainObject(Zt)&&rn.push({type:"object",data:Ia(S.extendFlat({},Zt))})}for(Ra=0;Ra<rn.length;Ra++)if(ya=rn[Ra],ya.type==="byname"&&!Te._frameHash[ya.data.name]){S.warn('animate failure: frame not found: "'+ya.data.name+'"'),sr();return}["next","immediate"].indexOf(pe.mode)!==-1&&ar(),pe.direction==="reverse"&&rn.reverse();var $t=Ae._fullLayout._currentFrame;if($t&&pe.fromcurrent){var Cr=-1;for(Ra=0;Ra<rn.length;Ra++)if(ya=rn[Ra],ya.type==="byname"&&ya.name===$t){Cr=Ra;break}if(Cr>0&&Cr<rn.length-1){var qr=[];for(Ra=0;Ra<rn.length;Ra++)ya=rn[Ra],(rn[Ra].type!=="byname"||Ra>Cr)&&qr.push(ya);rn=qr}}rn.length>0?tr(rn):(Ae.emit("plotly_animated"),Nt())})}function hr(Ae,me,pe){if(Ae=S.getGraphDiv(Ae),me==null)return Promise.resolve();if(!S.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Te,Ue,Xe,bt,xt=Ae._transitionData._frames,Mt=Ae._transitionData._frameHash;if(!Array.isArray(me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+me);var Nt=xt.length+me.length*2,sr=[],ar={};for(Te=me.length-1;Te>=0;Te--)if(S.isPlainObject(me[Te])){var tr=me[Te].name,Tr=(Mt[tr]||ar[tr]||{}).name,sa=me[Te].name,Ea=Mt[Tr]||ar[Tr];Tr&&sa&&typeof sa=="number"&&Ea&&w<g&&(w++,S.warn('addFrames: overwriting frame "'+(Mt[Tr]||ar[Tr]).name+'" with a frame whose name of type "number" also equates to "'+Tr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),w===g&&S.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),ar[tr]={name:tr},sr.push({frame:a.supplyFrameDefaults(me[Te]),index:pe&&pe[Te]!==void 0&&pe[Te]!==null?pe[Te]:Nt+Te})}sr.sort(function(It,Zt){return It.index>Zt.index?-1:It.index<Zt.index?1:0});var ba=[],Ia=[],Ra=xt.length;for(Te=sr.length-1;Te>=0;Te--){if(Ue=sr[Te].frame,typeof Ue.name=="number"&&S.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ue.name)for(;Mt[Ue.name="frame "+Ae._transitionData._counter++];);if(Mt[Ue.name]){for(Xe=0;Xe<xt.length&&(xt[Xe]||{}).name!==Ue.name;Xe++);ba.push({type:"replace",index:Xe,value:Ue}),Ia.unshift({type:"replace",index:Xe,value:xt[Xe]})}else bt=Math.max(0,Math.min(sr[Te].index,Ra)),ba.push({type:"insert",index:bt,value:Ue}),Ia.unshift({type:"delete",index:bt}),Ra++}var ya=a.modifyFrames,rn=a.modifyFrames,mn=[Ae,Ia],Yt=[Ae,ba];return t&&t.add(Ae,ya,mn,rn,Yt),a.modifyFrames(Ae,ba)}function Ar(Ae,me){if(Ae=S.getGraphDiv(Ae),!S.isPlotDiv(Ae))throw new Error("This element is not a Plotly plot: "+Ae);var pe,Te,Ue=Ae._transitionData._frames,Xe=[],bt=[];if(!me)for(me=[],pe=0;pe<Ue.length;pe++)me.push(pe);for(me=me.slice(),me.sort(),pe=me.length-1;pe>=0;pe--)Te=me[pe],Xe.push({type:"delete",index:Te}),bt.unshift({type:"insert",index:Te,value:Ue[Te]});var xt=a.modifyFrames,Mt=a.modifyFrames,Nt=[Ae,bt],sr=[Ae,Xe];return t&&t.add(Ae,xt,Nt,Mt,sr),a.modifyFrames(Ae,Xe)}function mt(Ae){Ae=S.getGraphDiv(Ae);var me=Ae._fullLayout||{},pe=Ae._fullData||[];return a.cleanPlot([],{},pe,me),a.purge(Ae),e.purge(Ae),me._container&&me._container.remove(),delete Ae._context,Ae}function Fe(Ae){var me=Ae._fullLayout,pe=Ae.getBoundingClientRect();if(!S.equalDomRects(pe,me._lastBBox)){var Te=me._invTransform=S.inverseTransformMatrix(S.getFullTransformMatrix(Ae));me._invScaleX=Math.sqrt(Te[0][0]*Te[0][0]+Te[0][1]*Te[0][1]+Te[0][2]*Te[0][2]),me._invScaleY=Math.sqrt(Te[1][0]*Te[1][0]+Te[1][1]*Te[1][1]+Te[1][2]*Te[1][2]),me._lastBBox=pe}}function We(Ae){var me=G.select(Ae),pe=Ae._fullLayout;if(pe._calcInverseTransform=Fe,pe._calcInverseTransform(Ae),pe._container=me.selectAll(".plot-container").data([0]),pe._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),pe._paperdiv=pe._container.selectAll(".svg-container").data([0]),pe._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),pe._glcontainer=pe._paperdiv.selectAll(".gl-container").data([{}]),pe._glcontainer.enter().append("div").classed("gl-container",!0),pe._paperdiv.selectAll(".main-svg").remove(),pe._paperdiv.select(".modebar-container").remove(),pe._paper=pe._paperdiv.insert("svg",":first-child").classed("main-svg",!0),pe._toppaper=pe._paperdiv.append("svg").classed("main-svg",!0),pe._modebardiv=pe._paperdiv.append("div"),delete pe._modeBar,pe._hoverpaper=pe._paperdiv.append("svg").classed("main-svg",!0),!pe._uid){var Te={};G.selectAll("defs").each(function(){this.id&&(Te[this.id.split("-")[1]]=1)}),pe._uid=S.randstr(Te)}pe._paperdiv.selectAll(".main-svg").attr(d.svgAttrs),pe._defs=pe._paper.append("defs").attr("id","defs-"+pe._uid),pe._clips=pe._defs.append("g").classed("clips",!0),pe._topdefs=pe._toppaper.append("defs").attr("id","topdefs-"+pe._uid),pe._topclips=pe._topdefs.append("g").classed("clips",!0),pe._bgLayer=pe._paper.append("g").classed("bglayer",!0),pe._draggers=pe._paper.append("g").classed("draglayer",!0);var Ue=pe._paper.append("g").classed("layer-below",!0);pe._imageLowerLayer=Ue.append("g").classed("imagelayer",!0),pe._shapeLowerLayer=Ue.append("g").classed("shapelayer",!0),pe._cartesianlayer=pe._paper.append("g").classed("cartesianlayer",!0),pe._polarlayer=pe._paper.append("g").classed("polarlayer",!0),pe._smithlayer=pe._paper.append("g").classed("smithlayer",!0),pe._ternarylayer=pe._paper.append("g").classed("ternarylayer",!0),pe._geolayer=pe._paper.append("g").classed("geolayer",!0),pe._funnelarealayer=pe._paper.append("g").classed("funnelarealayer",!0),pe._pielayer=pe._paper.append("g").classed("pielayer",!0),pe._iciclelayer=pe._paper.append("g").classed("iciclelayer",!0),pe._treemaplayer=pe._paper.append("g").classed("treemaplayer",!0),pe._sunburstlayer=pe._paper.append("g").classed("sunburstlayer",!0),pe._indicatorlayer=pe._toppaper.append("g").classed("indicatorlayer",!0),pe._glimages=pe._paper.append("g").classed("glimages",!0);var Xe=pe._toppaper.append("g").classed("layer-above",!0);pe._imageUpperLayer=Xe.append("g").classed("imagelayer",!0),pe._shapeUpperLayer=Xe.append("g").classed("shapelayer",!0),pe._selectionLayer=pe._toppaper.append("g").classed("selectionlayer",!0),pe._infolayer=pe._toppaper.append("g").classed("infolayer",!0),pe._menulayer=pe._toppaper.append("g").classed("menulayer",!0),pe._zoomlayer=pe._toppaper.append("g").classed("zoomlayer",!0),pe._hoverlayer=pe._hoverpaper.append("g").classed("hoverlayer",!0),pe._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Ae.emit("plotly_framework")}Y.animate=Dr,Y.addFrames=hr,Y.deleteFrames=Ar,Y.addTraces=J,Y.deleteTraces=te,Y.extendTraces=le,Y.moveTraces=Z,Y.prependTraces=V,Y.newPlot=B,Y._doPlot=u,Y.purge=mt,Y.react=jt,Y.redraw=F,Y.relayout=be,Y.restyle=se,Y.setPlotConfig=y,Y.update=Ze,Y._guiRelayout=Ee(be),Y._guiRestyle=Ee(se),Y._guiUpdate=Ee(Ze),Y._storeDirectGUIEdit=ae}}),hd=He({"src/snapshot/helpers.js"(Y){var G=ji();Y.getDelay=function(S){return S._has&&(S._has("gl3d")||S._has("mapbox")||S._has("map"))?500:0},Y.getRedrawFunc=function(S){return function(){G.getComponentMethod("colorbar","draw")(S)}},Y.encodeSVG=function(S){return"data:image/svg+xml,"+encodeURIComponent(S)},Y.encodeJSON=function(S){return"data:application/json,"+encodeURIComponent(S)};var h=window.URL||window.webkitURL;Y.createObjectURL=function(S){return h.createObjectURL(S)},Y.revokeObjectURL=function(S){return h.revokeObjectURL(S)},Y.createBlob=function(S,E){if(E==="svg")return new window.Blob([S],{type:"image/svg+xml;charset=utf-8"});if(E==="full-json")return new window.Blob([S],{type:"application/json;charset=utf-8"});var e=b(window.atob(S));return new window.Blob([e],{type:"image/"+E})},Y.octetStream=function(S){document.location.href="data:application/octet-stream"+S};function b(S){for(var E=S.length,e=new ArrayBuffer(E),t=new Uint8Array(e),r=0;r<E;r++)t[r]=S.charCodeAt(r);return e}Y.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}}),g1=He({"src/snapshot/tosvg.js"(Y,G){var h=_i();ea();var b=Io(),S=Di();rv();var E=/"/g,e="TOBESTRIPPED",t=new RegExp('("'+e+")|("+e+'")',"g");function r(a){var i=h.select("body").append("div").style({display:"none"}).html(""),n=a.replace(/(&[^;]*;)/gi,function(s){return s==="&lt;"?"&#60;":s==="&rt;"?"&#62;":s.indexOf("<")!==-1||s.indexOf(">")!==-1?"":i.html(s).text()});return i.remove(),n}function o(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}G.exports=function(i,n,s){var f=i._fullLayout,c=f._paper,p=f._toppaper,d=f.width,T=f.height,l;c.insert("rect",":first-child").call(b.setRect,0,0,d,T).call(S.fill,f.paper_bgcolor);var m=f._basePlotModules||[];for(l=0;l<m.length;l++){var x=m[l];x.toSVG&&x.toSVG(i)}if(p){var A=p.node().childNodes,M=Array.prototype.slice.call(A);for(l=0;l<M.length;l++){var _=M[l];_.childNodes.length&&c.node().appendChild(_)}}f._draggers&&f._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var g=h.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){g.remove();return}else g.style({visibility:null,display:null});var u=this.style.fontFamily;u&&u.indexOf('"')!==-1&&g.style("font-family",u.replace(E,e));var v=this.style.fontWeight;v&&(v==="normal"||v==="400")&&g.style("font-weight",void 0);var y=this.style.fontStyle;y&&y==="normal"&&g.style("font-style",void 0);var R=this.style.fontVariant;R&&R==="normal"&&g.style("font-variant",void 0)}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var g=h.select(this),u=this.style.fill;u&&u.indexOf("url(")!==-1&&g.style("fill",u.replace(E,e));var v=this.style.stroke;v&&v.indexOf("url(")!==-1&&g.style("stroke",v.replace(E,e))}),(n==="pdf"||n==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),n==="svg"&&s&&(c.attr("width",s*d),c.attr("height",s*T),c.attr("viewBox","0 0 "+d+" "+T));var w=new window.XMLSerializer().serializeToString(c.node());return w=r(w),w=o(w),w=w.replace(t,"'"),w}}}),m1=He({"src/snapshot/svgtoimg.js"(Y,G){var h=ea(),b=Ip().EventEmitter,S=hd();function E(e){var t=e.emitter||new b,r=new Promise(function(o,a){var i=window.Image,n=e.svg,s=e.format||"png",f=e.canvas,c=e.scale||1,p=e.width||300,d=e.height||150,T=c*p,l=c*d,m=f.getContext("2d",{willReadFrequently:!0}),x=new i,A,M;s==="svg"||h.isSafari()?M=S.encodeSVG(n):(A=S.createBlob(n,"svg"),M=S.createObjectURL(A)),f.width=T,f.height=l,x.onload=function(){var _;switch(A=null,S.revokeObjectURL(M),s!=="svg"&&m.drawImage(x,0,0,T,l),s){case"jpeg":_=f.toDataURL("image/jpeg");break;case"png":_=f.toDataURL("image/png");break;case"webp":_=f.toDataURL("image/webp");break;case"svg":_=M;break;default:var w="Image format is not jpeg, png, svg or webp.";if(a(new Error(w)),!e.promise)return t.emit("error",w)}o(_),e.promise||t.emit("success",_)},x.onerror=function(_){if(A=null,S.revokeObjectURL(M),a(_),!e.promise)return t.emit("error",_)},x.src=M});return e.promise?r:t}G.exports=E}}),Wb=He({"src/plot_api/to_image.js"(Y,G){var h=Ui(),b=p1(),S=nc(),E=ea(),e=hd(),t=g1(),r=m1(),o=ac().version,a={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(n,s){s=s||{};var f,c,p,d;E.isPlainObject(n)?(f=n.data||[],c=n.layout||{},p=n.config||{},d={}):(n=E.getGraphDiv(n),f=E.extendDeep([],n.data),c=E.extendDeep({},n.layout),p=n._context,d=n._fullLayout||{});function T(B){return!(B in s)||E.validate(s[B],a[B])}if(!T("width")&&s.width!==null||!T("height")&&s.height!==null)throw new Error("Height and width should be pixel values.");if(!T("format"))throw new Error("Export format is not "+E.join2(a.format.values,", "," or ")+".");var l={};function m(B,O){return E.coerce(s,l,a,B,O)}var x=m("format"),A=m("width"),M=m("height"),_=m("scale"),w=m("setBackground"),g=m("imageDataOnly"),u=document.createElement("div");u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);var v=E.extendFlat({},c);A?v.width=A:s.width===null&&h(d.width)&&(v.width=d.width),M?v.height=M:s.height===null&&h(d.height)&&(v.height=d.height);var y=E.extendFlat({},p,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),R=e.getRedrawFunc(u);function L(){return new Promise(function(B){setTimeout(B,e.getDelay(u._fullLayout))})}function z(){return new Promise(function(B,O){var I=t(u,x,_),N=u._fullLayout.width,U=u._fullLayout.height;function X(){b.purge(u),document.body.removeChild(u)}if(x==="full-json"){var ee=S.graphJson(u,!1,"keepdata","object",!0,!0);return ee.version=o,ee=JSON.stringify(ee),X(),B(g?ee:e.encodeJSON(ee))}if(X(),x==="svg")return B(g?I:e.encodeSVG(I));var ue=document.createElement("canvas");ue.id=E.randstr(),r({format:x,width:N,height:U,scale:_,canvas:ue,svg:I,promise:!0}).then(B).catch(O)})}function F(B){return g?B.replace(e.IMAGE_URL_PREFIX,""):B}return new Promise(function(B,O){b.newPlot(u,f,v,y).then(R).then(L).then(z).then(function(I){B(F(I))}).catch(function(I){O(I)})})}G.exports=i}}),NS=He({"src/plot_api/validate.js"(Y,G){var h=ea(),b=nc(),S=j0(),E=Pp().dfltConfig,e=h.isPlainObject,t=Array.isArray,r=h.isArrayOrTypedArray;G.exports=function(m,x){m===void 0&&(m=[]),x===void 0&&(x={});var A=S.get(),M=[],_={_context:h.extendFlat({},E)},w,g;t(m)?(_.data=h.extendDeep([],m),w=m):(_.data=[],w=[],M.push(s("array","data"))),e(x)?(_.layout=h.extendDeep({},x),g=x):(_.layout={},g={},arguments.length>1&&M.push(s("object","layout"))),b.supplyDefaults(_);for(var u=_._fullData,v=w.length,y=0;y<v;y++){var R=w[y],L=["data",y];if(!e(R)){M.push(s("object",L));continue}var z=u[y],F=z.type,B=A.traces[F].attributes;B.type={valType:"enumerated",values:[F]},z.visible===!1&&R.visible!==!1&&M.push(s("invisible",L)),o(R,z,B,M,L)}var O=_._fullLayout,I=a(A,u);return o(g,O,I,M,"layout"),M.length===0?void 0:M};function o(l,m,x,A,M,_){_=_||[];for(var w=Object.keys(l),g=0;g<w.length;g++){var u=w[g],v=_.slice();v.push(u);var y=l[u],R=m[u],L=c(x,u),z=(L||{}).valType,F=z==="info_array",B=z==="colorscale",O=(L||{}).items;if(!f(x,u))A.push(s("schema",M,v));else if(e(y)&&e(R)&&z!=="any")o(y,R,L,A,M,v);else if(F&&t(y)){y.length>R.length&&A.push(s("unused",M,v.concat(R.length)));var I=R.length,N=Array.isArray(O);N&&(I=Math.min(I,O.length));var U,X,ee,ue,oe;if(L.dimensions===2)for(X=0;X<I;X++)if(t(y[X])){y[X].length>R[X].length&&A.push(s("unused",M,v.concat(X,R[X].length)));var le=R[X].length;for(U=0;U<(N?Math.min(le,O[X].length):le);U++)ee=N?O[X][U]:O,ue=y[X][U],oe=R[X][U],h.validate(ue,ee)?oe!==ue&&oe!==+ue&&A.push(s("dynamic",M,v.concat(X,U),ue,oe)):A.push(s("value",M,v.concat(X,U),ue))}else A.push(s("array",M,v.concat(X),y[X]));else for(X=0;X<I;X++)ee=N?O[X]:O,ue=y[X],oe=R[X],h.validate(ue,ee)?oe!==ue&&oe!==+ue&&A.push(s("dynamic",M,v.concat(X),ue,oe)):A.push(s("value",M,v.concat(X),ue))}else if(L.items&&!F&&t(y)){var V=O[Object.keys(O)[0]],J=[],te,Z;for(te=0;te<R.length;te++){var se=R[te]._index||te;if(Z=v.slice(),Z.push(se),e(y[se])&&e(R[te])){J.push(se);var Q=y[se],q=R[te];e(Q)&&Q.visible!==!1&&q.visible===!1?A.push(s("invisible",M,Z)):o(Q,q,V,A,M,Z)}}for(te=0;te<y.length;te++)Z=v.slice(),Z.push(te),e(y[te])?J.indexOf(te)===-1&&A.push(s("unused",M,Z)):A.push(s("object",M,Z,y[te]))}else!e(y)&&e(R)?A.push(s("object",M,v,y)):!r(y)&&r(R)&&!F&&!B?A.push(s("array",M,v,y)):u in m?h.validate(y,L)?L.valType==="enumerated"&&(L.coerceNumber&&y!==+R||!r(y)&&y!==R||String(y)!==String(R))&&A.push(s("dynamic",M,v,y,R)):A.push(s("value",M,v,y)):A.push(s("unused",M,v,y))}return A}function a(l,m){for(var x=l.layout.layoutAttributes,A=0;A<m.length;A++){var M=m[A],_=l.traces[M.type],w=_.layoutAttributes;w&&(M.subplot?h.extendFlat(x[_.attributes.subplot.dflt],w):h.extendFlat(x,w))}return x}var i={object:function(l,m){var x;return l==="layout"&&m===""?x="The layout argument":l[0]==="data"&&m===""?x="Trace "+l[1]+" in the data argument":x=n(l)+"key "+m,x+" must be linked to an object container"},array:function(l,m){var x;return l==="data"?x="The data argument":x=n(l)+"key "+m,x+" must be linked to an array container"},schema:function(l,m){return n(l)+"key "+m+" is not part of the schema"},unused:function(l,m,x){var A=e(x)?"container":"key";return n(l)+A+" "+m+" did not get coerced"},dynamic:function(l,m,x,A){return[n(l)+"key",m,"(set to '"+x+"')","got reset to","'"+A+"'","during defaults."].join(" ")},invisible:function(l,m){return(m?n(l)+"item "+m:"Trace "+l[1])+" got defaulted to be not visible"},value:function(l,m,x){return[n(l)+"key "+m,"is set to an invalid value ("+x+")"].join(" ")}};function n(l){return t(l)?"In data trace "+l[1]+", ":"In "+l+", "}function s(l,m,x,A,M){x=x||"";var _,w;t(m)?(_=m[0],w=m[1]):(_=m,w=null);var g=T(x),u=i[l](m,g,A,M);return h.log(u),{code:l,container:_,trace:w,path:x,astr:g,msg:u}}function f(l,m){var x=d(m),A=x.keyMinusId,M=x.id;return A in l&&l[A]._isSubplotObj&&M?!0:m in l}function c(l,m){if(m in l)return l[m];var x=d(m);return l[x.keyMinusId]}var p=h.counterRegex("([a-z]+)");function d(l){var m=l.match(p);return{keyMinusId:m&&m[1],id:m&&m[2]}}function T(l){if(!t(l))return String(l);for(var m="",x=0;x<l.length;x++){var A=l[x];typeof A=="number"?m=m.slice(0,-1)+"["+A+"]":m+=A,x<l.length-1&&(m+=".")}return m}}}),US=He({"src/snapshot/filesaver.js"(Y,G){var h=ea(),b=hd();function S(E,e,t){var r=document.createElement("a"),o="download"in r,a=new Promise(function(i,n){var s,f;if(o)return s=b.createBlob(E,t),f=b.createObjectURL(s),r.href=f,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),b.revokeObjectURL(f),s=null,i(e);if(h.isSafari()){var c=t==="svg"?",":";base64,";return b.octetStream(c+encodeURIComponent(E)),i(e)}n(new Error("download error"))});return a}G.exports=S}}),Xb=He({"src/snapshot/download.js"(Y,G){var h=ea(),b=Wb(),S=US();hd();function E(e,t){var r;return h.isPlainObject(e)||(r=h.getGraphDiv(e)),t=t||{},t.format=t.format||"png",t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise(function(o,a){r&&r._snapshotInProgress&&a(new Error("Snapshotting already in progress.")),r&&(r._snapshotInProgress=!0);var i=b(e,t),n=t.filename||e.fn||"newplot";n+="."+t.format.replace("-","."),i.then(function(s){return r&&(r._snapshotInProgress=!1),S(s,n,t.format)}).then(function(s){o(s)}).catch(function(s){r&&(r._snapshotInProgress=!1),a(s)})})}G.exports=E}}),jS=He({"src/plot_api/template_api.js"(Y){var G=ea(),h=G.isPlainObject,b=j0(),S=nc(),E=Nl(),e=xl(),t=Pp().dfltConfig;Y.makeTemplate=function(p){p=G.isPlainObject(p)?p:G.getGraphDiv(p),p=G.extendDeep({_context:t},{data:p.data,layout:p.layout}),S.supplyDefaults(p);var d=p.data||[],T=p.layout||{};T._basePlotModules=p._fullLayout._basePlotModules,T._modules=p._fullLayout._modules;var l={data:{},layout:{}};d.forEach(function(y){var R={};a(y,R,n.bind(null,y));var L=G.coerce(y,{},E,"type"),z=l.data[L];z||(z=l.data[L]=[]),z.push(R)}),a(T,l.layout,i.bind(null,T)),delete l.layout.template;var m=T.template;if(h(m)){var x=m.layout,A,M,_,w,g,u;h(x)&&r(x,l.layout);var v=m.data;if(h(v)){for(M in l.data)if(_=v[M],Array.isArray(_)){for(g=l.data[M],u=g.length,w=_.length,A=0;A<u;A++)r(_[A%w],g[A]);for(A=u;A<w;A++)g.push(G.extendDeep({},_[A]))}for(M in v)M in l.data||(l.data[M]=G.extendDeep([],v[M]))}}return l};function r(p,d){p=G.extendDeep({},p);var T=Object.keys(p).sort(),l,m;function x(g,u,v){if(h(u)&&h(g))r(g,u);else if(Array.isArray(u)&&Array.isArray(g)){var y=e.arrayTemplater({_template:p},v);for(m=0;m<u.length;m++){var R=u[m],L=y.newItem(R)._template;L&&r(L,R)}var z=y.defaultItems();for(m=0;m<z.length;m++)u.push(z[m]._template);for(m=0;m<u.length;m++)delete u[m].templateitemname}}for(l=0;l<T.length;l++){var A=T[l],M=p[A];if(A in d?x(M,d[A],A):d[A]=M,o(A)===A)for(var _ in d){var w=o(_);_!==w&&w===A&&!(_ in p)&&x(M,d[_],A)}}}function o(p){return p.replace(/[0-9]+$/,"")}function a(p,d,T,l,m){var x=m&&T(m);for(var A in p){var M=p[A],_=s(p,A,l),w=s(p,A,m),g=T(w);if(!g){var u=o(A);u!==A&&(w=s(p,u,m),g=T(w))}if(!(x&&x===g)&&!(!g||g._noTemplating||g.valType==="data_array"||g.arrayOk&&Array.isArray(M)))if(!g.valType&&h(M))a(M,d,T,_,w);else if(g._isLinkedToArray&&Array.isArray(M))for(var v=!1,y=0,R={},L=0;L<M.length;L++){var z=M[L];if(h(z)){var F=z.name;if(F)R[F]||(a(z,d,T,s(M,y,_),s(M,y,w)),y++,R[F]=1);else if(!v){var B=e.arrayDefaultKey(A),O=s(p,B,l),I=s(M,y,_);a(z,d,T,I,s(M,y,w));var N=G.nestedProperty(d,I),U=G.nestedProperty(d,O);U.set(N.get()),N.set(null),v=!0}}}else{var X=G.nestedProperty(d,_);X.set(M)}}}function i(p,d){return b.getLayoutValObject(p,G.nestedProperty({},d).parts)}function n(p,d){return b.getTraceValObject(p,G.nestedProperty({},d).parts)}function s(p,d,T){var l;return T?Array.isArray(p)?l=T+"["+d+"]":l=T+"."+d:l=d,l}Y.validateTemplate=function(p,d){var T=G.extendDeep({},{_context:t,data:p.data,layout:p.layout}),l=T.layout||{};h(d)||(d=l.template||{});var m=d.layout,x=d.data,A=[];T.layout=l,T.layout.template=d,S.supplyDefaults(T);var M=T._fullLayout,_=T._fullData,w={};function g(O,I){for(var N in O)if(N.charAt(0)!=="_"&&h(O[N])){var U=o(N),X=[],ee;for(ee=0;ee<I.length;ee++)X.push(s(O,N,I[ee])),U!==N&&X.push(s(O,U,I[ee]));for(ee=0;ee<X.length;ee++)w[X[ee]]=1;g(O[N],X)}}function u(O,I){for(var N in O)if(N.indexOf("defaults")===-1&&h(O[N])){var U=s(O,N,I);w[U]?u(O[N],U):A.push({code:"unused",path:U})}}if(h(m)?(g(M,["layout"]),u(m,"layout")):A.push({code:"layout"}),!h(x))A.push({code:"data"});else{for(var v={},y,R=0;R<_.length;R++){var L=_[R];y=L.type,v[y]=(v[y]||0)+1,L._fullInput._template||A.push({code:"missing",index:L.index,traceType:y})}for(y in x){var z=x[y].length,F=v[y]||0;z>F?A.push({code:"unused",traceType:y,templateCount:z,dataCount:F}):F>z&&A.push({code:"reused",traceType:y,templateCount:z,dataCount:F})}}function B(O,I){for(var N in O)if(N.charAt(0)!=="_"){var U=O[N],X=s(O,N,I);h(U)?(Array.isArray(O)&&U._template===!1&&U.templateitemname&&A.push({code:"missing",path:X,templateitemname:U.templateitemname}),B(U,X)):Array.isArray(U)&&f(U)&&B(U,X)}}if(B({data:_,layout:M},""),A.length)return A.map(c)};function f(p){for(var d=0;d<p.length;d++)if(h(p[d]))return!0}function c(p){var d;switch(p.code){case"data":d="The template has no key data.";break;case"layout":d="The template has no key layout.";break;case"missing":p.path?d="There are no templates for item "+p.path+" with name "+p.templateitemname:d="There are no templates for trace "+p.index+", of type "+p.traceType+".";break;case"unused":p.path?d="The template item at "+p.path+" was not used in constructing the plot.":p.dataCount?d="Some of the templates of type "+p.traceType+" were not used. The template has "+p.templateCount+" traces, the data only has "+p.dataCount+" of this type.":d="The template has "+p.templateCount+" traces of type "+p.traceType+" but there are none in the data.";break;case"reused":d="Some of the templates of type "+p.traceType+" were used more than once. The template has "+p.templateCount+" traces, the data has "+p.dataCount+" of this type.";break}return p.msg=d,p}}}),VS=He({"src/plot_api/index.js"(Y){var G=p1();Y._doPlot=G._doPlot,Y.newPlot=G.newPlot,Y.restyle=G.restyle,Y.relayout=G.relayout,Y.redraw=G.redraw,Y.update=G.update,Y._guiRestyle=G._guiRestyle,Y._guiRelayout=G._guiRelayout,Y._guiUpdate=G._guiUpdate,Y._storeDirectGUIEdit=G._storeDirectGUIEdit,Y.react=G.react,Y.extendTraces=G.extendTraces,Y.prependTraces=G.prependTraces,Y.addTraces=G.addTraces,Y.deleteTraces=G.deleteTraces,Y.moveTraces=G.moveTraces,Y.purge=G.purge,Y.addFrames=G.addFrames,Y.deleteFrames=G.deleteFrames,Y.animate=G.animate,Y.setPlotConfig=G.setPlotConfig;var h=Qg().getGraphDiv,b=d1().eraseActiveShape;Y.deleteActiveShape=function(E){return b(h(E))},Y.toImage=Wb(),Y.validate=NS(),Y.downloadImage=Xb();var S=jS();Y.makeTemplate=S.makeTemplate,Y.validateTemplate=S.validateTemplate}}),W0=He({"src/traces/scatter/xy_defaults.js"(Y,G){var h=ea(),b=ji();G.exports=function(E,e,t,r){var o=r("x"),a=r("y"),i,n=b.getComponentMethod("calendars","handleTraceDefaults");if(n(E,e,["x","y"],t),o){var s=h.minRowLength(o);a?i=Math.min(s,h.minRowLength(a)):(i=s,r("y0"),r("dy"))}else{if(!a)return 0;i=h.minRowLength(a),r("x0"),r("dx")}return e._length=i,i}}}),Ev=He({"src/traces/scatter/period_defaults.js"(Y,G){var h=ea().dateTick0,b=Qo(),S=b.ONEWEEK;function E(e,t){return e%S===0?h(t,1):h(t,0)}G.exports=function(t,r,o,a,i){if(i||(i={x:!0,y:!0}),i.x){var n=a("xperiod");n&&(a("xperiod0",E(n,r.xcalendar)),a("xperiodalignment"))}if(i.y){var s=a("yperiod");s&&(a("yperiod0",E(s,r.ycalendar)),a("yperiodalignment"))}}}}),qS=He({"src/traces/scatter/stack_defaults.js"(Y,G){var h=["orientation","groupnorm","stackgaps"];G.exports=function(S,E,e,t){var r=e._scatterStackOpts,o=t("stackgroup");if(o){var a=E.xaxis+E.yaxis,i=r[a];i||(i=r[a]={});var n=i[o],s=!1;n?n.traces.push(E):(n=i[o]={traceIndices:[],traces:[E]},s=!0);for(var f={orientation:E.x&&!E.y?"h":"v"},c=0;c<h.length;c++){var p=h[c],d=p+"Found";if(!n[d]){var T=S[p]!==void 0,l=p==="orientation";if((T||s)&&(n[p]=t(p,f[p]),l&&(n.fillDflt=n[p]==="h"?"tonextx":"tonexty"),T&&(n[d]=!0,!s&&(delete n.traces[0][p],l))))for(var m=0;m<n.traces.length-1;m++){var x=n.traces[m];x._input.fill!==x.fill&&(x.fill=n.fillDflt)}}}return n}}}}),av=He({"src/traces/scatter/marker_defaults.js"(Y,G){var h=Di(),b=Mh().hasColorscale,S=Uf(),E=mu();G.exports=function(t,r,o,a,i,n){var s=E.isBubble(t),f=(t.line||{}).color,c;if(n=n||{},f&&(o=f),i("marker.symbol"),i("marker.opacity",s?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",o),b(t,"marker")&&S(t,r,a,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&r.marker.color!==f?c=f:s?c=h.background:c=h.defaultLine,i("marker.line.color",c),b(t,"marker.line")&&S(t,r,a,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",s?1:0)),s&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient){var p=i("marker.gradient.type");p!=="none"&&i("marker.gradient.color")}}}}),cv=He({"src/traces/scatter/line_defaults.js"(Y,G){var h=ea().isArrayOrTypedArray,b=Mh().hasColorscale,S=Uf();G.exports=function(e,t,r,o,a,i){i||(i={});var n=(e.marker||{}).color;if(n&&n._inputArray&&(n=n._inputArray),a("line.color",r),b(e,"line"))S(e,t,o,a,{prefix:"line.",cLetter:"c"});else{var s=(h(n)?!1:n)||r;a("line.color",s)}a("line.width"),i.noDash||a("line.dash"),i.backoff&&a("line.backoff")}}}),X0=He({"src/traces/scatter/line_shape_defaults.js"(Y,G){G.exports=function(b,S,E){var e=E("line.shape");e==="spline"&&E("line.smoothing")}}}),fv=He({"src/traces/scatter/text_defaults.js"(Y,G){var h=ea();G.exports=function(b,S,E,e,t){t=t||{},e("textposition"),h.coerceFont(e,"textfont",t.font||E.font,t),t.noSelect||(e("selected.textfont.color"),e("unselected.textfont.color"))}}}),kv=He({"src/traces/scatter/fillcolor_defaults.js"(Y,G){var h=Di(),b=ea().isArrayOrTypedArray;function S(E){for(var e=h.interpolate(E[0][1],E[1][1],.5),t=2;t<E.length;t++){var r=h.interpolate(E[t-1][1],E[t][1],.5);e=h.interpolate(e,r,E[t-1][0]/E[t][0])}return e}G.exports=function(e,t,r,o,a){a||(a={});var i=!1;if(t.marker){var n=t.marker.color,s=(t.marker.line||{}).color;n&&!b(n)?i=n:s&&!b(s)&&(i=s)}var f;if(a.moduleHasFillgradient){var c=o("fillgradient.type");if(c!=="none"){o("fillgradient.start"),o("fillgradient.stop");var p=o("fillgradient.colorscale");p&&(f=S(p))}}o("fillcolor",h.addOpacity((t.line||{}).color||i||f||r,.5))}}}),GS=He({"src/traces/scatter/defaults.js"(Y,G){var h=ea(),b=ji(),S=Cc(),E=Xv(),e=mu(),t=W0(),r=Ev(),o=qS(),a=av(),i=cv(),n=X0(),s=fv(),f=kv(),c=ea().coercePattern;G.exports=function(d,T,l,m){function x(y,R){return h.coerce(d,T,S,y,R)}var A=t(d,T,m,x);if(A||(T.visible=!1),!!T.visible){r(d,T,m,x),x("xhoverformat"),x("yhoverformat"),x("zorder");var M=o(d,T,m,x);m.scattermode==="group"&&T.orientation===void 0&&x("orientation","v");var _=!M&&A<E.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("mode",_),e.hasMarkers(T)&&a(d,T,l,m,x,{gradient:!0}),e.hasLines(T)&&(i(d,T,l,m,x,{backoff:!0}),n(d,T,x),x("connectgaps"),x("line.simplify")),e.hasText(T)&&(x("texttemplate"),x("texttemplatefallback"),s(d,T,m,x));var w=[];(e.hasMarkers(T)||e.hasText(T))&&(x("cliponaxis"),x("marker.maxdisplayed"),w.push("points")),x("fill",M?M.fillDflt:"none"),T.fill!=="none"&&(f(d,T,l,x,{moduleHasFillgradient:!0}),e.hasLines(T)||n(d,T,x),c(x,"fillpattern",T.fillcolor,!1));var g=(T.line||{}).color,u=(T.marker||{}).color;(T.fill==="tonext"||T.fill==="toself")&&w.push("fills"),x("hoveron",w.join("+")||"points"),T.hoveron!=="fills"&&(x("hovertemplate"),x("hovertemplatefallback"));var v=b.getComponentMethod("errorbars","supplyDefaults");v(d,T,g||u||l,{axis:"y"}),v(d,T,g||u||l,{axis:"x",inherit:"y"}),h.coerceSelectionMarkerOpacity(T,x)}}}}),Op=He({"src/traces/scatter/grouping_defaults.js"(Y,G){var h=zp().getAxisGroup;G.exports=function(S,E,e,t,r){var o=E.orientation,a=E[{v:"x",h:"y"}[o]+"axis"],i=h(e,a)+o,n=e._alignmentOpts||{},s=t("alignmentgroup"),f=n[i];f||(f=n[i]={});var c=f[s];c?c.traces.push(E):c=f[s]={traces:[E],alignmentIndex:Object.keys(f).length,offsetGroups:{}};var p=t("offsetgroup")||"",d=c.offsetGroups,T=d[p];E._offsetIndex=0,(r!=="group"||p)&&(T||(T=d[p]={offsetIndex:Object.keys(d).length}),E._offsetIndex=T.offsetIndex)}}}),Zb=He({"src/traces/scatter/cross_trace_defaults.js"(Y,G){var h=ea(),b=Op(),S=Cc();G.exports=function(e,t){var r,o,a,i=t.scattermode;function n(d){return h.coerce(o._input,o,S,d)}if(t.scattermode==="group")for(a=0;a<e.length;a++)o=e[a],o.type==="scatter"&&(r=o._input,b(r,o,t,n,i));for(a=0;a<e.length;a++){var s=e[a];if(s.type==="scatter"){var f=s.fill;if(!(f==="none"||f==="toself")&&(s.opacity=void 0,f==="tonexty"||f==="tonextx"))for(var c=a-1;c>=0;c--){var p=e[c];if(p.type==="scatter"&&p.xaxis===s.xaxis&&p.yaxis===s.yaxis){p.opacity=void 0;break}}}}}}}),HS=He({"src/traces/scatter/layout_defaults.js"(Y,G){var h=ea(),b=i1();G.exports=function(S,E){function e(r,o){return h.coerce(S,E,b,r,o)}var t=E.barmode==="group";E.scattermode==="group"&&e("scattergap",t?E.bargap:.2)}}}),Cv=He({"src/plots/cartesian/align_period.js"(Y,G){var h=Ui(),b=ea(),S=b.dateTime2ms,E=b.incrementMonth,e=Qo(),t=e.ONEAVGMONTH;G.exports=function(o,a,i,n){if(a.type!=="date")return{vals:n};var s=o[i+"periodalignment"];if(!s)return{vals:n};var f=o[i+"period"],c;if(h(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var p=+f.substring(1);if(p>0&&Math.round(p)===p)c=p;else return{vals:n}}for(var d=a.calendar,T=s==="start",l=s==="end",m=o[i+"period0"],x=S(m,d)||0,A=[],M=[],_=[],w=n.length,g=0;g<w;g++){var u=n[g],v,y,R;if(c){for(v=Math.round((u-x)/(c*t)),R=E(x,c*v,d);R>u;)R=E(R,-c,d);for(;R<=u;)R=E(R,c,d);y=E(R,-c,d)}else{for(v=Math.round((u-x)/f),R=x+v*f;R>u;)R-=f;for(;R<=u;)R+=f;y=R-f}A[g]=T?y:l?R:(y+R)/2,M[g]=y,_[g]=R}return{vals:A,starts:M,ends:_}}}}),hv=He({"src/traces/scatter/colorscale_calc.js"(Y,G){var h=Mh().hasColorscale,b=Eh(),S=mu();G.exports=function(e,t){S.hasLines(t)&&h(t,"line")&&b(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),S.hasMarkers(t)&&(h(t,"marker")&&b(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),h(t,"marker.line")&&b(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}}),Zv=He({"src/traces/scatter/arrays_to_calcdata.js"(Y,G){var h=ea();G.exports=function(S,E){for(var e=0;e<S.length;e++)S[e].i=e;h.mergeArray(E.text,S,"tx"),h.mergeArray(E.texttemplate,S,"txt"),h.mergeArray(E.hovertext,S,"htx"),h.mergeArray(E.customdata,S,"data"),h.mergeArray(E.textposition,S,"tp"),E.textfont&&(h.mergeArrayCastPositive(E.textfont.size,S,"ts"),h.mergeArray(E.textfont.color,S,"tc"),h.mergeArray(E.textfont.family,S,"tf"),h.mergeArray(E.textfont.weight,S,"tw"),h.mergeArray(E.textfont.style,S,"ty"),h.mergeArray(E.textfont.variant,S,"tv"),h.mergeArray(E.textfont.textcase,S,"tC"),h.mergeArray(E.textfont.lineposition,S,"tE"),h.mergeArray(E.textfont.shadow,S,"tS"));var t=E.marker;if(t){h.mergeArrayCastPositive(t.size,S,"ms"),h.mergeArrayCastPositive(t.opacity,S,"mo"),h.mergeArray(t.symbol,S,"mx"),h.mergeArray(t.angle,S,"ma"),h.mergeArray(t.standoff,S,"mf"),h.mergeArray(t.color,S,"mc");var r=t.line;t.line&&(h.mergeArray(r.color,S,"mlc"),h.mergeArrayCastPositive(r.width,S,"mlw"));var o=t.gradient;o&&o.type!=="none"&&(h.mergeArray(o.type,S,"mgt"),h.mergeArray(o.color,S,"mgc"))}}}}),vv=He({"src/traces/scatter/calc_selection.js"(Y,G){var h=ea();G.exports=function(S,E){h.isArrayOrTypedArray(E.selectedpoints)&&h.tagSelected(S,E)}}}),dv=He({"src/traces/scatter/calc.js"(Y,G){var h=Ui(),b=ea(),S=Ao(),E=Cv(),e=Qo().BADNUM,t=mu(),r=hv(),o=Zv(),a=vv();function i(d,T){var l=d._fullLayout,m=T._xA=S.getFromId(d,T.xaxis||"x","x"),x=T._yA=S.getFromId(d,T.yaxis||"y","y"),A=m.makeCalcdata(T,"x"),M=x.makeCalcdata(T,"y"),_=E(T,m,"x",A),w=E(T,x,"y",M),g=_.vals,u=w.vals,v=T._length,y=new Array(v),R=T.ids,L=p(T,l,m,x),z=!1,F,B,O,I,N,U;f(l,T);var X="x",ee="y",ue;if(L)b.pushUnique(L.traceIndices,T.index),F=L.orientation==="v",F?(ee="s",ue="x"):(X="s",ue="y"),N=L.stackgaps==="interpolate";else{var oe=s(T,v);n(d,T,m,x,g,u,oe)}var le=!!T.xperiodalignment,V=!!T.yperiodalignment;for(B=0;B<v;B++){var J=y[B]={},te=h(g[B]),Z=h(u[B]);te&&Z?(J[X]=g[B],J[ee]=u[B],le&&(J.orig_x=A[B],J.xEnd=_.ends[B],J.xStart=_.starts[B]),V&&(J.orig_y=M[B],J.yEnd=w.ends[B],J.yStart=w.starts[B])):L&&(F?te:Z)?(J[ue]=F?g[B]:u[B],J.gap=!0,N?(J.s=e,z=!0):J.s=0):J[X]=J[ee]=e,R&&(J.id=String(R[B]))}if(o(y,T),r(d,T),a(y,T),L){for(B=0;B<y.length;)y[B][ue]===e?y.splice(B,1):B++;if(b.sort(y,function(re,ae){return re[ue]-ae[ue]||re.i-ae.i}),z){for(B=0;B<y.length-1&&y[B].gap;)B++;for(U=y[B].s,U||(U=y[B].s=0),O=0;O<B;O++)y[O].s=U;for(I=y.length-1;I>B&&y[I].gap;)I--;for(U=y[I].s,O=y.length-1;O>I;O--)y[O].s=U;for(;B<I;)if(B++,y[B].gap){for(O=B+1;y[O].gap;)O++;for(var se=y[B-1][ue],Q=y[B-1].s,q=(y[O].s-Q)/(y[O][ue]-se);B<O;)y[B].s=Q+(y[B][ue]-se)*q,B++}}}return y}function n(d,T,l,m,x,A,M){var _=T._length,w=d._fullLayout,g=l._id,u=m._id,v=w._firstScatter[c(T)]===T.uid,y=(p(T,w,l,m)||{}).orientation,R=T.fill;l._minDtick=0,m._minDtick=0;var L={padded:!0},z={padded:!0};M&&(L.ppad=z.ppad=M);var F=_<2||x[0]!==x[_-1]||A[0]!==A[_-1];F&&(R==="tozerox"||R==="tonextx"&&(v||y==="h"))?L.tozero=!0:!(T.error_y||{}).visible&&(R==="tonexty"||R==="tozeroy"||!t.hasMarkers(T)&&!t.hasText(T))&&(L.padded=!1,L.ppad=0),F&&(R==="tozeroy"||R==="tonexty"&&(v||y==="v"))?z.tozero=!0:(R==="tonextx"||R==="tozerox")&&(z.padded=!1),g&&(T._extremes[g]=S.findExtremes(l,x,L)),u&&(T._extremes[u]=S.findExtremes(m,A,z))}function s(d,T){if(t.hasMarkers(d)){var l=d.marker,m=1.6*(d.marker.sizeref||1),x;if(d.marker.sizemode==="area"?x=function(g){return Math.max(Math.sqrt((g||0)/m),3)}:x=function(g){return Math.max((g||0)/m,3)},b.isArrayOrTypedArray(l.size)){var A={type:"linear"};S.setConvert(A);for(var M=A.makeCalcdata(d.marker,"size"),_=new Array(T),w=0;w<T;w++)_[w]=x(M[w]);return _}else return x(l.size)}}function f(d,T){var l=c(T),m=d._firstScatter;m[l]||(m[l]=T.uid)}function c(d){var T=d.stackgroup;return d.xaxis+d.yaxis+d.type+(T?"-"+T:"")}function p(d,T,l,m){var x=d.stackgroup;if(x){var A=T._scatterStackOpts[l._id+m._id][x],M=A.orientation==="v"?m:l;if(M.type==="linear"||M.type==="log")return A}}G.exports={calc:i,calcMarkerSize:s,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:p}}}),WS=He({"src/traces/bar/sieve.js"(Y,G){G.exports=b;var h=ea().distinctVals;function b(S,E){this.traces=S,this.sepNegVal=E.sepNegVal,this.overlapNoMerge=E.overlapNoMerge;for(var e=1/0,t=E.posAxis._id.charAt(0),r=[],o=0;o<S.length;o++){for(var a=S[o],i=0;i<a.length;i++){var n=a[i],s=n.p;s===void 0&&(s=n[t]),s!==void 0&&r.push(s)}a[0]&&a[0].width1&&(e=Math.min(a[0].width1,e))}this.positions=r;var f=h(r);this.distinctPositions=f.vals,f.vals.length===1&&e!==1/0?this.minDiff=e:this.minDiff=Math.min(f.minDiff,e);var c=(E.posAxis||{}).type;(c==="category"||c==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}b.prototype.put=function(E,e,t){var r=this.getLabel(E,e,t),o=this.bins[r]||0;return this.bins[r]=o+t,o},b.prototype.get=function(E,e,t){var r=this.getLabel(E,e,t);return this.bins[r]||0},b.prototype.getLabel=function(E,e,t){var r=t<0&&this.sepNegVal?"v":"^",o=this.overlapNoMerge?E:Math.round(E/this.binWidth);return r+o+"g"+e}}}),Bp=He({"src/traces/bar/cross_trace_calc.js"(Y,G){var h=Ui(),b=ea().isArrayOrTypedArray,S=Qo().BADNUM,E=ji(),e=Ao(),t=zp().getAxisGroup,r=WS();function o(y,R){for(var L=R.xaxis,z=R.yaxis,F=y._fullLayout,B=y._fullData,O=y.calcdata,I=[],N=[],U=0;U<B.length;U++){var X=B[U];if(X.visible===!0&&E.traceIs(X,"bar")&&X.xaxis===L._id&&X.yaxis===z._id&&(X.orientation==="h"?I.push(O[U]):N.push(O[U]),X._computePh))for(var ee=y.calcdata[U],ue=0;ue<ee.length;ue++)typeof ee[ue].ph0=="function"&&(ee[ue].ph0=ee[ue].ph0()),typeof ee[ue].ph1=="function"&&(ee[ue].ph1=ee[ue].ph1())}var oe={xCat:L.type==="category"||L.type==="multicategory",yCat:z.type==="category"||z.type==="multicategory",mode:F.barmode,norm:F.barnorm,gap:F.bargap,groupgap:F.bargroupgap};a(y,L,z,N,oe),a(y,z,L,I,oe)}function a(y,R,L,z,F){if(z.length){var B,O,I,N,U;switch(s(L,z),F.mode){case"overlay":f(y,R,L,z,F);break;case"group":for(B=[],O=[],I=0;I<z.length;I++)N=z[I],U=N[0].trace,U.offset===void 0?O.push(N):B.push(N);O.length&&c(y,R,L,O,F),B.length&&f(y,R,L,B,F);break;case"stack":case"relative":for(B=[],O=[],I=0;I<z.length;I++)N=z[I],U=N[0].trace,U.base===void 0?O.push(N):B.push(N);n(O),O.length&&p(y,R,L,O,F),B.length&&f(y,R,L,B,F);break}i(z),u(z,R)}}function i(y){var R,L,z,F,B,O,I;for(R=0;R<y.length;R++)L=y[R],z=L[0].trace,F=L[0].t,F.cornerradiusvalue===void 0&&(B=z.marker?z.marker.cornerradius:void 0,B!==void 0&&(O=h(B)?+B:+B.slice(0,-1),I=h(B)?"px":"%",F.cornerradiusvalue=O,F.cornerradiusform=I))}function n(y){if(!(y.length<2)){var R,L,z,F,B,O,I;for(R=0;R<y.length&&(L=y[R],z=L[0].trace,B=z.marker?z.marker.cornerradius:void 0,B===void 0);R++);if(B!==void 0)for(O=h(B)?+B:+B.slice(0,-1),I=h(B)?"px":"%",R=0;R<y.length;R++)L=y[R],F=L[0].t,F.cornerradiusvalue=O,F.cornerradiusform=I}}function s(y,R){var L,z;for(L=0;L<R.length;L++){var F=R[L],B=F[0].trace,O=B.type==="funnel"?B._base:B.base,I,N=B.orientation==="h"?B.xcalendar:B.ycalendar,U=y.type==="category"||y.type==="multicategory"?function(){return null}:y.d2c;if(b(O)){for(z=0;z<Math.min(O.length,F.length);z++)I=U(O[z],0,N),h(I)?(F[z].b=+I,F[z].hasB=1):F[z].b=0;for(;z<F.length;z++)F[z].b=0}else{I=U(O,0,N);var X=h(I);for(I=X?I:0,z=0;z<F.length;z++)F[z].b=I,X&&(F[z].hasB=1)}}}function f(y,R,L,z,F){for(var B=0;B<z.length;B++){var O=z[B],I=new r([O],{posAxis:R,sepNegVal:!1,overlapNoMerge:!F.norm});d(y,R,I,F),F.norm?(M(I),w(L,I,F)):x(L,I)}}function c(y,R,L,z,F){var B=new r(z,{posAxis:R,sepNegVal:!1,overlapNoMerge:!F.norm});d(y,R,B,F),_(B,R),F.norm?(M(B),w(L,B,F)):x(L,B)}function p(y,R,L,z,F){var B=new r(z,{posAxis:R,sepNegVal:F.mode==="relative",overlapNoMerge:!(F.norm||F.mode==="stack"||F.mode==="relative")});d(y,R,B,F),A(L,B,F);for(var O=0;O<z.length;O++)for(var I=z[O],N=I[0].t.offsetindex,U=0;U<I.length;U++){var X=I[U];if(X.s!==S){var ee=X.b+X.s===B.get(X.p,N,X.s);ee&&(X._outmost=!0)}}F.norm&&w(L,B,F)}function d(y,R,L,z){var F=y._fullLayout,B=L.positions,O=L.distinctPositions,I=L.minDiff,N=L.traces,U=N.length,X=B.length!==O.length,ee=I*(1-z.gap),ue,oe,le,V;if(R._id==="angularaxis")ue=ee,oe=ue*(1-(z.groupgap||0)),le=-oe/2;else{var J=t(F,R._id)+N[0][0].trace.orientation;V=F._alignmentOpts[J]||{}}for(var te=0;te<U;te++){var Z=N[te],se=Z[0].trace;if(R._id!=="angularaxis"){var Q=V[se.alignmentgroup]||{},q=Object.keys(Q.offsetGroups||{}).length;q?ue=ee/q:ue=X?ee/U:ee,oe=ue*(1-(z.groupgap||0)),q?le=((2*se._offsetIndex+1-q)*ue-oe)/2:le=X?((2*te+1-U)*ue-oe)/2:-oe/2}var re=Z[0].t;re.barwidth=oe,re.offsetindex=se._offsetIndex||0,re.poffset=le,re.bargroupwidth=ee,re.bardelta=I}L.binWidth=N[0][0].t.barwidth/100,T(L),l(R,L),R._id==="angularaxis"?m(R,L):m(R,L,X)}function T(y){var R=y.traces,L,z;for(L=0;L<R.length;L++){var F=R[L],B=F[0],O=B.trace,I=B.t,N=O._offset||O.offset,U=I.poffset,X;if(b(N)){for(X=Array.prototype.slice.call(N,0,F.length),z=0;z<X.length;z++)h(X[z])||(X[z]=U);for(z=X.length;z<F.length;z++)X.push(U);I.poffset=X}else N!==void 0&&(I.poffset=N);var ee=O._width||O.width,ue=I.barwidth;if(b(ee)){var oe=Array.prototype.slice.call(ee,0,F.length);for(z=0;z<oe.length;z++)h(oe[z])||(oe[z]=ue);for(z=oe.length;z<F.length;z++)oe.push(ue);if(I.barwidth=oe,N===void 0){for(X=[],z=0;z<F.length;z++)X.push(U+(ue-oe[z])/2);I.poffset=X}}else ee!==void 0&&(I.barwidth=ee,N===void 0&&(I.poffset=U+(ue-ee)/2))}}function l(y,R){for(var L=R.traces,z=v(y),F=0;F<L.length;F++)for(var B=L[F],O=B[0].t,I=O.poffset,N=b(I),U=O.barwidth,X=b(U),ee=0;ee<B.length;ee++){var ue=B[ee],oe=ue.w=X?U[ee]:U;ue.p===void 0&&(ue.p=ue[z],ue["orig_"+z]=ue[z]);var le=(N?I[ee]:I)+oe/2;ue[z]=ue.p+le}}function m(y,R,L){var z=R.traces,F=R.minDiff,B=F/2;e.minDtick(y,R.minDiff,R.distinctPositions[0],L);for(var O=0;O<z.length;O++){var I=z[O],N=I[0],U=N.trace,X=[],ee,ue,oe,le;for(le=0;le<I.length;le++)ee=I[le],ue=ee.p-B,oe=ee.p+B,X.push(ue,oe);if(U.width||U.offset){var V=N.t,J=V.poffset,te=V.barwidth,Z=b(J),se=b(te);for(le=0;le<I.length;le++){ee=I[le];var Q=Z?J[le]:J,q=se?te[le]:te;ue=ee.p+Q,oe=ue+q,X.push(ue,oe)}}U._extremes[y._id]=e.findExtremes(y,X,{padded:!1})}}function x(y,R){for(var L=R.traces,z=v(y),F=0;F<L.length;F++){for(var B=L[F],O=B[0].trace,I=O.type==="scatter",N=O.orientation==="v",U=[],X=!1,ee=0;ee<B.length;ee++){var ue=B[ee],oe=I?0:ue.b,le=I?N?ue.y:ue.x:oe+ue.s;ue[z]=le,U.push(le),ue.hasB&&U.push(oe),(!ue.hasB||!ue.b)&&(X=!0)}O._extremes[y._id]=e.findExtremes(y,U,{tozero:X,padded:!0})}}function A(y,R,L){var z=v(y),F=R.traces,B,O,I,N,U,X,ee;for(N=0;N<F.length;N++)if(B=F[N],O=B[0].trace,O.type==="funnel")for(ee=B[0].t.offsetindex,U=0;U<B.length;U++)X=B[U],X.s!==S&&R.put(X.p,ee,-.5*X.s);for(N=0;N<F.length;N++){B=F[N],O=B[0].trace,I=O.type==="funnel",ee=O.type==="barpolar"?0:B[0].t.offsetindex;var ue=[];for(U=0;U<B.length;U++)if(X=B[U],X.s!==S){var oe;I?oe=X.s:oe=X.s+X.b;var le=R.put(X.p,ee,oe),V=le+oe;X.b=le,X[z]=V,L.norm||(ue.push(V),X.hasB&&ue.push(le))}L.norm||(O._extremes[y._id]=e.findExtremes(y,ue,{tozero:!0,padded:!0}))}}function M(y){for(var R=y.traces,L=0;L<R.length;L++)for(var z=R[L],F=z[0].t.offsetindex,B=0;B<z.length;B++){var O=z[B];O.s!==S&&y.put(O.p,F,O.b+O.s)}}function _(y,R){for(var L=y.traces,z=0;z<L.length;z++){var F=L[z],B=F[0].trace,O=F[0].t.offsetindex;if(B.base===void 0)for(var I=new r([F],{posAxis:R,sepNegVal:!0,overlapNoMerge:!0}),N=0;N<F.length;N++){var U=F[N];if(U.p!==S){var X=I.put(U.p,O,U.b+U.s);X&&(U.b=X)}}}}function w(y,R,L){var z=R.traces,F=v(y),B=L.norm==="fraction"?1:100,O=B/1e9,I=y.l2c(y.c2l(0)),N=L.mode==="stack"?B:I;function U(re){return h(y.c2l(re))&&(re<I-O||re>N+O||!h(I))}for(var X=0;X<z.length;X++){for(var ee=z[X],ue=ee[0].t.offsetindex,oe=ee[0].trace,le=[],V=!1,J=!1,te=0;te<ee.length;te++){var Z=ee[te];if(Z.s!==S){var se=Math.abs(B/R.get(Z.p,ue,Z.s));Z.b*=se,Z.s*=se;var Q=Z.b,q=Q+Z.s;Z[F]=q,le.push(q),J=J||U(q),Z.hasB&&(le.push(Q),J=J||U(Q)),(!Z.hasB||!Z.b)&&(V=!0)}}oe._extremes[y._id]=e.findExtremes(y,le,{tozero:V,padded:J})}}function g(y,R,L,z){for(var F=v(z),B=0;B<y.length;B++)for(var O=y[B],I=0;I<O.length;I++){var N=O[I],U=N[F];N._sMin=R[U],N._sMax=L[U]}}function u(y,R){var L=v(R),z={},F,B,O,I=1/0,N=-1/0;for(F=0;F<y.length;F++)for(O=y[F],B=0;B<O.length;B++){var U=O[B].p;h(U)&&(I=Math.min(I,U),N=Math.max(N,U))}var X=1e4/(N-I),ee=z.round=function(fe){return String(Math.round(X*(fe-I)))},ue={},oe={},le=y.some(function(fe){var be=fe[0].trace;return"marker"in be&&be.marker.cornerradius});for(F=0;F<y.length;F++){O=y[F],O[0].t.extents=z;var V=O[0].t.poffset,J=b(V);for(B=0;B<O.length;B++){var te=O[B],Z=te[L]-te.w/2;if(h(Z)){var se=te[L]+te.w/2,Q=ee(te.p);z[Q]?z[Q]=[Math.min(Z,z[Q][0]),Math.max(se,z[Q][1])]:z[Q]=[Z,se]}if(te.p0=te.p+(J?V[B]:V),te.p1=te.p0+te.w,te.s0=te.b,te.s1=te.s0+te.s,le){var q=Math.min(te.s0,te.s1)||0,re=Math.max(te.s0,te.s1)||0,ae=te[L];ue[ae]=ae in ue?Math.min(ue[ae],q):q,oe[ae]=ae in oe?Math.max(oe[ae],re):re}}}le&&g(y,ue,oe,R)}function v(y){return y._id.charAt(0)}G.exports={crossTraceCalc:o,setGroupPositions:a}}}),XS=He({"src/traces/scatter/cross_trace_calc.js"(Y,G){var h=dv(),b=Bp().setGroupPositions;function S(t,r){for(var o=r.xaxis,a=r.yaxis,i=t._fullLayout,n=t._fullData,s=t.calcdata,f=[],c=[],p=0;p<n.length;p++){var d=n[p];d.visible===!0&&d.type==="scatter"&&d.xaxis===o._id&&d.yaxis===a._id&&(d.orientation==="h"?f.push(s[p]):d.orientation==="v"&&c.push(s[p]))}var T={mode:i.scattermode,gap:i.scattergap};b(t,o,a,c,T),b(t,a,o,f,T)}G.exports=function(r,o){r._fullLayout.scattermode==="group"&&S(r,o);var a=o.xaxis,i=o.yaxis,n=a._id+i._id,s=r._fullLayout._scatterStackOpts[n];if(s){var f=r.calcdata,c,p,d,T,l,m,x,A,M,_,w,g,u,v,y;for(var R in s){_=s[R];var L=_.traceIndices;if(L.length){for(w=_.stackgaps==="interpolate",g=_.groupnorm,_.orientation==="v"?(u="x",v="y"):(u="y",v="x"),y=new Array(L.length),c=0;c<y.length;c++)y[c]=!1;m=f[L[0]];var z=new Array(m.length);for(c=0;c<m.length;c++)z[c]=m[c][u];for(c=1;c<L.length;c++){for(l=f[L[c]],p=d=0;p<l.length;p++){for(x=l[p][u];x>z[d]&&d<z.length;d++)E(l,p,z[d],c,y,w,u),p++;if(x!==z[d]){for(T=0;T<c;T++)E(f[L[T]],d,x,T,y,w,u);z.splice(d,0,x)}d++}for(;d<z.length;d++)E(l,p,z[d],c,y,w,u),p++}var F=z.length;for(p=0;p<m.length;p++){for(A=m[p][v]=m[p].s,c=1;c<L.length;c++)l=f[L[c]],l[0].trace._rawLength=l[0].trace._length,l[0].trace._length=F,A+=l[p].s,l[p][v]=A;if(g)for(M=(g==="fraction"?A:A/100)||1,c=0;c<L.length;c++){var B=f[L[c]][p];B[v]/=M,B.sNorm=B.s/M}}for(c=0;c<L.length;c++){l=f[L[c]];var O=l[0].trace,I=h.calcMarkerSize(O,O._rawLength),N=Array.isArray(I);if(I&&y[c]||N){var U=I;for(I=new Array(F),p=0;p<F;p++)I[p]=l[p].gap?0:N?U[l[p].i]:U}var X=new Array(F),ee=new Array(F);for(p=0;p<F;p++)X[p]=l[p].x,ee[p]=l[p].y;h.calcAxisExpansion(r,O,a,i,X,ee,I),l[0].t.orientation=_.orientation}}}}};function E(t,r,o,a,i,n,s){i[a]=!0;var f={i:null,gap:!0,s:0};if(f[s]=o,t.splice(r,0,f),r&&o===t[r-1][s]){var c=t[r-1];f.s=c.s,f.i=c.i,f.gap=c.gap}else n&&(f.s=e(t,r,o,s));r||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}function e(t,r,o,a){var i=t[r-1],n=t[r+1];return n?i?i.s+(n.s-i.s)*(o-i[a])/(n[a]-i[a]):n.s:i.s}}}),Yb=He({"src/traces/scatter/line_points.js"(Y,G){var h=Io(),b=Qo(),S=b.BADNUM,E=b.LOG_CLIP,e=E+.5,t=E-.5,r=ea(),o=r.segmentsIntersect,a=r.constrain,i=Xv();G.exports=function(s,f){var c=f.trace||{},p=f.xaxis,d=f.yaxis,T=p.type==="log",l=d.type==="log",m=p._length,x=d._length,A=f.backoff,M=c.marker,_=f.connectGaps,w=f.baseTolerance,g=f.shape,u=g==="linear",v=c.fill&&c.fill!=="none",y=[],R=i.minTolerance,L=s.length,z=new Array(L),F=0,B,O,I,N,U,X,ee,ue,oe,le,V,J,te,Z,se,Q;function q(xt){var Mt=s[xt];if(!Mt)return!1;var Nt=f.linearized?p.l2p(Mt.x):p.c2p(Mt.x),sr=f.linearized?d.l2p(Mt.y):d.c2p(Mt.y);if(Nt===S){if(T&&(Nt=p.c2p(Mt.x,!0)),Nt===S)return!1;l&&sr===S&&(Nt*=Math.abs(p._m*x*(p._m>0?e:t)/(d._m*m*(d._m>0?e:t)))),Nt*=1e3}if(sr===S){if(l&&(sr=d.c2p(Mt.y,!0)),sr===S)return!1;sr*=1e3}return[Nt,sr]}function re(xt,Mt,Nt,sr){var ar=Nt-xt,tr=sr-Mt,Tr=.5-xt,sa=.5-Mt,Ea=ar*ar+tr*tr,ba=ar*Tr+tr*sa;if(ba>0&&ba<Ea){var Ia=Tr*tr-sa*ar;if(Ia*Ia<Ea)return!0}}var ae,fe;function be(xt,Mt){var Nt=xt[0]/m,sr=xt[1]/x,ar=Math.max(0,-Nt,Nt-1,-sr,sr-1);return ar&&ae!==void 0&&re(Nt,sr,ae,fe)&&(ar=0),ar&&Mt&&re(Nt,sr,Mt[0]/m,Mt[1]/x)&&(ar=0),(1+i.toleranceGrowth*ar)*w}function Me(xt,Mt){var Nt=xt[0]-Mt[0],sr=xt[1]-Mt[1];return Math.sqrt(Nt*Nt+sr*sr)}var Ie=i.maxScreensAway,Le=-m*Ie,je=m*(1+Ie),et=-x*Ie,rt=x*(1+Ie),Je=[[Le,et,je,et],[je,et,je,rt],[je,rt,Le,rt],[Le,rt,Le,et]],Ze,Ee,xe,he,De,tt;function nt(xt,Mt){for(var Nt=[],sr=0,ar=0;ar<4;ar++){var tr=Je[ar],Tr=o(xt[0],xt[1],Mt[0],Mt[1],tr[0],tr[1],tr[2],tr[3]);Tr&&(!sr||Math.abs(Tr.x-Nt[0][0])>1||Math.abs(Tr.y-Nt[0][1])>1)&&(Tr=[Tr.x,Tr.y],sr&&Me(Tr,xt)<Me(Nt[0],xt)?Nt.unshift(Tr):Nt.push(Tr),sr++)}return Nt}function $e(xt){if(xt[0]<Le||xt[0]>je||xt[1]<et||xt[1]>rt)return[a(xt[0],Le,je),a(xt[1],et,rt)]}function Et(xt,Mt){if(xt[0]===Mt[0]&&(xt[0]===Le||xt[0]===je)||xt[1]===Mt[1]&&(xt[1]===et||xt[1]===rt))return!0}function Ct(xt,Mt){var Nt=[],sr=$e(xt),ar=$e(Mt);return sr&&ar&&Et(sr,ar)||(sr&&Nt.push(sr),ar&&Nt.push(ar)),Nt}function jt(xt,Mt,Nt){return function(sr,ar){var tr=$e(sr),Tr=$e(ar),sa=[];if(tr&&Tr&&Et(tr,Tr))return sa;tr&&sa.push(tr),Tr&&sa.push(Tr);var Ea=2*r.constrain((sr[xt]+ar[xt])/2,Mt,Nt)-((tr||sr)[xt]+(Tr||ar)[xt]);if(Ea){var ba;tr&&Tr?ba=Ea>0==tr[xt]>Tr[xt]?tr:Tr:ba=tr||Tr,ba[xt]+=Ea}return sa}}var Wt;g==="linear"||g==="spline"?Wt=nt:g==="hv"||g==="vh"?Wt=Ct:g==="hvh"?Wt=jt(0,Le,je):g==="vhv"&&(Wt=jt(1,et,rt));function dr(xt,Mt){var Nt=Mt[0]-xt[0],sr=(Mt[1]-xt[1])/Nt,ar=(xt[1]*Mt[0]-Mt[1]*xt[0])/Nt;return ar>0?[sr>0?Le:je,rt]:[sr>0?je:Le,et]}function vr(xt){var Mt=xt[0],Nt=xt[1],sr=Mt===z[F-1][0],ar=Nt===z[F-1][1];if(!(sr&&ar))if(F>1){var tr=Mt===z[F-2][0],Tr=Nt===z[F-2][1];sr&&(Mt===Le||Mt===je)&&tr?Tr?F--:z[F-1]=xt:ar&&(Nt===et||Nt===rt)&&Tr?tr?F--:z[F-1]=xt:z[F++]=xt}else z[F++]=xt}function Dr(xt){z[F-1][0]!==xt[0]&&z[F-1][1]!==xt[1]&&vr([xe,he]),vr(xt),De=null,xe=he=0}var hr=r.isArrayOrTypedArray(M);function Ar(xt){if(xt&&A&&(xt.i=B,xt.d=s,xt.trace=c,xt.marker=hr?M[xt.i]:M,xt.backoff=A),ae=xt[0]/m,fe=xt[1]/x,Ze=xt[0]<Le?Le:xt[0]>je?je:0,Ee=xt[1]<et?et:xt[1]>rt?rt:0,Ze||Ee){if(!F)z[F++]=[Ze||xt[0],Ee||xt[1]];else if(De){var Mt=Wt(De,xt);Mt.length>1&&(Dr(Mt[0]),z[F++]=Mt[1])}else tt=Wt(z[F-1],xt)[0],z[F++]=tt;var Nt=z[F-1];Ze&&Ee&&(Nt[0]!==Ze||Nt[1]!==Ee)?(De&&(xe!==Ze&&he!==Ee?vr(xe&&he?dr(De,xt):[xe||Ze,he||Ee]):xe&&he&&vr([xe,he])),vr([Ze,Ee])):xe-Ze&&he-Ee&&vr([Ze||xe,Ee||he]),De=xt,xe=Ze,he=Ee}else De&&Dr(Wt(De,xt)[0]),z[F++]=xt}for(B=0;B<L;B++)if(O=q(B),!!O){for(F=0,De=null,Ar(O),B++;B<L;B++){if(N=q(B),!N){if(_)continue;break}if(!u||!f.simplify){Ar(N);continue}var mt=q(B+1);if(le=Me(N,O),!(!(v&&(F===0||F===L-1))&&le<be(N,mt)*R)){for(ue=[(N[0]-O[0])/le,(N[1]-O[1])/le],U=O,V=le,J=Z=se=0,ee=!1,I=N,B++;B<s.length;B++){if(X=mt,mt=q(B+1),!X){if(_)continue;break}if(oe=[X[0]-O[0],X[1]-O[1]],Q=oe[0]*ue[1]-oe[1]*ue[0],Z=Math.min(Z,Q),se=Math.max(se,Q),se-Z>be(X,mt))break;I=X,te=oe[0]*ue[0]+oe[1]*ue[1],te>V?(V=te,N=X,ee=!1):te<J&&(J=te,U=X,ee=!0)}if(ee?(Ar(N),I!==U&&Ar(U)):(U!==O&&Ar(U),I!==N&&Ar(N)),Ar(I),B>=s.length||!X)break;Ar(X),O=X}}De&&vr([xe||De[0],he||De[1]]),y.push(z.slice(0,F))}var Fe=g.slice(g.length-1);if(A&&Fe!=="h"&&Fe!=="v"){for(var We=!1,Ae=-1,me=[],pe=0;pe<y.length;pe++)for(var Te=0;Te<y[pe].length-1;Te++){var Ue=y[pe][Te],Xe=y[pe][Te+1],bt=h.applyBackoff(Xe,Ue);(bt[0]!==Xe[0]||bt[1]!==Xe[1])&&(We=!0),me[Ae+1]||(Ae++,me[Ae]=[Ue,[bt[0],bt[1]]])}return We?me:y}return y}}}),Kb=He({"src/traces/scatter/link_traces.js"(Y,G){var h={tonextx:1,tonexty:1,tonext:1};G.exports=function(S,E,e){var t,r,o,a,i,n={},s=!1,f=-1,c=0,p=-1;for(r=0;r<e.length;r++)t=e[r][0].trace,o=t.stackgroup||"",o?o in n?i=n[o]:(i=n[o]=c,c++):t.fill in h&&p>=0?i=p:(i=p=c,c++),i<f&&(s=!0),t._groupIndex=f=i;var d=e.slice();s&&d.sort(function(l,m){var x=l[0].trace,A=m[0].trace;return x._groupIndex-A._groupIndex||x.index-A.index});var T={};for(r=0;r<d.length;r++)t=d[r][0].trace,o=t.stackgroup||"",t.visible===!0?(t._nexttrace=null,t.fill in h&&(a=T[o],t._prevtrace=a||null,a&&(a._nexttrace=t)),t._ownfill=t.fill&&(t.fill.slice(0,6)==="tozero"||t.fill==="toself"||t.fill.slice(0,2)==="to"&&!t._prevtrace),T[o]=t):t._prevtrace=t._nexttrace=t._ownfill=null;return d}}}),Z0=He({"src/traces/scatter/plot.js"(Y,G){var h=_i(),b=ji(),S=ea(),E=S.ensureSingle,e=S.identity,t=Io(),r=mu(),o=Yb(),a=Kb(),i=sm().tester;G.exports=function(p,d,T,l,m,x){var A,M,_=!m,w=!!m&&m.duration>0,g=a(p,d,T);if(A=l.selectAll("g.trace").data(g,function(v){return v[0].trace.uid}),A.enter().append("g").attr("class",function(v){return"trace scatter trace"+v[0].trace.uid}).style("stroke-miterlimit",2),A.order(),n(p,A,d),w){x&&(M=x());var u=h.transition().duration(m.duration).ease(m.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()});u.each(function(){l.selectAll("g.trace").each(function(v,y){s(p,y,d,v,g,this,m)})})}else A.each(function(v,y){s(p,y,d,v,g,this,m)});_&&A.exit().remove(),l.selectAll("path:not([d])").remove()};function n(c,p,d){p.each(function(T){var l=E(h.select(this),"g","fills");t.setClipUrl(l,d.layerClipId,c);var m=T[0].trace,x=[];m._ownfill&&x.push("_ownFill"),m._nexttrace&&x.push("_nextFill");var A=l.selectAll("g").data(x,e);A.enter().append("g"),A.exit().each(function(M){m[M]=null}).remove(),A.order().each(function(M){m[M]=E(h.select(this),"path","js-fill")})})}function s(c,p,d,T,l,m,x){var A=c._context.staticPlot,M;f(c,p,d,T,l);var _=!!x&&x.duration>0;function w(vr){return _?vr.transition():vr}var g=d.xaxis,u=d.yaxis,v=T[0].trace,y=v.line,R=h.select(m),L=E(R,"g","errorbars"),z=E(R,"g","lines"),F=E(R,"g","points"),B=E(R,"g","text");if(b.getComponentMethod("errorbars","plot")(c,L,d,x),v.visible!==!0)return;w(R).style("opacity",v.opacity);var O,I,N=v.fill.charAt(v.fill.length-1);N!=="x"&&N!=="y"&&(N="");var U,X;N==="y"?(U=1,X=u.c2p(0,!0)):N==="x"&&(U=0,X=g.c2p(0,!0)),T[0][d.isRangePlot?"nodeRangePlot3":"node3"]=R;var ee="",ue=[],oe=v._prevtrace,le=null,V=null;oe&&(ee=oe._prevRevpath||"",I=oe._nextFill,ue=oe._ownPolygons,le=oe._fillsegments,V=oe._fillElement);var J,te,Z="",se="",Q,q,re,ae,fe,be,Me=[];v._polygons=[];var Ie=[],Le=[],je=S.noop;if(O=v._ownFill,r.hasLines(v)||v.fill!=="none"){I&&I.datum(T),["hv","vh","hvh","vhv"].indexOf(y.shape)!==-1?(Q=t.steps(y.shape),q=t.steps(y.shape.split("").reverse().join(""))):y.shape==="spline"?Q=q=function(vr){var Dr=vr[vr.length-1];return vr.length>1&&vr[0][0]===Dr[0]&&vr[0][1]===Dr[1]?t.smoothclosed(vr.slice(1),y.smoothing):t.smoothopen(vr,y.smoothing)}:Q=q=function(vr){return"M"+vr.join("L")},re=function(vr){return q(vr.reverse())},Le=o(T,{xaxis:g,yaxis:u,trace:v,connectGaps:v.connectgaps,baseTolerance:Math.max(y.width||1,3)/4,shape:y.shape,backoff:y.backoff,simplify:y.simplify,fill:v.fill}),Ie=new Array(Le.length);var et=0;for(M=0;M<Le.length;M++){var rt,Je=Le[M];!rt||!N?(rt=Je.slice(),Ie[et]=rt,et++):rt.push.apply(rt,Je)}v._fillElement=null,v._fillExclusionElement=V,v._fillsegments=Ie.slice(0,et),Ie=v._fillsegments,Le.length&&(ae=Le[0][0].slice(),fe=Le[Le.length-1],be=fe[fe.length-1].slice()),je=function(vr){return function(Dr){if(J=Q(Dr),te=re(Dr),Z?N?(Z+="L"+J.slice(1),se=te+("L"+se.slice(1))):(Z+="Z"+J,se=te+"Z"+se):(Z=J,se=te),r.hasLines(v)){var hr=h.select(this);if(hr.datum(T),vr)w(hr.style("opacity",0).attr("d",J).call(t.lineGroupStyle)).style("opacity",1);else{var Ar=w(hr);Ar.attr("d",J),t.singleLineStyle(T,Ar)}}}}}var Ze=z.selectAll(".js-line").data(Le);w(Ze.exit()).style("opacity",0).remove(),Ze.each(je(!1)),Ze.enter().append("path").classed("js-line",!0).style("vector-effect",A?"none":"non-scaling-stroke").call(t.lineGroupStyle).each(je(!0)),t.setClipUrl(Ze,d.layerClipId,c);function Ee(vr){w(vr).attr("d","M0,0Z")}var xe=function(){var vr=new Array(Ie.length);for(M=0;M<Ie.length;M++)vr[M]=i(Ie[M]);return vr},he=function(vr){var Dr,hr;if(!vr||vr.length===0)for(Dr=new Array(Ie.length),hr=0;hr<Ie.length;hr++){var Ar=Ie[hr][0].slice(),mt=Ie[hr][Ie[hr].length-1].slice();Ar[U]=mt[U]=X;var Fe=[mt,Ar],We=Fe.concat(Ie[hr]);Dr[hr]=i(We)}else{for(Dr=new Array(vr.length-1+Ie.length),hr=0;hr<vr.length-1;hr++)Dr[hr]=i(vr[hr]);var Ae=vr[vr.length-1].slice();for(Ae.reverse(),hr=0;hr<Ie.length;hr++)Dr[vr.length-1+hr]=i(Ie[hr].concat(Ae))}return Dr};Le.length?(O?(O.datum(T),ae&&be&&(N?(ae[U]=be[U]=X,w(O).attr("d","M"+be+"L"+ae+"L"+Z.slice(1)).call(t.singleFillStyle,c),Me=he(null)):(w(O).attr("d",Z+"Z").call(t.singleFillStyle,c),Me=xe())),v._polygons=Me,v._fillElement=O):I&&(v.fill.slice(0,6)==="tonext"&&Z&&ee?(v.fill==="tonext"?(w(I).attr("d",Z+"Z"+ee+"Z").call(t.singleFillStyle,c),Me=xe(),v._polygons=Me.concat(ue)):(w(I).attr("d",Z+"L"+ee.slice(1)+"Z").call(t.singleFillStyle,c),Me=he(le),v._polygons=Me),v._fillElement=I):Ee(I)),v._prevRevpath=se):(O?Ee(O):I&&Ee(I),v._prevRevpath=null),v._ownPolygons=Me;function De(vr){return vr.filter(function(Dr){return!Dr.gap&&Dr.vis})}function tt(vr){return vr.filter(function(Dr){return Dr.vis})}function nt(vr){return vr.filter(function(Dr){return!Dr.gap})}function $e(vr){return vr.id}function Et(vr){if(vr.ids)return $e}function Ct(){return!1}function jt(vr,Dr,hr){var Ar,mt,Fe,We=hr[0].trace,Ae=r.hasMarkers(We),me=r.hasText(We),pe=Et(We),Te=Ct,Ue=Ct;if(Ae||me){var Xe=e,bt=We.stackgroup,xt=bt&&c._fullLayout._scatterStackOpts[g._id+u._id][bt].stackgaps==="infer zero";We.marker.maxdisplayed||We._needsCull?Xe=xt?tt:De:bt&&!xt&&(Xe=nt),Ae&&(Te=Xe),me&&(Ue=Xe)}mt=vr.selectAll("path.point"),Ar=mt.data(Te,pe);var Mt=Ar.enter().append("path").classed("point",!0);_&&Mt.call(t.pointStyle,We,c).call(t.translatePoints,g,u).style("opacity",0).transition().style("opacity",1),Ar.order();var Nt;Ae&&(Nt=t.makePointStyleFns(We)),Ar.each(function(sr){var ar=h.select(this),tr=w(ar);Fe=t.translatePoint(sr,tr,g,u),Fe?(t.singlePointStyle(sr,tr,We,Nt,c),d.layerClipId&&t.hideOutsideRangePoint(sr,tr,g,u,We.xcalendar,We.ycalendar),We.customdata&&ar.classed("plotly-customdata",sr.data!==null&&sr.data!==void 0)):tr.remove()}),_?Ar.exit().transition().style("opacity",0).remove():Ar.exit().remove(),mt=Dr.selectAll("g"),Ar=mt.data(Ue,pe),Ar.enter().append("g").classed("textpoint",!0).append("text"),Ar.order(),Ar.each(function(sr){var ar=h.select(this),tr=w(ar.select("text"));Fe=t.translatePoint(sr,tr,g,u),Fe?d.layerClipId&&t.hideOutsideRangePoint(sr,ar,g,u,We.xcalendar,We.ycalendar):ar.remove()}),Ar.selectAll("text").call(t.textPointStyle,We,c).each(function(sr){var ar=g.c2p(sr.x),tr=u.c2p(sr.y);h.select(this).selectAll("tspan.line").each(function(){w(h.select(this)).attr({x:ar,y:tr})})}),Ar.exit().remove()}F.datum(T),B.datum(T),jt(F,B,T);var Wt=v.cliponaxis===!1,dr=Wt?null:d.layerClipId;t.setClipUrl(F,dr,c),t.setClipUrl(B,dr,c)}function f(c,p,d,T,l){var m=d.xaxis,x=d.yaxis,A=h.extent(S.simpleMap(m.range,m.r2c)),M=h.extent(S.simpleMap(x.range,x.r2c)),_=T[0].trace;if(r.hasMarkers(_)){var w=_.marker.maxdisplayed;if(w!==0){var g=T.filter(function(R){return R.x>=A[0]&&R.x<=A[1]&&R.y>=M[0]&&R.y<=M[1]}),u=Math.ceil(g.length/w),v=0;l.forEach(function(R,L){var z=R[0].trace;r.hasMarkers(z)&&z.marker.maxdisplayed>0&&L<p&&v++});var y=Math.round(v*u/3+Math.floor(v/3)*u/7.1);T.forEach(function(R){delete R.vis}),g.forEach(function(R,L){Math.round((L+y)%u)===0&&(R.vis=!0)})}}}}}),xh=He({"src/traces/scatter/marker_colorbar.js"(Y,G){G.exports={container:"marker",min:"cmin",max:"cmax"}}}),y1=He({"src/traces/scatter/format_labels.js"(Y,G){var h=Ao();G.exports=function(S,E,e){var t={},r={_fullLayout:e},o=h.getFromTrace(r,E,"x"),a=h.getFromTrace(r,E,"y"),i=S.orig_x;i===void 0&&(i=S.x);var n=S.orig_y;return n===void 0&&(n=S.y),t.xLabel=h.tickText(o,o.c2l(i),!0).text,t.yLabel=h.tickText(a,a.c2l(n),!0).text,t}}}),Gh=He({"src/traces/scatter/style.js"(Y,G){var h=_i(),b=Io(),S=ji();function E(o){var a=h.select(o).selectAll("g.trace.scatter");a.style("opacity",function(i){return i[0].trace.opacity}),a.selectAll("g.points").each(function(i){var n=h.select(this),s=i.trace||i[0].trace;e(n,s,o)}),a.selectAll("g.text").each(function(i){var n=h.select(this),s=i.trace||i[0].trace;t(n,s,o)}),a.selectAll("g.trace path.js-line").call(b.lineGroupStyle),a.selectAll("g.trace path.js-fill").call(b.fillGroupStyle,o,!1),S.getComponentMethod("errorbars","style")(a)}function e(o,a,i){b.pointStyle(o.selectAll("path.point"),a,i)}function t(o,a,i){b.textPointStyle(o.selectAll("text"),a,i)}function r(o,a,i){var n=a[0].trace;n.selectedpoints?(b.selectedPointStyle(i.selectAll("path.point"),n),b.selectedTextStyle(i.selectAll("text"),n)):(e(i,n,o),t(i,n,o))}G.exports={style:E,stylePoints:e,styleText:t,styleOnSelect:r}}}),Y0=He({"src/traces/scatter/get_trace_color.js"(Y,G){var h=Di(),b=mu();G.exports=function(E,e){var t,r;if(E.mode==="lines")return t=E.line.color,t&&h.opacity(t)?t:E.fillcolor;if(E.mode==="none")return E.fill?E.fillcolor:"";var o=e.mcc||(E.marker||{}).color,a=e.mlcc||((E.marker||{}).line||{}).color;return r=o&&h.opacity(o)?o:a&&h.opacity(a)&&(e.mlw||((E.marker||{}).line||{}).width)?a:"",r?h.opacity(r)<.3?h.addOpacity(r,.3):r:(t=(E.line||{}).color,t&&h.opacity(t)&&b.hasLines(E)&&E.line.width?t:E.fillcolor)}}}),K0=He({"src/traces/scatter/hover.js"(Y,G){var h=ea(),b=kc(),S=ji(),E=Y0(),e=Di(),t=h.fillText;G.exports=function(o,a,i,n){var s=o.cd,f=s[0].trace,c=o.xa,p=o.ya,d=c.c2p(a),T=p.c2p(i),l=[d,T],m=f.hoveron||"",x=f.mode.indexOf("markers")!==-1?3:.5,A=!!f.xperiodalignment,M=!!f.yperiodalignment;if(m.indexOf("points")!==-1){var _=function(ue){if(A){var oe=c.c2p(ue.xStart),le=c.c2p(ue.xEnd);return d>=Math.min(oe,le)&&d<=Math.max(oe,le)?0:1/0}var V=Math.max(3,ue.mrc||0),J=1-1/V,te=Math.abs(c.c2p(ue.x)-d);return te<V?J*te/V:te-V+J},w=function(ue){if(M){var oe=p.c2p(ue.yStart),le=p.c2p(ue.yEnd);return T>=Math.min(oe,le)&&T<=Math.max(oe,le)?0:1/0}var V=Math.max(3,ue.mrc||0),J=1-1/V,te=Math.abs(p.c2p(ue.y)-T);return te<V?J*te/V:te-V+J},g=function(ue){var oe=Math.max(x,ue.mrc||0),le=c.c2p(ue.x)-d,V=p.c2p(ue.y)-T;return Math.max(Math.sqrt(le*le+V*V)-oe,1-x/oe)},u=b.getDistanceFunction(n,_,w,g);if(b.getClosest(s,u,o),o.index!==!1){var v=s[o.index],y=c.c2p(v.x,!0),R=p.c2p(v.y,!0),L=v.mrc||1;o.index=v.i;var z=s[0].t.orientation,F=z&&(v.sNorm||v.s),B=z==="h"?F:v.orig_x!==void 0?v.orig_x:v.x,O=z==="v"?F:v.orig_y!==void 0?v.orig_y:v.y;return h.extendFlat(o,{color:E(f,v),x0:y-L,x1:y+L,xLabelVal:B,y0:R-L,y1:R+L,yLabelVal:O,spikeDistance:g(v),hovertemplate:f.hovertemplate}),t(v,f,o),S.getComponentMethod("errorbars","hoverInfo")(v,f,o),[o]}}function I(ue){if(!ue)return!1;var oe=ue.node();try{var le=new DOMPoint(l[0],l[1]);return oe.isPointInFill(le)}catch{var V=oe.ownerSVGElement.createSVGPoint();return V.x=l[0],V.y=l[1],oe.isPointInFill(V)}}function N(ue){var oe,le=[],V=1/0,J=-1/0,te=1/0,Z=-1/0,se;for(oe=0;oe<ue.length;oe++){var Q=ue[oe];Q.contains(l)&&(le.push(Q),te=Math.min(te,Q.ymin),Z=Math.max(Z,Q.ymax))}if(le.length===0)return null;te=Math.max(te,0),Z=Math.min(Z,p._length),se=(te+Z)/2;var q,re,ae,fe,be,Me,Ie;for(oe=0;oe<le.length;oe++)for(re=le[oe].pts,q=1;q<re.length;q++)Me=re[q-1][1],Ie=re[q][1],Me>se!=Ie>=se&&(fe=re[q-1][0],be=re[q][0],Ie-Me&&(ae=fe+(be-fe)*(se-Me)/(Ie-Me),V=Math.min(V,ae),J=Math.max(J,ae)));return V=Math.max(V,0),J=Math.min(J,c._length),{x0:V,x1:J,y0:se,y1:se}}if(m.indexOf("fills")!==-1&&f._fillElement){var U=I(f._fillElement)&&!I(f._fillExclusionElement);if(U){var X=N(f._polygons);X===null&&(X={x0:l[0],x1:l[0],y0:l[1],y1:l[1]});var ee=e.defaultLine;return e.opacity(f.fillcolor)?ee=f.fillcolor:e.opacity((f.line||{}).color)&&(ee=f.line.color),h.extendFlat(o,{distance:o.maxHoverDistance,x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1,color:ee,hovertemplate:!1}),delete o.index,f.text&&!h.isArrayOrTypedArray(f.text)?o.text=String(f.text):o.text=f.name,[o]}}}}}),$0=He({"src/traces/scatter/select.js"(Y,G){var h=mu();G.exports=function(S,E){var e=S.cd,t=S.xaxis,r=S.yaxis,o=[],a=e[0].trace,i,n,s,f,c=!h.hasMarkers(a)&&!h.hasText(a);if(c)return[];if(E===!1)for(i=0;i<e.length;i++)e[i].selected=0;else for(i=0;i<e.length;i++)n=e[i],s=t.c2p(n.x),f=r.c2p(n.y),n.i!==null&&E.contains([s,f],!1,i,S)?(o.push({pointNumber:n.i,x:t.c2d(n.x),y:r.c2d(n.y)}),n.selected=1):n.selected=0;return o}}}),ZS=He({"src/plots/cartesian/attributes.js"(Y,G){G.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}}),$b=He({"src/plots/cartesian/type_defaults.js"(Y,G){var h=ji().traceIs,b=G0();G.exports=function(o,a,i,n){i("autotypenumbers",n.autotypenumbersDflt);var s=i("type",(n.splomStash||{}).type);s==="-"&&(S(a,n.data),a.type==="-"?a.type="linear":o.type=a.type)};function S(r,o){if(r.type==="-"){var a=r._id,i=a.charAt(0),n;a.indexOf("scene")!==-1&&(a=i);var s=E(o,a,i);if(s){if(s.type==="histogram"&&i==={v:"y",h:"x"}[s.orientation||"v"]){r.type="linear";return}var f=i+"calendar",c=s[f],p={noMultiCategory:!h(s,"cartesian")||h(s,"noMultiCategory")};if(s.type==="box"&&s._hasPreCompStats&&i==={h:"x",v:"y"}[s.orientation||"v"]&&(p.noMultiCategory=!0),p.autotypenumbers=r.autotypenumbers,t(s,i)){var d=e(s),T=[];for(n=0;n<o.length;n++){var l=o[n];!h(l,"box-violin")||(l[i+"axis"]||i)!==a||(l[d]!==void 0?T.push(l[d][0]):l.name!==void 0?T.push(l.name):T.push("text"),l[f]!==c&&(c=void 0))}r.type=b(T,c,p)}else if(s.type==="splom"){var m=s.dimensions,x=m[s._axesDim[a]];x.visible&&(r.type=b(x.values,c,p))}else r.type=b(s[i]||[s[i+"0"]],c,p)}}}function E(r,o,a){for(var i=0;i<r.length;i++){var n=r[i];if(n.type==="splom"&&n._length>0&&(n["_"+a+"axes"]||{})[o])return n;if((n[a+"axis"]||a)===o){if(t(n,a))return n;if((n[a]||[]).length||n[a+"0"])return n}}}function e(r){return{v:"x",h:"y"}[r.orientation||"v"]}function t(r,o){var a=e(r),i=h(r,"box-violin"),n=h(r._fullInput||{},"candlestick");return i&&!n&&o===a&&r[a]===void 0&&r[a+"0"]===void 0}}}),_1=He({"src/plots/cartesian/category_order_defaults.js"(Y,G){var h=Sh().isTypedArraySpec;function b(S,E){var e=E.dataAttr||S._id.charAt(0),t={},r,o,a;if(E.axData)r=E.axData;else for(r=[],o=0;o<E.data.length;o++){var i=E.data[o];i[e+"axis"]===S._id&&r.push(i)}for(o=0;o<r.length;o++){var n=r[o][e];for(a=0;a<n.length;a++){var s=n[a];s!=null&&(t[s]=1)}}return Object.keys(t)}G.exports=function(E,e,t,r){if(e.type==="category"){var o=E.categoryarray,a=Array.isArray(o)&&o.length>0||h(o),i;a&&(i="array");var n=t("categoryorder",i),s;n==="array"&&(s=t("categoryarray")),!a&&n==="array"&&(n=e.categoryorder="trace"),n==="trace"?e._initialCategories=[]:n==="array"?e._initialCategories=s.slice():(s=b(e,r).sort(),n==="category ascending"?e._initialCategories=s:n==="category descending"&&(e._initialCategories=s.reverse()))}}}}),cm=He({"src/plots/cartesian/line_grid_defaults.js"(Y,G){var h=Zf().mix,b=Mf(),S=ea();G.exports=function(e,t,r,o){o=o||{};var a=o.dfltColor;function i(v,y){return S.coerce2(e,t,o.attributes,v,y)}var n=i("linecolor",a),s=i("linewidth"),f=r("showline",o.showLine||!!n||!!s);f||(delete t.linecolor,delete t.linewidth);var c=h(a,o.bgColor,o.blend||b.lightFraction).toRgbString(),p=i("gridcolor",c),d=i("gridwidth"),T=i("griddash"),l=r("showgrid",o.showGrid||!!p||!!d||!!T);if(l||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),o.hasMinor){var m=h(t.gridcolor,o.bgColor,67).toRgbString(),x=i("minor.gridcolor",m),A=i("minor.gridwidth",t.gridwidth||1),M=i("minor.griddash",t.griddash||"solid"),_=r("minor.showgrid",!!x||!!A||!!M);_||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!o.noZeroLine){i("zerolinelayer");var w=i("zerolinecolor",a),g=i("zerolinewidth"),u=r("zeroline",o.showGrid||!!w||!!g);u||(delete t.zerolinelayer,delete t.zerolinecolor,delete t.zerolinewidth)}}}}),fm=He({"src/plots/cartesian/axis_defaults.js"(Y,G){var h=Ui(),b=ji(),S=ea(),E=xl(),e=_h(),t=oh(),r=Rp(),o=V0(),a=Yd(),i=Kd(),n=_1(),s=cm(),f=Mb(),c=Wv(),p=Yf().WEEKDAY_PATTERN,d=Yf().HOUR_PATTERN;G.exports=function(A,M,_,w,g){var u=w.letter,v=w.font||{},y=w.splomStash||{},R=_("visible",!w.visibleDflt),L=M._template||{},z=M.type||L.type||"-",F;if(z==="date"){var B=b.getComponentMethod("calendars","handleDefaults");B(A,M,"calendar",w.calendar),w.noTicklabelmode||(F=_("ticklabelmode"))}!w.noTicklabelindex&&(z==="date"||z==="linear")&&_("ticklabelindex");var O="";(!w.noTicklabelposition||z==="multicategory")&&(O=S.coerce(A,M,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:F==="period"?["outside","inside"]:u==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),w.noTicklabeloverflow||_("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),c(M,g),f(A,M,_,w),n(A,M,_,w),w.noHover||(z!=="category"&&_("hoverformat"),w.noUnifiedhovertitle||_("unifiedhovertitle.text"));var I=_("color"),N=I!==t.color.dflt?I:v.color,U=y.label||g._dfltTitle[u];if(i(A,M,_,z,w),!R)return M;_("title.text",U),S.coerceFont(_,"title.font",v,{overrideDflt:{size:S.bigFont(v.size),color:N}}),r(A,M,_,z);var X=w.hasMinor;if(X&&(E.newContainer(M,"minor"),r(A,M,_,z,{isMinor:!0})),a(A,M,_,z,w),o(A,M,_,w),X){var ee=w.isMinor;w.isMinor=!0,o(A,M,_,w),w.isMinor=ee}s(A,M,_,{dfltColor:I,bgColor:w.bgColor,showGrid:w.showGrid,hasMinor:X,attributes:t}),X&&!M.minor.ticks&&!M.minor.showgrid&&delete M.minor,(M.showline||M.ticks)&&_("mirror");var ue=z==="multicategory";if(!w.noTickson&&(z==="category"||ue)&&(M.ticks||M.showgrid)&&(ue?(_("tickson","boundaries"),delete M.ticklabelposition):_("tickson")),ue){var oe=_("showdividers");oe&&(_("dividercolor"),_("dividerwidth"))}if(z==="date")if(e(A,M,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:T}),!M.rangebreaks.length)delete M.rangebreaks;else{for(var le=0;le<M.rangebreaks.length;le++)if(M.rangebreaks[le].pattern===p){M._hasDayOfWeekBreaks=!0;break}if(c(M,g),g._has("scattergl")||g._has("splom"))for(var V=0;V<w.data.length;V++){var J=w.data[V];(J.type==="scattergl"||J.type==="splom")&&(J.visible=!1,S.warn(J.type+" traces do not work on axes with rangebreaks. Setting trace "+J.index+" to `visible: false`."))}}return M};function T(x,A,M){function _(F,B){return S.coerce(x,A,t.rangebreaks,F,B)}var w=_("enabled");if(w){var g=_("bounds");if(g&&g.length>=2){var u="",v,y;if(g.length===2){for(v=0;v<2;v++)if(y=m(g[v]),y){u=p;break}}var R=_("pattern",u);if(R===p)for(v=0;v<2;v++)y=m(g[v]),y&&(A.bounds[v]=g[v]=y-1);if(R)for(v=0;v<2;v++)switch(y=g[v],R){case p:if(!h(y)){A.enabled=!1;return}if(y=+y,y!==Math.floor(y)||y<0||y>=7){A.enabled=!1;return}A.bounds[v]=g[v]=y;break;case d:if(!h(y)){A.enabled=!1;return}if(y=+y,y<0||y>24){A.enabled=!1;return}A.bounds[v]=g[v]=y;break}if(M.autorange===!1){var L=M.range;if(L[0]<L[1]){if(g[0]<L[0]&&g[1]>L[1]){A.enabled=!1;return}}else if(g[0]>L[0]&&g[1]<L[1]){A.enabled=!1;return}}}else{var z=_("values");if(z&&z.length)_("dvalue");else{A.enabled=!1;return}}}}var l={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function m(x){if(typeof x=="string")return l[x.slice(0,3).toLowerCase()]}}}),x1=He({"src/plots/cartesian/position_defaults.js"(Y,G){var h=Ui(),b=ea();G.exports=function(E,e,t,r){var o=r.counterAxes||[],a=r.overlayableAxes||[],i=r.letter,n=r.grid,s=r.overlayingDomain,f,c,p,d,T,l;n&&(c=n._domains[i][n._axisMap[e._id]],f=n._anchors[e._id],c&&(p=n[i+"side"].split(" ")[0],d=n.domain[i][p==="right"||p==="top"?1:0])),c=c||[0,1],f=f||(h(E.position)?"free":o[0]||"free"),p=p||(i==="x"?"bottom":"left"),d=d||0,T=0,l=!1;var m=b.coerce(E,e,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:f}},"anchor"),x=b.coerce(E,e,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:p}},"side");if(m==="free"){if(i==="y"){var A=t("autoshift");A&&(d=x==="left"?s[0]:s[1],l=e.automargin?e.automargin:!0,T=x==="left"?-3:3),t("shift",T)}t("position",d)}t("automargin",l);var M=!1;if(a.length&&(M=b.coerce(E,e,{overlaying:{valType:"enumerated",values:[!1].concat(a),dflt:!1}},"overlaying")),!M){var _=t("domain",c);_[0]>_[1]-1/4096&&(e.domain=c),b.noneOrAll(E.domain,e.domain,c),e.tickmode==="sync"&&(e.tickmode="auto")}return t("layer"),e}}}),YS=He({"src/plots/cartesian/layout_defaults.js"(Y,G){var h=ea(),b=Di(),S=qh().isUnifiedHover,E=Rb(),e=xl(),t=N0(),r=oh(),o=$b(),a=fm(),i=zp(),n=x1(),s=Mc(),f=s.id2name,c=s.name2id,p=Yf().AX_ID_PATTERN,d=ji(),T=d.traceIs,l=d.getComponentMethod;function m(x,A,M){Array.isArray(x[A])?x[A].push(M):x[A]=[M]}G.exports=function(A,M,_){var w=M.autotypenumbers,g={},u={},v={},y={},R={},L={},z={},F={},B={},O={},I,N;for(I=0;I<_.length;I++){var U=_[I];if(T(U,"cartesian")){var X;if(U.xaxis)X=f(U.xaxis),m(g,X,U);else if(U.xaxes)for(N=0;N<U.xaxes.length;N++)m(g,f(U.xaxes[N]),U);var ee;if(U.yaxis)ee=f(U.yaxis),m(g,ee,U);else if(U.yaxes)for(N=0;N<U.yaxes.length;N++)m(g,f(U.yaxes[N]),U);if(U.type==="funnel"?U.orientation==="h"?(X&&(u[X]=!0),ee&&(z[ee]=!0)):ee&&(v[ee]=!0):U.type==="image"?(ee&&(F[ee]=!0),X&&(F[X]=!0)):(ee&&(R[ee]=!0,L[ee]=!0),(!T(U,"carpet")||U.type==="carpet"&&!U._cheater)&&X&&(y[X]=!0)),U.type==="carpet"&&U._cheater&&X&&(u[X]=!0),T(U,"2dMap")&&(B[X]=!0,B[ee]=!0),T(U,"oriented")){var ue=U.orientation==="h"?ee:X;O[ue]=!0}}}var oe=M._subplots,le=oe.xaxis,V=oe.yaxis,J=h.simpleMap(le,f),te=h.simpleMap(V,f),Z=J.concat(te),se=b.background;le.length&&V.length&&(se=h.coerce(A,M,t,"plot_bgcolor"));var Q=b.combine(se,M.paper_bgcolor),q,re,ae,fe,be;function Me(){var Te=g[q]||[];be._traceIndices=Te.map(function(Ue){return Ue.index}),be._annIndices=[],be._shapeIndices=[],be._selectionIndices=[],be._imgIndices=[],be._subplotsWith=[],be._counterAxes=[],be._name=be._attr=q,be._id=re}function Ie(Te,Ue){return h.coerce(fe,be,r,Te,Ue)}function Le(Te,Ue){return h.coerce2(fe,be,r,Te,Ue)}function je(Te){return Te==="x"?V:le}function et(Te,Ue){for(var Xe=Te==="x"?J:te,bt=[],xt=0;xt<Xe.length;xt++){var Mt=Xe[xt];Mt!==Ue&&!(A[Mt]||{}).overlaying&&bt.push(c(Mt))}return bt}var rt={x:je("x"),y:je("y")},Je=rt.x.concat(rt.y),Ze={},Ee=[];function xe(){var Te=fe.matches;p.test(Te)&&Je.indexOf(Te)===-1&&(Ze[Te]=fe.type,Ee=Object.keys(Ze))}var he=E(A,M),De=S(he);for(I=0;I<Z.length;I++){q=Z[I],re=c(q),ae=q.charAt(0),h.isPlainObject(A[q])||(A[q]={}),fe=A[q],be=e.newContainer(M,q,ae+"axis"),Me();var tt=ae==="x"&&!y[q]&&u[q]||ae==="y"&&!R[q]&&v[q],nt=ae==="y"&&(!L[q]&&z[q]||F[q]),$e={hasMinor:!0,letter:ae,font:M.font,outerTicks:B[q],showGrid:!O[q],data:g[q]||[],bgColor:Q,calendar:M.calendar,automargin:!0,visibleDflt:tt,reverseDflt:nt,autotypenumbersDflt:w,splomStash:((M._splomAxes||{})[ae]||{})[re],noAutotickangles:ae==="y"};Ie("uirevision",M.uirevision),o(fe,be,Ie,$e),a(fe,be,Ie,$e,M);var Et=De&&ae===he.charAt(0),Ct=Le("spikecolor",De?be.color:void 0),jt=Le("spikethickness",De?1.5:void 0),Wt=Le("spikedash",De?"dot":void 0),dr=Le("spikemode",De?"across":void 0),vr=Le("spikesnap"),Dr=Ie("showspikes",!!Et||!!Ct||!!jt||!!Wt||!!dr||!!vr);Dr||(delete be.spikecolor,delete be.spikethickness,delete be.spikedash,delete be.spikemode,delete be.spikesnap);var hr=f(fe.overlaying),Ar=[0,1];if(M[hr]!==void 0){var mt=f(M[hr].anchor);M[mt]!==void 0&&(Ar=M[mt].domain)}n(fe,be,Ie,{letter:ae,counterAxes:rt[ae],overlayableAxes:et(ae,q),grid:M.grid,overlayingDomain:Ar}),Ie("title.standoff"),xe(),be._input=fe}for(I=0;I<Ee.length;){re=Ee[I++],q=f(re),ae=q.charAt(0),h.isPlainObject(A[q])||(A[q]={}),fe=A[q],be=e.newContainer(M,q,ae+"axis"),Me();var Fe={letter:ae,font:M.font,outerTicks:B[q],showGrid:!O[q],data:[],bgColor:Q,calendar:M.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:w,splomStash:((M._splomAxes||{})[ae]||{})[re]};Ie("uirevision",M.uirevision),be.type=Ze[re]||"linear",a(fe,be,Ie,Fe,M),n(fe,be,Ie,{letter:ae,counterAxes:rt[ae],overlayableAxes:et(ae,q),grid:M.grid}),Ie("fixedrange"),Ie("modebardisable"),xe(),be._input=fe}var We=l("rangeslider","handleDefaults"),Ae=l("rangeselector","handleDefaults");for(I=0;I<J.length;I++)q=J[I],fe=A[q],be=M[q],We(A,M,q),be.type==="date"&&Ae(fe,be,M,te,be.calendar),Ie("fixedrange"),Ie("modebardisable");for(I=0;I<te.length;I++){q=te[I],fe=A[q],be=M[q];var me=M[f(be.anchor)],pe=l("rangeslider","isVisible")(me);Ie("fixedrange",pe),Ie("modebardisable")}i.handleDefaults(A,M,{axIds:Je.concat(Ee).sort(s.idSort),axHasImage:F})}}}),KS=He({"src/plots/cartesian/transition_axes.js"(Y,G){var h=_i(),b=ji(),S=ea(),E=Io(),e=Ao();G.exports=function(r,o,a,i){var n=r._fullLayout;if(o.length===0){e.redrawComponents(r);return}function s(M){var _=M.xaxis,w=M.yaxis;n._defs.select("#"+M.clipId+"> rect").call(E.setTranslate,0,0).call(E.setScale,1,1),M.plot.call(E.setTranslate,_._offset,w._offset).call(E.setScale,1,1);var g=M.plot.selectAll(".scatterlayer .trace");g.selectAll(".point").call(E.setPointGroupScale,1,1),g.selectAll(".textpoint").call(E.setTextPointsScale,1,1),g.call(E.hideOutsideRangePoints,M)}function f(M,_){var w=M.plotinfo,g=w.xaxis,u=w.yaxis,v=g._length,y=u._length,R=!!M.xr1,L=!!M.yr1,z=[];if(R){var F=S.simpleMap(M.xr0,g.r2l),B=S.simpleMap(M.xr1,g.r2l),O=F[1]-F[0],I=B[1]-B[0];z[0]=(F[0]*(1-_)+_*B[0]-F[0])/(F[1]-F[0])*v,z[2]=v*(1-_+_*I/O),g.range[0]=g.l2r(F[0]*(1-_)+_*B[0]),g.range[1]=g.l2r(F[1]*(1-_)+_*B[1])}else z[0]=0,z[2]=v;if(L){var N=S.simpleMap(M.yr0,u.r2l),U=S.simpleMap(M.yr1,u.r2l),X=N[1]-N[0],ee=U[1]-U[0];z[1]=(N[1]*(1-_)+_*U[1]-N[1])/(N[0]-N[1])*y,z[3]=y*(1-_+_*ee/X),u.range[0]=g.l2r(N[0]*(1-_)+_*U[0]),u.range[1]=u.l2r(N[1]*(1-_)+_*U[1])}else z[1]=0,z[3]=y;e.drawOne(r,g,{skipTitle:!0}),e.drawOne(r,u,{skipTitle:!0}),e.redrawComponents(r,[g._id,u._id]);var ue=R?v/z[2]:1,oe=L?y/z[3]:1,le=R?z[0]:0,V=L?z[1]:0,J=R?z[0]/z[2]*v:0,te=L?z[1]/z[3]*y:0,Z=g._offset-J,se=u._offset-te;w.clipRect.call(E.setTranslate,le,V).call(E.setScale,1/ue,1/oe),w.plot.call(E.setTranslate,Z,se).call(E.setScale,ue,oe),E.setPointGroupScale(w.zoomScalePts,1/ue,1/oe),E.setTextPointsScale(w.zoomScaleTxt,1/ue,1/oe)}var c;i&&(c=i());function p(){for(var M={},_=0;_<o.length;_++){var w=o[_],g=w.plotinfo.xaxis,u=w.plotinfo.yaxis;w.xr1&&(M[g._name+".range"]=w.xr1.slice()),w.yr1&&(M[u._name+".range"]=w.yr1.slice())}return c&&c(),b.call("relayout",r,M).then(function(){for(var v=0;v<o.length;v++)s(o[v].plotinfo)})}function d(){for(var M={},_=0;_<o.length;_++){var w=o[_],g=w.plotinfo.xaxis,u=w.plotinfo.yaxis;w.xr0&&(M[g._name+".range"]=w.xr0.slice()),w.yr0&&(M[u._name+".range"]=w.yr0.slice())}return b.call("relayout",r,M).then(function(){for(var v=0;v<o.length;v++)s(o[v].plotinfo)})}var T,l,m,x=h.ease(a.easing);r._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(m),m=null,d()});function A(){l=Date.now();for(var M=Math.min(1,(l-T)/a.duration),_=x(M),w=0;w<o.length;w++)f(o[w],_);l-T>a.duration?(p(),m=window.cancelAnimationFrame(A)):m=window.requestAnimationFrame(A)}return T=Date.now(),m=window.requestAnimationFrame(A),Promise.resolve()}}}),mf=He({"src/plots/cartesian/index.js"(Y){var G=_i(),h=ji(),b=ea(),S=nc(),E=Io(),e=ih().getModuleCalcData,t=Mc(),r=Yf(),o=rv(),a=b.ensureSingle;function i(T,l,m){return b.ensureSingle(T,l,m,function(x){x.datum(m)})}var n=r.zindexSeparator;Y.name="cartesian",Y.attr=["xaxis","yaxis"],Y.idRoot=["x","y"],Y.idRegex=r.idRegex,Y.attrRegex=r.attrRegex,Y.attributes=ZS(),Y.layoutAttributes=oh(),Y.supplyLayoutDefaults=YS(),Y.transitionAxes=KS(),Y.finalizeSubplots=function(T,l){var m=l._subplots,x=m.xaxis,A=m.yaxis,M=m.cartesian,_=M,w={},g={},u,v,y;for(u=0;u<_.length;u++){var R=_[u].split("y");w[R[0]]=1,g["y"+R[1]]=1}for(u=0;u<x.length;u++)v=x[u],w[v]||(y=(T[t.id2name(v)]||{}).anchor,r.idRegex.y.test(y)||(y="y"),M.push(v+y),_.push(v+y),g[y]||(g[y]=1,b.pushUnique(A,y)));for(u=0;u<A.length;u++)y=A[u],g[y]||(v=(T[t.id2name(y)]||{}).anchor,r.idRegex.x.test(v)||(v="x"),M.push(v+y),_.push(v+y),w[v]||(w[v]=1,b.pushUnique(x,v)));if(!_.length){v="",y="";for(var L in T)if(r.attrRegex.test(L)){var z=L.charAt(0);z==="x"?(!v||+L.slice(5)<+v.slice(5))&&(v=L):(!y||+L.slice(5)<+y.slice(5))&&(y=L)}v=v?t.name2id(v):"x",y=y?t.name2id(y):"y",x.push(v),A.push(y),M.push(v+y)}},Y.plot=function(T,l,m,x){var A=T._fullLayout,M=A._subplots.cartesian,_=T.calcdata,w;if(!Array.isArray(l))for(l=[],w=0;w<_.length;w++)l.push(w);for(var g=A._zindices,u=0;u<g.length;u++){var v=g[u];for(w=0;w<M.length;w++){var y=M[w],R=A._plots[y];if(u>0){var L=R.id;if(L.indexOf(n)!==-1)continue;L+=n+(u+1),R=b.extendFlat({},R,{id:L,plot:A._cartesianlayer.selectAll(".subplot").select("."+L)})}for(var z=[],F,B=0;B<_.length;B++){var O=_[B],I=O[0].trace;v===(I.zorder||0)&&I.xaxis+I.yaxis===y&&((l.indexOf(I.index)!==-1||I.carpet)&&(F&&F[0].trace.xaxis+F[0].trace.yaxis===y&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&z.indexOf(F)===-1&&z.push(F),z.push(O)),F=O)}s(T,R,z,m,x)}}};function s(T,l,m,x,A){for(var M=r.traceLayerClasses,_=T._fullLayout,w=_._zindices,g=_._modules,u,v,y,R=[],L=[],z=0;z<w.length;z++)for(var F=w[z],B=0;B<g.length;B++){u=g[B];var O=u.name,I=h.modules[O].categories;if(I.svg){var N=u.layerName||O+"layer",U=N+(z?Number(z)+1:""),X=u.plot;v=e(m,X,F),y=v[0],m=v[1],y.length&&R.push({i:M.indexOf(N),zindex:z,className:U,plotMethod:X,cdModule:y}),I.zoomScale&&L.push("."+U)}}R.sort(function(oe,le){return(oe.zindex||0)-(le.zindex||0)||oe.i-le.i});var ee=l.plot.selectAll("g.mlayer").data(R,function(oe){return oe.className});if(ee.enter().append("g").attr("class",function(oe){return oe.className}).classed("mlayer",!0).classed("rangeplot",l.isRangePlot),ee.exit().remove(),ee.order(),ee.each(function(oe){var le=G.select(this),V=oe.className;oe.plotMethod(T,l,oe.cdModule,le,x,A),r.clipOnAxisFalseQuery.indexOf("."+V)===-1&&E.setClipUrl(le,l.layerClipId,T)}),_._has("scattergl")&&(u=h.getModule("scattergl"),y=e(m,u)[0],u.plot(T,l,y)),!T._context.staticPlot&&(l._hasClipOnAxisFalse&&(l.clipOnAxisFalseTraces=l.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),L.length)){var ue=l.plot.selectAll(L.join(",")).selectAll(".trace");l.zoomScalePts=ue.selectAll("path.point"),l.zoomScaleTxt=ue.selectAll(".textpoint")}}Y.clean=function(T,l,m,x){var A=x._plots||{},M=l._plots||{},_=x._subplots||{},w,g,u;if(x._hasOnlyLargeSploms&&!l._hasOnlyLargeSploms)for(u in A)w=A[u],w.plotgroup&&w.plotgroup.remove();var v=x._has&&x._has("gl"),y=l._has&&l._has("gl");if(v&&!y)for(u in A)w=A[u],w._scene&&w._scene.destroy();if(_.xaxis&&_.yaxis){var R=t.listIds({_fullLayout:x});for(g=0;g<R.length;g++){var L=R[g];l[t.id2name(L)]||x._infolayer.selectAll(".g-"+L+"title").remove()}}var z=x._has&&x._has("cartesian"),F=l._has&&l._has("cartesian");if(z&&!F)p(x._cartesianlayer.selectAll(".subplot"),x),x._defs.selectAll(".axesclip").remove(),delete x._axisConstraintGroups,delete x._axisMatchGroups;else if(_.cartesian)for(g=0;g<_.cartesian.length;g++){var B=_.cartesian[g];if(B.indexOf(n)===-1&&!M[B]){var O="."+B+",."+B+"-x,."+B+"-y";x._cartesianlayer.selectAll(O).remove(),d(B,x)}}},Y.drawFramework=function(T){var l=T._fullLayout,m=T.calcdata,x,A={};for(x=0;x<m.length;x++){var M=m[x][0],_=M.trace,w=_.zorder||0;A[w]||(A[w]=[]),A[w].push(M)}var g=Object.keys(A).map(Number).sort(b.sorterAsc);g.length||(g=[0]),l._zindices=g;var u=f(T),v=u.length,y=[];for(x=0;x<v;x++)y[x]=u[x].slice();for(var R=1;R<g.length;R++){var L=[];for(x=0;x<v;x++)L[x]=u[x].slice(),L[x][0]+=n+(R+1);y=y.concat(L)}var z=l._cartesianlayer.selectAll(".subplot").data(y,String);z.enter().append("g").attr("class",function(F){return"subplot "+F[0]}),z.order(),z.exit().call(p,l),z.each(function(F){var B=F[0],O=B.indexOf(n),I=O!==-1,N=I?B.slice(0,O):B,U=l._plots[B];U||(U=b.extendFlat({},l._plots[N]),U&&(U.id=B,l._plots[B]=U,l._subplots.cartesian.push(B))),U&&(U.plotgroup=G.select(this),c(T,U),I||(U.draglayer=a(l._draggers,"g",B)))})},Y.rangePlot=function(T,l,m){c(T,l),s(T,l,m),S.style(T)};function f(T){var l=T._fullLayout,m=l._zindices.length,x=l._subplots.cartesian,A=x.length,M,_,w,g,u,v,y=[],R=[];for(M=0;M<A;M++){w=x[M],g=l._plots[w],u=g.xaxis,v=g.yaxis;var L=u._mainAxis,z=v._mainAxis,F=L._id+z._id,B=l._plots[F];g.overlays=[],F!==w&&B?(g.mainplot=F,g.mainplotinfo=B,R.push(w)):(g.mainplot=void 0,g.mainplotinfo=void 0,y.push(w))}for(M=0;M<R.length;M++)w=R[M],g=l._plots[w],g.mainplotinfo.overlays.push(g);var O=y.concat(R),I=[];for(M=0;M<A;M++){w=O[M],g=l._plots[w],u=g.xaxis,v=g.yaxis;for(var N=[],U=1;U<=m;U++){var X="";for(U>1&&(X+=n+U),N.push(w+X),_=0;_<g.overlays.length;_++)N.push(g.overlays[_].id+X)}N=N.concat([u.layer,v.layer,u.overlaying||"",v.overlaying||""]),I.push(N)}return I}function c(T,l){var m=T._fullLayout,x=l.plotgroup,A=l.id,M=A.indexOf(n),_=M!==-1,w=r.layerValue2layerClass[l.xaxis.layer],g=r.layerValue2layerClass[l.yaxis.layer],u=m._hasOnlyLargeSploms,v=m._zindices.length>1,y=l.mainplotinfo;if(!l.mainplot||v)if(u)l.xlines=a(x,"path","xlines-above"),l.ylines=a(x,"path","ylines-above"),l.xaxislayer=a(x,"g","xaxislayer-above"),l.yaxislayer=a(x,"g","yaxislayer-above");else{if(!_){var R=a(x,"g","layer-subplot");l.shapelayer=a(R,"g","shapelayer"),l.imagelayer=a(R,"g","imagelayer"),y&&v?(l.minorGridlayer=y.minorGridlayer,l.gridlayer=y.gridlayer,l.zerolinelayer=y.zerolinelayer):(l.minorGridlayer=a(x,"g","minor-gridlayer"),l.gridlayer=a(x,"g","gridlayer"),l.zerolinelayer=a(x,"g","zerolinelayer"));var L=a(x,"g","layer-between");l.shapelayerBetween=a(L,"g","shapelayer"),l.imagelayerBetween=a(L,"g","imagelayer"),a(x,"path","xlines-below"),a(x,"path","ylines-below"),l.overlinesBelow=a(x,"g","overlines-below"),a(x,"g","xaxislayer-below"),a(x,"g","yaxislayer-below"),l.overaxesBelow=a(x,"g","overaxes-below")}l.overplot=a(x,"g","overplot"),l.plot=a(l.overplot,"g",A),y&&v?l.zerolinelayerAbove=y.zerolinelayerAbove:l.zerolinelayerAbove=a(x,"g","zerolinelayer-above"),_||(l.xlines=a(x,"path","xlines-above"),l.ylines=a(x,"path","ylines-above"),l.overlinesAbove=a(x,"g","overlines-above"),a(x,"g","xaxislayer-above"),a(x,"g","yaxislayer-above"),l.overaxesAbove=a(x,"g","overaxes-above"),l.xlines=x.select(".xlines-"+w),l.ylines=x.select(".ylines-"+g),l.xaxislayer=x.select(".xaxislayer-"+w),l.yaxislayer=x.select(".yaxislayer-"+g))}else{var z=y.plotgroup,F=A+"-x",B=A+"-y";l.minorGridlayer=y.minorGridlayer,l.gridlayer=y.gridlayer,l.zerolinelayer=y.zerolinelayer,l.zerolinelayerAbove=y.zerolinelayerAbove,a(y.overlinesBelow,"path",F),a(y.overlinesBelow,"path",B),a(y.overaxesBelow,"g",F),a(y.overaxesBelow,"g",B),l.plot=a(y.overplot,"g",A),a(y.overlinesAbove,"path",F),a(y.overlinesAbove,"path",B),a(y.overaxesAbove,"g",F),a(y.overaxesAbove,"g",B),l.xlines=z.select(".overlines-"+w).select("."+F),l.ylines=z.select(".overlines-"+g).select("."+B),l.xaxislayer=z.select(".overaxes-"+w).select("."+F),l.yaxislayer=z.select(".overaxes-"+g).select("."+B)}_||(u||(i(l.minorGridlayer,"g",l.xaxis._id),i(l.minorGridlayer,"g",l.yaxis._id),l.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(t.idSort),i(l.gridlayer,"g",l.xaxis._id),i(l.gridlayer,"g",l.yaxis._id),l.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(t.idSort)),l.xlines.style("fill","none").classed("crisp",!0),l.ylines.style("fill","none").classed("crisp",!0))}function p(T,l){if(T){var m={};T.each(function(g){var u=g[0],v=G.select(this);v.remove(),d(u,l),m[u]=!0});for(var x in l._plots)for(var A=l._plots[x],M=A.overlays||[],_=0;_<M.length;_++){var w=M[_];m[w.id]&&w.plot.selectAll(".trace").remove()}}}function d(T,l){l._draggers.selectAll("g."+T).remove(),l._defs.select("#clip"+l._uid+T+"plot").remove()}Y.toSVG=function(T){var l=T._fullLayout._glimages,m=G.select(T).selectAll(".svg-container"),x=m.filter(function(M,_){return _===m.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function A(){var M=this,_=M.toDataURL("image/png"),w=l.append("svg:image");w.attr({xmlns:o.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:M.style.width,height:M.style.height})}x.each(A)},Y.updateFx=Hb().updateFx}}),$S=He({"src/traces/scatter/index.js"(Y,G){var h=mu();G.exports={hasLines:h.hasLines,hasMarkers:h.hasMarkers,hasText:h.hasText,isBubble:h.isBubble,attributes:Cc(),layoutAttributes:i1(),supplyDefaults:GS(),crossTraceDefaults:Zb(),supplyLayoutDefaults:HS(),calc:dv().calc,crossTraceCalc:XS(),arraysToCalcdata:Zv(),plot:Z0(),colorbar:xh(),formatLabels:y1(),style:Gh().style,styleOnSelect:Gh().styleOnSelect,hoverPoints:K0(),selectPoints:$0(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:mf(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}}),JS=He({"src/components/annotations/draw_arrow_head.js"(Y,G){var h=_i(),b=Di(),S=Vb(),E=ea(),e=E.strScale,t=E.strRotate,r=E.strTranslate;G.exports=function(a,i,n){var s=a.node(),f=S[n.arrowhead||0],c=S[n.startarrowhead||0],p=(n.arrowwidth||1)*(n.arrowsize||1),d=(n.arrowwidth||1)*(n.startarrowsize||1),T=i.indexOf("start")>=0,l=i.indexOf("end")>=0,m=f.backoff*p+n.standoff,x=c.backoff*d+n.startstandoff,A,M,_,w;if(s.nodeName==="line"){A={x:+a.attr("x1"),y:+a.attr("y1")},M={x:+a.attr("x2"),y:+a.attr("y2")};var g=A.x-M.x,u=A.y-M.y;if(_=Math.atan2(u,g),w=_+Math.PI,m&&x&&m+x>Math.sqrt(g*g+u*u)){X();return}if(m){if(m*m>g*g+u*u){X();return}var v=m*Math.cos(_),y=m*Math.sin(_);M.x+=v,M.y+=y,a.attr({x2:M.x,y2:M.y})}if(x){if(x*x>g*g+u*u){X();return}var R=x*Math.cos(_),L=x*Math.sin(_);A.x-=R,A.y-=L,a.attr({x1:A.x,y1:A.y})}}else if(s.nodeName==="path"){var z=s.getTotalLength(),F="";if(z<m+x){X();return}var B=s.getPointAtLength(0),O=s.getPointAtLength(.1);_=Math.atan2(B.y-O.y,B.x-O.x),A=s.getPointAtLength(Math.min(x,z)),F="0px,"+x+"px,";var I=s.getPointAtLength(z),N=s.getPointAtLength(z-.1);w=Math.atan2(I.y-N.y,I.x-N.x),M=s.getPointAtLength(Math.max(0,z-m));var U=F?x+m:m;F+=z-U+"px,"+z+"px",a.style("stroke-dasharray",F)}function X(){a.style("stroke-dasharray","0px,100px")}function ee(ue,oe,le,V){ue.path&&(ue.noRotate&&(le=0),h.select(s.parentNode).append("path").attr({class:a.attr("class"),d:ue.path,transform:r(oe.x,oe.y)+t(le*180/Math.PI)+e(V)}).style({fill:b.rgb(n.arrowcolor),"stroke-width":0}))}T&&ee(c,A,_,d),l&&ee(f,M,w,p)}}}),b1=He({"src/components/annotations/draw.js"(Y,G){var h=_i(),b=ji(),S=nc(),E=ea(),e=E.strTranslate,t=Ao(),r=Di(),o=Io(),a=kc(),i=Zl(),n=Av(),s=kh(),f=xl().arrayEditor,c=JS();G.exports={draw:p,drawOne:d,drawRaw:l};function p(m){var x=m._fullLayout;x._infolayer.selectAll(".annotation").remove();for(var A=0;A<x.annotations.length;A++)x.annotations[A].visible&&d(m,A);return S.previousPromises(m)}function d(m,x){var A=m._fullLayout,M=A.annotations[x]||{},_=t.getFromId(m,M.xref),w=t.getFromId(m,M.yref);_&&_.setScale(),w&&w.setScale(),l(m,M,x,!1,_,w)}function T(m,x,A,M,_){var w=_[A],g=_[A+"ref"],u=A.indexOf("y")!==-1,v=t.getRefType(g)==="domain",y=u?M.h:M.w;return m?v?w+(u?-x:x)/m._length:m.p2r(m.r2p(w)+x):w+(u?-x:x)/y}function l(m,x,A,M,_,w){var g=m._fullLayout,u=m._fullLayout._size,v=m._context.edits,y,R;M?(y="annotation-"+M,R=M+".annotations"):(y="annotation",R="annotations");var L=f(m.layout,R,x),z=L.modifyBase,F=L.modifyItem,B=L.getUpdateObj;g._infolayer.selectAll("."+y+'[data-index="'+A+'"]').remove();var O="clip"+g._uid+"_ann"+A;if(!x._input||x.visible===!1){h.selectAll("#"+O).remove();return}var I={x:{},y:{}},N=+x.textangle||0,U=g._infolayer.append("g").classed(y,!0).attr("data-index",String(A)).style("opacity",x.opacity),X=U.append("g").classed("annotation-text-g",!0),ee=v[x.showarrow?"annotationTail":"annotationPosition"],ue=x.captureevents||v.annotationText||ee;function oe(Me){var Ie={index:A,annotation:x._input,fullAnnotation:x,event:Me};return M&&(Ie.subplotId=M),Ie}var le=X.append("g").style("pointer-events",ue?"all":null).call(n,"pointer").on("click",function(){m._dragging=!1,m.emit("plotly_clickannotation",oe(h.event))});x.hovertext&&le.on("mouseover",function(){var Me=x.hoverlabel,Ie=Me.font,Le=this.getBoundingClientRect(),je=m.getBoundingClientRect();a.loneHover({x0:Le.left-je.left,x1:Le.right-je.left,y:(Le.top+Le.bottom)/2-je.top,text:x.hovertext,color:Me.bgcolor,borderColor:Me.bordercolor,fontFamily:Ie.family,fontSize:Ie.size,fontColor:Ie.color,fontWeight:Ie.weight,fontStyle:Ie.style,fontVariant:Ie.variant,fontShadow:Ie.fontShadow,fontLineposition:Ie.fontLineposition,fontTextcase:Ie.fontTextcase},{container:g._hoverlayer.node(),outerContainer:g._paper.node(),gd:m})}).on("mouseout",function(){a.loneUnhover(g._hoverlayer.node())});var V=x.borderwidth,J=x.borderpad,te=V+J,Z=le.append("rect").attr("class","bg").style("stroke-width",V+"px").call(r.stroke,x.bordercolor).call(r.fill,x.bgcolor),se=x.width||x.height,Q=g._topclips.selectAll("#"+O).data(se?[0]:[]);Q.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),Q.exit().remove();var q=x.font,re=g._meta?E.templateString(x.text,g._meta):x.text,ae=le.append("text").classed("annotation-text",!0).text(re);function fe(Me){return Me.call(o.font,q).attr({"text-anchor":{left:"start",right:"end"}[x.align]||"middle"}),i.convertToTspans(Me,m,be),Me}function be(){var Me=ae.selectAll("a");if(Me.size()===1&&Me.text()===ae.text()){var Ie=le.insert("a",":first-child").attr({"xlink:xlink:href":Me.attr("xlink:href"),"xlink:xlink:show":Me.attr("xlink:show")}).style({cursor:"pointer"});Ie.node().appendChild(Z.node())}var Le=le.select(".annotation-text-math-group"),je=!Le.empty(),et=o.bBox((je?Le:ae).node()),rt=et.width,Je=et.height,Ze=x.width||rt,Ee=x.height||Je,xe=Math.round(Ze+2*te),he=Math.round(Ee+2*te);function De(Ra,ya){return ya==="auto"&&(Ra<1/3?ya="left":Ra>2/3?ya="right":ya="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ya]}for(var tt=!1,nt=["x","y"],$e=0;$e<nt.length;$e++){var Et=nt[$e],Ct=x[Et+"ref"]||Et,jt=x["a"+Et+"ref"],Wt={x:_,y:w}[Et],dr=(N+(Et==="x"?0:-90))*Math.PI/180,vr=xe*Math.cos(dr),Dr=he*Math.sin(dr),hr=Math.abs(vr)+Math.abs(Dr),Ar=x[Et+"anchor"],mt=x[Et+"shift"]*(Et==="x"?1:-1),Fe=I[Et],We,Ae,me,pe,Te,Ue=t.getRefType(Ct);if(Wt&&Ue!=="domain"){var Xe=Wt.r2fraction(x[Et]);(Xe<0||Xe>1)&&(jt===Ct?(Xe=Wt.r2fraction(x["a"+Et]),(Xe<0||Xe>1)&&(tt=!0)):tt=!0),We=Wt._offset+Wt.r2p(x[Et]),pe=.5}else{var bt=Ue==="domain";Et==="x"?(me=x[Et],We=bt?Wt._offset+Wt._length*me:We=u.l+u.w*me):(me=1-x[Et],We=bt?Wt._offset+Wt._length*me:We=u.t+u.h*me),pe=x.showarrow?.5:me}if(x.showarrow){Fe.head=We;var xt=x["a"+Et];if(Te=vr*De(.5,x.xanchor)-Dr*De(.5,x.yanchor),jt===Ct){var Mt=t.getRefType(jt);Mt==="domain"?(Et==="y"&&(xt=1-xt),Fe.tail=Wt._offset+Wt._length*xt):Mt==="paper"?Et==="y"?(xt=1-xt,Fe.tail=u.t+u.h*xt):Fe.tail=u.l+u.w*xt:Fe.tail=Wt._offset+Wt.r2p(xt),Ae=Te}else Fe.tail=We+xt,Ae=Te+xt;Fe.text=Fe.tail+Te;var Nt=g[Et==="x"?"width":"height"];if(Ct==="paper"&&(Fe.head=E.constrain(Fe.head,1,Nt-1)),jt==="pixel"){var sr=-Math.max(Fe.tail-3,Fe.text),ar=Math.min(Fe.tail+3,Fe.text)-Nt;sr>0?(Fe.tail+=sr,Fe.text+=sr):ar>0&&(Fe.tail-=ar,Fe.text-=ar)}Fe.tail+=mt,Fe.head+=mt}else Te=hr*De(pe,Ar),Ae=Te,Fe.text=We+Te;Fe.text+=mt,Te+=mt,Ae+=mt,x["_"+Et+"padplus"]=hr/2+Ae,x["_"+Et+"padminus"]=hr/2-Ae,x["_"+Et+"size"]=hr,x["_"+Et+"shift"]=Te}if(tt){le.remove();return}var tr=0,Tr=0;if(x.align!=="left"&&(tr=(Ze-rt)*(x.align==="center"?.5:1)),x.valign!=="top"&&(Tr=(Ee-Je)*(x.valign==="middle"?.5:1)),je)Le.select("svg").attr({x:te+tr-1,y:te+Tr}).call(o.setClipUrl,se?O:null,m);else{var sa=te+Tr-et.top,Ea=te+tr-et.left;ae.call(i.positionText,Ea,sa).call(o.setClipUrl,se?O:null,m)}Q.select("rect").call(o.setRect,te,te,Ze,Ee),Z.call(o.setRect,V/2,V/2,xe-V,he-V),le.call(o.setTranslate,Math.round(I.x.text-xe/2),Math.round(I.y.text-he/2)),X.attr({transform:"rotate("+N+","+I.x.text+","+I.y.text+")"});var ba=function(Ra,ya){U.selectAll(".annotation-arrow-g").remove();var rn=I.x.head,mn=I.y.head,Yt=I.x.tail+Ra,It=I.y.tail+ya,Zt=I.x.text+Ra,$t=I.y.text+ya,Cr=E.rotationXYMatrix(N,Zt,$t),qr=E.apply2DTransform(Cr),Jr=E.apply2DTransform2(Cr),aa=+Z.attr("width"),Ca=+Z.attr("height"),Ha=Zt-.5*aa,Va=Ha+aa,Za=$t-.5*Ca,an=Za+Ca,wa=[[Ha,Za,Ha,an],[Ha,an,Va,an],[Va,an,Va,Za],[Va,Za,Ha,Za]].map(Jr);if(!wa.reduce(function(pt,Kt){return pt^!!E.segmentsIntersect(rn,mn,rn+1e6,mn+1e6,Kt[0],Kt[1],Kt[2],Kt[3])},!1)){wa.forEach(function(pt){var Kt=E.segmentsIntersect(Yt,It,rn,mn,pt[0],pt[1],pt[2],pt[3]);Kt&&(Yt=Kt.x,It=Kt.y)});var Nn=x.arrowwidth,Wn=x.arrowcolor,At=x.arrowside,ft=U.append("g").style({opacity:r.opacity(Wn)}).classed("annotation-arrow-g",!0),pr=ft.append("path").attr("d","M"+Yt+","+It+"L"+rn+","+mn).style("stroke-width",Nn+"px").call(r.stroke,r.rgb(Wn));if(c(pr,At,x),v.annotationPosition&&pr.node().parentNode&&!M){var Sr=rn,Er=mn;if(x.standoff){var _r=Math.sqrt(Math.pow(rn-Yt,2)+Math.pow(mn-It,2));Sr+=x.standoff*(Yt-rn)/_r,Er+=x.standoff*(It-mn)/_r}var Mr=ft.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Yt-Sr)+","+(It-Er),transform:e(Sr,Er)}).style("stroke-width",Nn+6+"px").call(r.stroke,"rgba(0,0,0,0)").call(r.fill,"rgba(0,0,0,0)"),Gr,Fr;s.init({element:Mr.node(),gd:m,prepFn:function(){var pt=o.getTranslate(le);Gr=pt.x,Fr=pt.y,_&&_.autorange&&z(_._name+".autorange",!0),w&&w.autorange&&z(w._name+".autorange",!0)},moveFn:function(pt,Kt){var xr=qr(Gr,Fr),Hr=xr[0]+pt,fa=xr[1]+Kt;le.call(o.setTranslate,Hr,fa),F("x",T(_,pt,"x",u,x)),F("y",T(w,Kt,"y",u,x)),x.axref===x.xref&&F("ax",T(_,pt,"ax",u,x)),x.ayref===x.yref&&F("ay",T(w,Kt,"ay",u,x)),ft.attr("transform",e(pt,Kt)),X.attr({transform:"rotate("+N+","+Hr+","+fa+")"})},doneFn:function(){b.call("_guiRelayout",m,B());var pt=document.querySelector(".js-notes-box-panel");pt&&pt.redraw(pt.selectedObj)}})}}};if(x.showarrow&&ba(0,0),ee){var Ia;s.init({element:le.node(),gd:m,prepFn:function(){Ia=X.attr("transform")},moveFn:function(Ra,ya){var rn="pointer";if(x.showarrow)x.axref===x.xref?F("ax",T(_,Ra,"ax",u,x)):F("ax",x.ax+Ra),x.ayref===x.yref?F("ay",T(w,ya,"ay",u.w,x)):F("ay",x.ay+ya),ba(Ra,ya);else{if(M)return;var mn,Yt;if(_)mn=T(_,Ra,"x",u,x);else{var It=x._xsize/u.w,Zt=x.x+(x._xshift-x.xshift)/u.w-It/2;mn=s.align(Zt+Ra/u.w,It,0,1,x.xanchor)}if(w)Yt=T(w,ya,"y",u,x);else{var $t=x._ysize/u.h,Cr=x.y-(x._yshift+x.yshift)/u.h-$t/2;Yt=s.align(Cr-ya/u.h,$t,0,1,x.yanchor)}F("x",mn),F("y",Yt),(!_||!w)&&(rn=s.getCursor(_?.5:mn,w?.5:Yt,x.xanchor,x.yanchor))}X.attr({transform:e(Ra,ya)+Ia}),n(le,rn)},clickFn:function(Ra,ya){x.captureevents&&m.emit("plotly_clickannotation",oe(ya))},doneFn:function(){n(le),b.call("_guiRelayout",m,B());var Ra=document.querySelector(".js-notes-box-panel");Ra&&Ra.redraw(Ra.selectedObj)}})}}v.annotationText?ae.call(i.makeEditable,{delegate:le,gd:m}).call(fe).on("edit",function(Me){x.text=Me,this.call(fe),F("text",Me),_&&_.autorange&&z(_._name+".autorange",!0),w&&w.autorange&&z(w._name+".autorange",!0),b.call("_guiRelayout",m,B())}):ae.call(fe)}}}),QS=He({"src/components/annotations/click.js"(Y,G){var h=ea(),b=ji(),S=xl().arrayEditor;G.exports={hasClickToShow:E,onClick:e};function E(o,a){var i=t(o,a);return i.on.length>0||i.explicitOff.length>0}function e(o,a){var i=t(o,a),n=i.on,s=i.off.concat(i.explicitOff),f={},c=o._fullLayout.annotations,p,d;if(n.length||s.length){for(p=0;p<n.length;p++)d=S(o.layout,"annotations",c[n[p]]),d.modifyItem("visible",!0),h.extendFlat(f,d.getUpdateObj());for(p=0;p<s.length;p++)d=S(o.layout,"annotations",c[s[p]]),d.modifyItem("visible",!1),h.extendFlat(f,d.getUpdateObj());return b.call("update",o,{},f)}}function t(o,a){var i=o._fullLayout.annotations,n=[],s=[],f=[],c=(a||[]).length,p,d,T,l,m,x,A,M;for(p=0;p<i.length;p++)if(T=i[p],l=T.clicktoshow,l){for(d=0;d<c;d++)if(m=a[d],x=m.xaxis,A=m.yaxis,x._id===T.xref&&A._id===T.yref&&x.d2r(m.x)===r(T._xclick,x)&&A.d2r(m.y)===r(T._yclick,A)){T.visible?l==="onout"?M=s:M=f:M=n,M.push(p);break}d===c&&T.visible&&l==="onout"&&s.push(p)}return{on:n,off:s,explicitOff:f}}function r(o,a){return a.type==="log"?a.l2r(o):a.d2r(o)}}}),Jb=He({"src/components/annotations/common_defaults.js"(Y,G){var h=ea(),b=Di();G.exports=function(E,e,t,r){r("opacity");var o=r("bgcolor"),a=r("bordercolor"),i=b.opacity(a);r("borderpad");var n=r("borderwidth"),s=r("showarrow");r("text",s?" ":t._dfltTitle.annotation),r("textangle"),h.coerceFont(r,"font",t.font),r("width"),r("align");var f=r("height");if(f&&r("valign"),s){var c=r("arrowside"),p,d;c.indexOf("end")!==-1&&(p=r("arrowhead"),d=r("arrowsize")),c.indexOf("start")!==-1&&(r("startarrowhead",p),r("startarrowsize",d)),r("arrowcolor",i?e.bordercolor:b.defaultLine),r("arrowwidth",(i&&n||1)*2),r("standoff"),r("startstandoff")}var T=r("hovertext"),l=t.hoverlabel||{};if(T){var m=r("hoverlabel.bgcolor",l.bgcolor||(b.opacity(o)?b.rgb(o):b.defaultLine)),x=r("hoverlabel.bordercolor",l.bordercolor||b.contrast(m)),A=h.extendFlat({},l.font);A.color||(A.color=x),h.coerceFont(r,"hoverlabel.font",A)}r("captureevents",!!T)}}}),eM=He({"src/components/annotations/defaults.js"(Y,G){var h=ea(),b=Ao(),S=_h(),E=Jb(),e=Fp();G.exports=function(o,a){S(o,a,{name:"annotations",handleItemDefaults:t})};function t(r,o,a){function i(u,v){return h.coerce(r,o,e,u,v)}var n=i("visible"),s=i("clicktoshow");if(n||s){E(r,o,a,i);for(var f=o.showarrow,c=["x","y"],p=[-10,-30],d={_fullLayout:a},T=0;T<2;T++){var l=c[T],m=b.coerceRef(r,o,d,l,"","paper");if(m!=="paper"){var x=b.getFromId(d,m);x._annIndices.push(o._index)}if(b.coercePosition(o,d,i,m,l,.5),f){var A="a"+l,M=b.coerceRef(r,o,d,A,"pixel",["pixel","paper"]);M!=="pixel"&&M!==m&&(M=o[A]="pixel");var _=M==="pixel"?p[T]:.4;b.coercePosition(o,d,i,M,A,_)}i(l+"anchor"),i(l+"shift")}if(h.noneOrAll(r,o,["x","y"]),f&&h.noneOrAll(r,o,["ax","ay"]),s){var w=i("xclick"),g=i("yclick");o._xclick=w===void 0?o.x:b.cleanPosition(w,d,o.xref),o._yclick=g===void 0?o.y:b.cleanPosition(g,d,o.yref)}}}}}),tM=He({"src/components/annotations/calc_autorange.js"(Y,G){var h=ea(),b=Ao(),S=b1().draw;G.exports=function(r){var o=r._fullLayout,a=h.filterVisible(o.annotations);if(a.length&&r._fullData.length)return h.syncOrAsync([S,E],r)};function E(t){var r=t._fullLayout;h.filterVisible(r.annotations).forEach(function(o){var a=b.getFromId(t,o.xref),i=b.getFromId(t,o.yref),n=b.getRefType(o.xref),s=b.getRefType(o.yref);o._extremes={},n==="range"&&e(o,a),s==="range"&&e(o,i)})}function e(t,r){var o=r._id,a=o.charAt(0),i=t[a],n=t["a"+a],s=t[a+"ref"],f=t["a"+a+"ref"],c=t["_"+a+"padplus"],p=t["_"+a+"padminus"],d={x:1,y:-1}[a]*t[a+"shift"],T=3*t.arrowsize*t.arrowwidth||0,l=T+d,m=T-d,x=3*t.startarrowsize*t.arrowwidth||0,A=x+d,M=x-d,_;if(f===s){var w=b.findExtremes(r,[r.r2c(i)],{ppadplus:l,ppadminus:m}),g=b.findExtremes(r,[r.r2c(n)],{ppadplus:Math.max(c,A),ppadminus:Math.max(p,M)});_={min:[w.min[0],g.min[0]],max:[w.max[0],g.max[0]]}}else A=n?A+n:A,M=n?M-n:M,_=b.findExtremes(r,[r.r2c(i)],{ppadplus:Math.max(c,l,A),ppadminus:Math.max(p,m,M)});t._extremes[o]=_}}}),rM=He({"src/components/annotations/convert_coords.js"(Y,G){var h=Ui(),b=Jy();G.exports=function(E,e,t,r){e=e||{};var o=t==="log"&&e.type==="linear",a=t==="linear"&&e.type==="log";if(!(o||a))return;var i=E._fullLayout.annotations,n=e._id.charAt(0),s,f;function c(d){var T=s[d],l=null;o?l=b(T,e.range):l=Math.pow(10,T),h(l)||(l=null),r(f+d,l)}for(var p=0;p<i.length;p++)s=i[p],f="annotations["+p+"].",s[n+"ref"]===e._id&&c(n),s["a"+n+"ref"]===e._id&&c("a"+n)}}}),aM=He({"src/components/annotations/index.js"(Y,G){var h=b1(),b=QS();G.exports={moduleType:"component",name:"annotations",layoutAttributes:Fp(),supplyLayoutDefaults:eM(),includeBasePlot:um()("annotations"),calcAutorange:tM(),draw:h.draw,drawOne:h.drawOne,drawRaw:h.drawRaw,hasClickToShow:b.hasClickToShow,onClick:b.onClick,convertCoords:rM()}}}),w1=He({"src/components/annotations3d/attributes.js"(Y,G){var h=Fp(),b=Zu().overrideAll,S=xl().templatedArray;G.exports=b(S("annotation",{visible:h.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:h.xanchor,xshift:h.xshift,yanchor:h.yanchor,yshift:h.yshift,text:h.text,textangle:h.textangle,font:h.font,width:h.width,height:h.height,opacity:h.opacity,align:h.align,valign:h.valign,bgcolor:h.bgcolor,bordercolor:h.bordercolor,borderpad:h.borderpad,borderwidth:h.borderwidth,showarrow:h.showarrow,arrowcolor:h.arrowcolor,arrowhead:h.arrowhead,startarrowhead:h.startarrowhead,arrowside:h.arrowside,arrowsize:h.arrowsize,startarrowsize:h.startarrowsize,arrowwidth:h.arrowwidth,standoff:h.standoff,startstandoff:h.startstandoff,hovertext:h.hovertext,hoverlabel:h.hoverlabel,captureevents:h.captureevents}),"calc","from-root")}}),nM=He({"src/components/annotations3d/defaults.js"(Y,G){var h=ea(),b=Ao(),S=_h(),E=Jb(),e=w1();G.exports=function(o,a,i){S(o,a,{name:"annotations",handleItemDefaults:t,fullLayout:i.fullLayout})};function t(r,o,a,i){function n(c,p){return h.coerce(r,o,e,c,p)}function s(c){var p=c+"axis",d={_fullLayout:{}};return d._fullLayout[p]=a[p],b.coercePosition(o,d,n,c,c,.5)}var f=n("visible");f&&(E(r,o,i.fullLayout,n),s("x"),s("y"),s("z"),h.noneOrAll(r,o,["x","y","z"]),o.xref="x",o.yref="y",o.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),o.showarrow&&(o.axref="pixel",o.ayref="pixel",n("ax",-10),n("ay",-30),h.noneOrAll(r,o,["ax","ay"])))}}}),iM=He({"src/components/annotations3d/convert.js"(Y,G){var h=ea(),b=Ao();G.exports=function(e){for(var t=e.fullSceneLayout,r=t.annotations,o=0;o<r.length;o++)S(r[o],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()};function S(E,e){var t=e.fullSceneLayout,r=t.domain,o=e.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};E._xa={},h.extendFlat(E._xa,a),b.setConvert(E._xa),E._xa._offset=o.l+r.x[0]*o.w,E._xa.l2p=function(){return .5*(1+E._pdata[0]/E._pdata[3])*o.w*(r.x[1]-r.x[0])},E._ya={},h.extendFlat(E._ya,a),b.setConvert(E._ya),E._ya._offset=o.t+(1-r.y[1])*o.h,E._ya.l2p=function(){return .5*(1-E._pdata[1]/E._pdata[3])*o.h*(r.y[1]-r.y[0])}}}}),Qb=He({"src/plots/gl3d/project.js"(Y,G){function h(S,E){var e=[0,0,0,0],t,r;for(t=0;t<4;++t)for(r=0;r<4;++r)e[r]+=S[4*t+r]*E[t];return e}function b(S,E){var e=h(S.projection,h(S.view,h(S.model,[E[0],E[1],E[2],1])));return e}G.exports=b}}),oM=He({"src/components/annotations3d/draw.js"(Y,G){var h=b1().drawRaw,b=Qb(),S=["x","y","z"];G.exports=function(e){for(var t=e.fullSceneLayout,r=e.dataScale,o=t.annotations,a=0;a<o.length;a++){for(var i=o[a],n=!1,s=0;s<3;s++){var f=S[s],c=i[f],p=t[f+"axis"],d=p.r2fraction(c);if(d<0||d>1){n=!0;break}}n?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+a+'"]').remove():(i._pdata=b(e.glplot.cameraParams,[t.xaxis.r2l(i.x)*r[0],t.yaxis.r2l(i.y)*r[1],t.zaxis.r2l(i.z)*r[2]]),h(e.graphDiv,i,a,e.id,i._xa,i._ya))}}}}),sM=He({"src/components/annotations3d/index.js"(Y,G){var h=ji(),b=ea();G.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:w1()}}},layoutAttributes:w1(),handleDefaults:nM(),includeBasePlot:S,convert:iM(),draw:oM()};function S(E,e){var t=h.subplotsRegistry.gl3d;if(t)for(var r=t.attrRegex,o=Object.keys(E),a=0;a<o.length;a++){var i=o[a];r.test(i)&&(E[i].annotations||[]).length&&(b.pushUnique(e._basePlotModules,t),b.pushUnique(e._subplots.gl3d,i))}}}}),ew=He({"src/components/shapes/attributes.js"(Y,G){var h=Fp(),b=Ru(),S=Cc().line,E=nh().dash,e=Po().extendFlat,t=xl().templatedArray;lm();var r=Nl(),{shapeTexttemplateAttrs:o,templatefallbackAttrs:a}=Ll(),i=t1();G.exports=t("shape",{visible:e({},r.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:e({},r.legend,{editType:"calc+arraydraw"}),legendgroup:e({},r.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:e({},r.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:b({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:e({},r.legendrank,{editType:"calc+arraydraw"}),legendwidth:e({},r.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:e({},h.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:e({},h.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:e({},S.color,{editType:"arraydraw"}),width:e({},S.width,{editType:"calc+arraydraw"}),dash:e({},E,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:o({},{keys:Object.keys(i)}),texttemplatefallback:a({editType:"arraydraw"}),font:b({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}}),lM=He({"src/components/shapes/defaults.js"(Y,G){var h=ea(),b=Ao(),S=_h(),E=ew(),e=Qd();G.exports=function(a,i){S(a,i,{name:"shapes",handleItemDefaults:r})};function t(o,a){return o?"bottom":a.indexOf("top")!==-1?"top":a.indexOf("bottom")!==-1?"bottom":"middle"}function r(o,a,i){function n(V,J){return h.coerce(o,a,E,V,J)}a._isShape=!0;var s=n("visible");if(s){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),h.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var c=n("path"),p=c?"path":"rect",d=n("type",p),T=d!=="path";T&&delete a.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var l=n("line.width");l&&(n("line.color"),n("line.dash"));for(var m=n("xsizemode"),x=n("ysizemode"),A=["x","y"],M=0;M<2;M++){var _=A[M],w=_+"anchor",g=_==="x"?m:x,u={_fullLayout:i},v,y,R,L=b.coerceRef(o,a,u,_,void 0,"paper"),z=b.getRefType(L);if(z==="range"?(v=b.getFromId(u,L),v._shapeIndices.push(a._index),R=e.rangeToShapePosition(v),y=e.shapePositionToRange(v),(v.type==="category"||v.type==="multicategory")&&(n(_+"0shift"),n(_+"1shift"))):y=R=h.identity,T){var F=.25,B=.75,O=_+"0",I=_+"1",N=o[O],U=o[I];o[O]=y(o[O],!0),o[I]=y(o[I],!0),g==="pixel"?(n(O,0),n(I,10)):(b.coercePosition(a,u,n,L,O,F),b.coercePosition(a,u,n,L,I,B)),a[O]=R(a[O]),a[I]=R(a[I]),o[O]=N,o[I]=U}if(g==="pixel"){var X=o[w];o[w]=y(o[w],!0),b.coercePosition(a,u,n,L,w,.25),a[w]=R(a[w]),o[w]=X}}T&&h.noneOrAll(o,a,["x0","x1","y0","y1"]);var ee=d==="line",ue,oe;if(T&&(ue=n("label.texttemplate"),n("label.texttemplatefallback")),ue||(oe=n("label.text")),oe||ue){n("label.textangle");var le=n("label.textposition",ee?"middle":"middle center");n("label.xanchor"),n("label.yanchor",t(ee,le)),n("label.padding"),h.coerceFont(n,"label.font",i.font)}}}}}),uM=He({"src/components/shapes/draw_newshape/defaults.js"(Y,G){var h=Di(),b=ea();function S(E,e){return E?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}G.exports=function(e,t,r){r("newshape.visible"),r("newshape.name"),r("newshape.showlegend"),r("newshape.legend"),r("newshape.legendwidth"),r("newshape.legendgroup"),r("newshape.legendgrouptitle.text"),b.coerceFont(r,"newshape.legendgrouptitle.font"),r("newshape.legendrank"),r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity");var o=r("newshape.line.width");if(o){var a=(e||{}).plot_bgcolor||"#FFF";r("newshape.line.color",h.contrast(a)),r("newshape.line.dash")}var i=e.dragmode==="drawline",n=r("newshape.label.text"),s=r("newshape.label.texttemplate");if(r("newshape.label.texttemplatefallback"),n||s){r("newshape.label.textangle");var f=r("newshape.label.textposition",i?"middle":"middle center");r("newshape.label.xanchor"),r("newshape.label.yanchor",S(i,f)),r("newshape.label.padding"),b.coerceFont(r,"newshape.label.font",t.font)}r("activeshape.fillcolor"),r("activeshape.opacity")}}}),cM=He({"src/components/shapes/calc_autorange.js"(Y,G){var h=ea(),b=Ao(),S=im(),E=Qd();G.exports=function(i){var n=i._fullLayout,s=h.filterVisible(n.shapes);if(!(!s.length||!i._fullData.length))for(var f=0;f<s.length;f++){var c=s[f];c._extremes={};var p,d,T=b.getRefType(c.xref),l=b.getRefType(c.yref);c.xref!=="paper"&&T!=="domain"&&(p=b.getFromId(i,c.xref),d=o(p,c,S.paramIsX),d&&(c._extremes[p._id]=b.findExtremes(p,d,e(c)))),c.yref!=="paper"&&l!=="domain"&&(p=b.getFromId(i,c.yref),d=o(p,c,S.paramIsY),d&&(c._extremes[p._id]=b.findExtremes(p,d,t(c))))}};function e(a){return r(a.line.width,a.xsizemode,a.x0,a.x1,a.path,!1)}function t(a){return r(a.line.width,a.ysizemode,a.y0,a.y1,a.path,!0)}function r(a,i,n,s,f,c){var p=a/2,d=c;if(i==="pixel"){var T=f?E.extractPathCoords(f,c?S.paramIsY:S.paramIsX):[n,s],l=h.aggNums(Math.max,null,T),m=h.aggNums(Math.min,null,T),x=m<0?Math.abs(m)+p:p,A=l>0?l+p:p;return{ppad:p,ppadplus:d?x:A,ppadminus:d?A:x}}else return{ppad:p}}function o(a,i,n){var s=a._id.charAt(0)==="x"?"x":"y",f=a.type==="category"||a.type==="multicategory",c,p,d=0,T=0,l=f?a.r2c:a.d2c,m=i[s+"sizemode"]==="scaled";if(m?(c=i[s+"0"],p=i[s+"1"],f&&(d=i[s+"0shift"],T=i[s+"1shift"])):(c=i[s+"anchor"],p=i[s+"anchor"]),c!==void 0)return[l(c)+d,l(p)+T];if(i.path){var x=1/0,A=-1/0,M=i.path.match(S.segmentRE),_,w,g,u,v;for(a.type==="date"&&(l=E.decodeDate(l)),_=0;_<M.length;_++)w=M[_],g=n[w.charAt(0)].drawn,g!==void 0&&(u=M[_].slice(1).match(S.paramRE),!(!u||u.length<g)&&(v=l(u[g]),v<x&&(x=v),v>A&&(A=v)));if(A>=x)return[x,A]}}}}),fM=He({"src/components/shapes/index.js"(Y,G){var h=d1();G.exports={moduleType:"component",name:"shapes",layoutAttributes:ew(),supplyLayoutDefaults:lM(),supplyDrawNewShapeDefaults:uM(),includeBasePlot:um()("shapes"),calcAutorange:cM(),draw:h.draw,drawOne:h.drawOne}}}),tw=He({"src/components/images/attributes.js"(Y,G){var h=Yf(),b=xl().templatedArray;lm(),G.exports=b("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",h.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",h.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}}),hM=He({"src/components/images/defaults.js"(Y,G){var h=ea(),b=Ao(),S=_h(),E=tw(),e="images";G.exports=function(o,a){var i={name:e,handleItemDefaults:t};S(o,a,i)};function t(r,o,a){function i(m,x){return h.coerce(r,o,E,m,x)}var n=i("source"),s=i("visible",!!n);if(!s)return o;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var f={_fullLayout:a},c=["x","y"],p=0;p<2;p++){var d=c[p],T=b.coerceRef(r,o,f,d,"paper",void 0);if(T!=="paper"){var l=b.getFromId(f,T);l._imgIndices.push(o._index)}b.coercePosition(o,f,i,T,d,0)}return o}}}),vM=He({"src/components/images/draw.js"(Y,G){var h=_i(),b=Io(),S=Ao(),E=Mc(),e=rv();G.exports=function(r){var o=r._fullLayout,a=[],i={},n=[],s,f;for(f=0;f<o.images.length;f++){var c=o.images[f];if(c.visible)if(c.layer==="below"&&c.xref!=="paper"&&c.yref!=="paper"){s=E.ref2id(c.xref)+E.ref2id(c.yref);var p=o._plots[s];if(!p){n.push(c);continue}p.mainplot&&(s=p.mainplot.id),i[s]||(i[s]=[]),i[s].push(c)}else c.layer==="above"?a.push(c):n.push(c)}var d={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function T(u){var v=h.select(this);if(this._imgSrc!==u.source)if(v.attr("xmlns",e.svg),!r._context.staticPlot||u.source&&u.source.slice(0,5)==="data:")v.attr("xlink:href",u.source),this._imgSrc=u.source;else{var y=new Promise((function(R){var L=new Image;this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=z,L.onload=function(){var F=document.createElement("canvas");F.width=this.width,F.height=this.height;var B=F.getContext("2d",{willReadFrequently:!0});B.drawImage(this,0,0);var O=F.toDataURL("image/png");v.attr("xlink:href",O),R()},v.on("error",z),L.src=u.source,this._imgSrc=u.source;function z(){v.remove(),R()}}).bind(this));r._promises.push(y)}}function l(u){var v=h.select(this),y=S.getFromId(r,u.xref),R=S.getFromId(r,u.yref),L=S.getRefType(u.xref)==="domain",z=S.getRefType(u.yref)==="domain",F=o._size,B,O;y!==void 0?B=typeof u.xref=="string"&&L?y._length*u.sizex:Math.abs(y.l2p(u.sizex)-y.l2p(0)):B=u.sizex*F.w,R!==void 0?O=typeof u.yref=="string"&&z?R._length*u.sizey:Math.abs(R.l2p(u.sizey)-R.l2p(0)):O=u.sizey*F.h;var I=B*d.x[u.xanchor].offset,N=O*d.y[u.yanchor].offset,U=d.x[u.xanchor].sizing+d.y[u.yanchor].sizing,X,ee;switch(y!==void 0?X=typeof u.xref=="string"&&L?y._length*u.x+y._offset:y.r2p(u.x)+y._offset:X=u.x*F.w+F.l,X+=I,R!==void 0?ee=typeof u.yref=="string"&&z?R._length*(1-u.y)+R._offset:R.r2p(u.y)+R._offset:ee=F.h-u.y*F.h+F.t,ee+=N,u.sizing){case"fill":U+=" slice";break;case"stretch":U="none";break}v.attr({x:X,y:ee,width:B,height:O,preserveAspectRatio:U,opacity:u.opacity});var ue=y&&S.getRefType(u.xref)!=="domain"?y._id:"",oe=R&&S.getRefType(u.yref)!=="domain"?R._id:"",le=ue+oe;b.setClipUrl(v,le?"clip"+o._uid+le:null,r)}function m(u){return[u.xref,u.x,u.sizex,u.yref,u.y,u.sizey].join("_")}function x(u,v){return u._index-v._index}var A=o._imageLowerLayer.selectAll("image").data(n,m),M=o._imageUpperLayer.selectAll("image").data(a,m);A.enter().append("image"),M.enter().append("image"),A.exit().remove(),M.exit().remove(),A.each(function(u){T.bind(this)(u),l.bind(this)(u)}),M.each(function(u){T.bind(this)(u),l.bind(this)(u)}),A.sort(x),M.sort(x);var _=Object.keys(o._plots);for(f=0;f<_.length;f++){s=_[f];var w=o._plots[s];if(w.imagelayer){var g=w.imagelayer.selectAll("image").data(i[s]||[],m);g.enter().append("image"),g.exit().remove(),g.each(function(u){T.bind(this)(u),l.bind(this)(u)}),g.sort(x)}}}}}),dM=He({"src/components/images/convert_coords.js"(Y,G){var h=Ui(),b=Jy();G.exports=function(E,e,t,r){e=e||{};var o=t==="log"&&e.type==="linear",a=t==="linear"&&e.type==="log";if(o||a){for(var i=E._fullLayout.images,n=e._id.charAt(0),s,f,c=0;c<i.length;c++)if(s=i[c],f="images["+c+"].",s[n+"ref"]===e._id){var p=s[n],d=s["size"+n],T=null,l=null;if(o){T=b(p,e.range);var m=d/Math.pow(10,T)/2;l=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else T=Math.pow(10,p),l=T*(Math.pow(10,d/2)-Math.pow(10,-d/2));h(T)?h(l)||(l=null):(T=null,l=null),r(f+n,T),r(f+"size"+n,l)}}}}}),pM=He({"src/components/images/index.js"(Y,G){G.exports={moduleType:"component",name:"images",layoutAttributes:tw(),supplyLayoutDefaults:hM(),includeBasePlot:um()("images"),draw:vM(),convertCoords:dM()}}}),T1=He({"src/components/updatemenus/constants.js"(Y,G){G.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}}}),rw=He({"src/components/updatemenus/attributes.js"(Y,G){var h=Ru(),b=Mf(),S=Po().extendFlat,E=Zu().overrideAll,e=r1(),t=xl().templatedArray,r=t("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});G.exports=E(t("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:r,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:S(e({editType:"arraydraw"}),{}),font:h({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:b.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}}),gM=He({"src/components/updatemenus/defaults.js"(Y,G){var h=ea(),b=_h(),S=rw(),E=T1(),e=E.name,t=S.buttons;G.exports=function(i,n){var s={name:e,handleItemDefaults:r};b(i,n,s)};function r(a,i,n){function s(p,d){return h.coerce(a,i,S,p,d)}var f=b(a,i,{name:"buttons",handleItemDefaults:o}),c=s("visible",f.length>0);c&&(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),h.noneOrAll(a,i,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),h.coerceFont(s,"font",n.font),s("bgcolor",n.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function o(a,i){function n(f,c){return h.coerce(a,i,t,f,c)}var s=n("visible",a.method==="skip"||Array.isArray(a.args));s&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}}}),mM=He({"src/components/updatemenus/scrollbox.js"(Y,G){G.exports=e;var h=_i(),b=Di(),S=Io(),E=ea();function e(t,r,o){this.gd=t,this.container=r,this.id=o,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.barWidth=2,e.barLength=20,e.barRadius=2,e.barPad=1,e.barColor="#808BA4",e.prototype.enable=function(r,o,a){var i=this.gd._fullLayout,n=i.width,s=i.height;this.position=r;var f=this.position.l,c=this.position.w,p=this.position.t,d=this.position.h,T=this.position.direction,l=T==="down",m=T==="left",x=T==="right",A=T==="up",M=c,_=d,w,g,u,v;!l&&!m&&!x&&!A&&(this.position.direction="down",l=!0);var y=l||A;y?(w=f,g=w+M,l?(u=p,v=Math.min(u+_,s),_=v-u):(v=p+_,u=Math.max(v-_,0),_=v-u)):(u=p,v=u+_,m?(g=f+M,w=Math.max(g-M,0),M=g-w):(w=f,g=Math.min(w+M,n),M=g-w)),this._box={l:w,t:u,w:M,h:_};var R=c>M,L=e.barLength+2*e.barPad,z=e.barWidth+2*e.barPad,F=f,B=p+d;B+z>s&&(B=s-z);var O=this.container.selectAll("rect.scrollbar-horizontal").data(R?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(b.fill,e.barColor),R?(this.hbar=O.attr({rx:e.barRadius,ry:e.barRadius,x:F,y:B,width:L,height:z}),this._hbarXMin=F+L/2,this._hbarTranslateMax=M-L):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var I=d>_,N=e.barWidth+2*e.barPad,U=e.barLength+2*e.barPad,X=f+c,ee=p;X+N>n&&(X=n-N);var ue=this.container.selectAll("rect.scrollbar-vertical").data(I?[0]:[]);ue.exit().on(".drag",null).remove(),ue.enter().append("rect").classed("scrollbar-vertical",!0).call(b.fill,e.barColor),I?(this.vbar=ue.attr({rx:e.barRadius,ry:e.barRadius,x:X,y:ee,width:N,height:U}),this._vbarYMin=ee+U/2,this._vbarTranslateMax=_-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var oe=this.id,le=w-.5,V=I?g+N+.5:g+.5,J=u-.5,te=R?v+z+.5:v+.5,Z=i._topdefs.selectAll("#"+oe).data(R||I?[0]:[]);if(Z.exit().remove(),Z.enter().append("clipPath").attr("id",oe).append("rect"),R||I?(this._clipRect=Z.select("rect").attr({x:Math.floor(le),y:Math.floor(J),width:Math.ceil(V)-Math.floor(le),height:Math.ceil(te)-Math.floor(J)}),this.container.call(S.setClipUrl,oe,this.gd),this.bg.attr({x:f,y:p,width:c,height:d})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(S.setClipUrl,null),delete this._clipRect),R||I){var se=h.behavior.drag().on("dragstart",function(){h.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(se);var Q=h.behavior.drag().on("dragstart",function(){h.event.sourceEvent.preventDefault(),h.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));R&&this.hbar.on(".drag",null).call(Q),I&&this.vbar.on(".drag",null).call(Q)}this.setTranslate(o,a)},e.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(S.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},e.prototype._onBoxDrag=function(){var r=this.translateX,o=this.translateY;this.hbar&&(r-=h.event.dx),this.vbar&&(o-=h.event.dy),this.setTranslate(r,o)},e.prototype._onBoxWheel=function(){var r=this.translateX,o=this.translateY;this.hbar&&(r+=h.event.deltaY),this.vbar&&(o+=h.event.deltaY),this.setTranslate(r,o)},e.prototype._onBarDrag=function(){var r=this.translateX,o=this.translateY;if(this.hbar){var a=r+this._hbarXMin,i=a+this._hbarTranslateMax,n=E.constrain(h.event.x,a,i),s=(n-a)/(i-a),f=this.position.w-this._box.w;r=s*f}if(this.vbar){var c=o+this._vbarYMin,p=c+this._vbarTranslateMax,d=E.constrain(h.event.y,c,p),T=(d-c)/(p-c),l=this.position.h-this._box.h;o=T*l}this.setTranslate(r,o)},e.prototype.setTranslate=function(r,o){var a=this.position.w-this._box.w,i=this.position.h-this._box.h;if(r=E.constrain(r||0,0,a),o=E.constrain(o||0,0,i),this.translateX=r,this.translateY=o,this.container.call(S.setTranslate,this._box.l-this.position.l-r,this._box.t-this.position.t-o),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+r-.5),y:Math.floor(this.position.t+o-.5)}),this.hbar){var n=r/a;this.hbar.call(S.setTranslate,r+n*this._hbarTranslateMax,o)}if(this.vbar){var s=o/i;this.vbar.call(S.setTranslate,r,o+s*this._vbarTranslateMax)}}}}),yM=He({"src/components/updatemenus/draw.js"(Y,G){var h=_i(),b=nc(),S=Di(),E=Io(),e=ea(),t=Zl(),r=xl().arrayEditor,o=Nf().LINE_SPACING,a=T1(),i=mM();G.exports=function(L){var z=L._fullLayout,F=e.filterVisible(z[a.name]);function B(oe){b.autoMargin(L,u(oe))}var O=z._menulayer.selectAll("g."+a.containerClassName).data(F.length>0?[0]:[]);if(O.enter().append("g").classed(a.containerClassName,!0).style("cursor","pointer"),O.exit().each(function(){h.select(this).selectAll("g."+a.headerGroupClassName).each(B)}).remove(),F.length!==0){var I=O.selectAll("g."+a.headerGroupClassName).data(F,n);I.enter().append("g").classed(a.headerGroupClassName,!0);for(var N=e.ensureSingle(O,"g",a.dropdownButtonGroupClassName,function(oe){oe.style("pointer-events","all")}),U=0;U<F.length;U++){var X=F[U];g(L,X)}var ee="updatemenus"+z._uid,ue=new i(L,N,ee);I.enter().size()&&(N.node().parentNode.appendChild(N.node()),N.call(y)),I.exit().each(function(oe){N.call(y),B(oe)}).remove(),I.each(function(oe){var le=h.select(this),V=oe.type==="dropdown"?N:null;b.manageCommandObserver(L,oe,oe.buttons,function(J){c(L,oe,oe.buttons[J.index],le,V,ue,J.index,!0)}),oe.type==="dropdown"?(p(L,le,N,ue,oe),f(N,oe)&&d(L,le,N,ue,oe)):d(L,le,null,null,oe)})}};function n(R){return R._index}function s(R){return+R.attr(a.menuIndexAttrName)==-1}function f(R,L){return+R.attr(a.menuIndexAttrName)===L._index}function c(R,L,z,F,B,O,I,N){L.active=I,r(R.layout,a.name,L).applyUpdate("active",I),L.type==="buttons"?d(R,F,null,null,L):L.type==="dropdown"&&(B.attr(a.menuIndexAttrName,"-1"),p(R,F,B,O,L),N||d(R,F,B,O,L))}function p(R,L,z,F,B){var O=e.ensureSingle(L,"g",a.headerClassName,function(oe){oe.style("pointer-events","all")}),I=B._dims,N=B.active,U=B.buttons[N]||a.blankHeaderOpts,X={y:B.pad.t,yPad:0,x:B.pad.l,xPad:0,index:0},ee={width:I.headerWidth,height:I.headerHeight};O.call(m,B,U,R).call(v,B,X,ee);var ue=e.ensureSingle(L,"text",a.headerArrowClassName,function(oe){oe.attr("text-anchor","end").call(E.font,B.font).text(a.arrowSymbol[B.direction])});ue.attr({x:I.headerWidth-a.arrowOffsetX+B.pad.l,y:I.headerHeight/2+a.textOffsetY+B.pad.t}),O.on("click",function(){z.call(y,String(f(z,B)?-1:B._index)),d(R,L,z,F,B)}),O.on("mouseover",function(){O.call(_)}),O.on("mouseout",function(){O.call(w,B)}),E.setTranslate(L,I.lx,I.ly)}function d(R,L,z,F,B){z||(z=L,z.attr("pointer-events","all"));var O=!s(z)||B.type==="buttons"?B.buttons:[],I=B.type==="dropdown"?a.dropdownButtonClassName:a.buttonClassName,N=z.selectAll("g."+I).data(e.filterVisible(O)),U=N.enter().append("g").classed(I,!0),X=N.exit();B.type==="dropdown"?(U.attr("opacity","0").transition().attr("opacity","1"),X.transition().attr("opacity","0").remove()):X.remove();var ee=0,ue=0,oe=B._dims,le=["up","down"].indexOf(B.direction)!==-1;B.type==="dropdown"&&(le?ue=oe.headerHeight+a.gapButtonHeader:ee=oe.headerWidth+a.gapButtonHeader),B.type==="dropdown"&&B.direction==="up"&&(ue=-a.gapButtonHeader+a.gapButton-oe.openHeight),B.type==="dropdown"&&B.direction==="left"&&(ee=-a.gapButtonHeader+a.gapButton-oe.openWidth);var V={x:oe.lx+ee+B.pad.l,y:oe.ly+ue+B.pad.t,yPad:a.gapButton,xPad:a.gapButton,index:0},J={l:V.x+B.borderwidth,t:V.y+B.borderwidth};N.each(function(te,Z){var se=h.select(this);se.call(m,B,te,R).call(v,B,V),se.on("click",function(){h.event.defaultPrevented||(te.execute&&(te.args2&&B.active===Z?(c(R,B,te,L,z,F,-1),b.executeAPICommand(R,te.method,te.args2)):(c(R,B,te,L,z,F,Z),b.executeAPICommand(R,te.method,te.args))),R.emit("plotly_buttonclicked",{menu:B,button:te,active:B.active}))}),se.on("mouseover",function(){se.call(_)}),se.on("mouseout",function(){se.call(w,B),N.call(M,B)})}),N.call(M,B),le?(J.w=Math.max(oe.openWidth,oe.headerWidth),J.h=V.y-J.t):(J.w=V.x-J.l,J.h=Math.max(oe.openHeight,oe.headerHeight)),J.direction=B.direction,F&&(N.size()?T(R,L,z,F,B,J):l(F))}function T(R,L,z,F,B,O){var I=B.direction,N=I==="up"||I==="down",U=B._dims,X=B.active,ee,ue,oe;if(N)for(ue=0,oe=0;oe<X;oe++)ue+=U.heights[oe]+a.gapButton;else for(ee=0,oe=0;oe<X;oe++)ee+=U.widths[oe]+a.gapButton;F.enable(O,ee,ue),F.hbar&&F.hbar.attr("opacity","0").transition().attr("opacity","1"),F.vbar&&F.vbar.attr("opacity","0").transition().attr("opacity","1")}function l(R){var L=!!R.hbar,z=!!R.vbar;L&&R.hbar.transition().attr("opacity","0").each("end",function(){L=!1,z||R.disable()}),z&&R.vbar.transition().attr("opacity","0").each("end",function(){z=!1,L||R.disable()})}function m(R,L,z,F){R.call(x,L).call(A,L,z,F)}function x(R,L){var z=e.ensureSingle(R,"rect",a.itemRectClassName,function(F){F.attr({rx:a.rx,ry:a.ry,"shape-rendering":"crispEdges"})});z.call(S.stroke,L.bordercolor).call(S.fill,L.bgcolor).style("stroke-width",L.borderwidth+"px")}function A(R,L,z,F){var B=e.ensureSingle(R,"text",a.itemTextClassName,function(N){N.attr({"text-anchor":"start","data-notex":1})}),O=z.label,I=F._fullLayout._meta;I&&(O=e.templateString(O,I)),B.call(E.font,L.font).text(O).call(t.convertToTspans,F)}function M(R,L){var z=L.active;R.each(function(F,B){var O=h.select(this);B===z&&L.showactive&&O.select("rect."+a.itemRectClassName).call(S.fill,a.activeColor)})}function _(R){R.select("rect."+a.itemRectClassName).call(S.fill,a.hoverColor)}function w(R,L){R.select("rect."+a.itemRectClassName).call(S.fill,L.bgcolor)}function g(R,L){var z=L._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},F=E.tester.selectAll("g."+a.dropdownButtonClassName).data(e.filterVisible(L.buttons));F.enter().append("g").classed(a.dropdownButtonClassName,!0);var B=["up","down"].indexOf(L.direction)!==-1;F.each(function(ee,ue){var oe=h.select(this);oe.call(m,L,ee,R);var le=oe.select("."+a.itemTextClassName),V=le.node()&&E.bBox(le.node()).width,J=Math.max(V+a.textPadX,a.minWidth),te=L.font.size*o,Z=t.lineCount(le),se=Math.max(te*Z,a.minHeight)+a.textOffsetY;se=Math.ceil(se),J=Math.ceil(J),z.widths[ue]=J,z.heights[ue]=se,z.height1=Math.max(z.height1,se),z.width1=Math.max(z.width1,J),B?(z.totalWidth=Math.max(z.totalWidth,J),z.openWidth=z.totalWidth,z.totalHeight+=se+a.gapButton,z.openHeight+=se+a.gapButton):(z.totalWidth+=J+a.gapButton,z.openWidth+=J+a.gapButton,z.totalHeight=Math.max(z.totalHeight,se),z.openHeight=z.totalHeight)}),B?z.totalHeight-=a.gapButton:z.totalWidth-=a.gapButton,z.headerWidth=z.width1+a.arrowPadX,z.headerHeight=z.height1,L.type==="dropdown"&&(B?(z.width1+=a.arrowPadX,z.totalHeight=z.height1):z.totalWidth=z.width1,z.totalWidth+=a.arrowPadX),F.remove();var O=z.totalWidth+L.pad.l+L.pad.r,I=z.totalHeight+L.pad.t+L.pad.b,N=R._fullLayout._size;z.lx=N.l+N.w*L.x,z.ly=N.t+N.h*(1-L.y);var U="left";e.isRightAnchor(L)&&(z.lx-=O,U="right"),e.isCenterAnchor(L)&&(z.lx-=O/2,U="center");var X="top";e.isBottomAnchor(L)&&(z.ly-=I,X="bottom"),e.isMiddleAnchor(L)&&(z.ly-=I/2,X="middle"),z.totalWidth=Math.ceil(z.totalWidth),z.totalHeight=Math.ceil(z.totalHeight),z.lx=Math.round(z.lx),z.ly=Math.round(z.ly),b.autoMargin(R,u(L),{x:L.x,y:L.y,l:O*({right:1,center:.5}[U]||0),r:O*({left:1,center:.5}[U]||0),b:I*({top:1,middle:.5}[X]||0),t:I*({bottom:1,middle:.5}[X]||0)})}function u(R){return a.autoMarginIdRoot+R._index}function v(R,L,z,F){F=F||{};var B=R.select("."+a.itemRectClassName),O=R.select("."+a.itemTextClassName),I=L.borderwidth,N=z.index,U=L._dims;E.setTranslate(R,I+z.x,I+z.y);var X=["up","down"].indexOf(L.direction)!==-1,ee=F.height||(X?U.heights[N]:U.height1);B.attr({x:0,y:0,width:F.width||(X?U.width1:U.widths[N]),height:ee});var ue=L.font.size*o,oe=t.lineCount(O),le=(oe-1)*ue/2;t.positionText(O,a.textOffsetX,ee/2-le+a.textOffsetY),X?z.y+=U.heights[N]+z.yPad:z.x+=U.widths[N]+z.xPad,z.index++}function y(R,L){R.attr(a.menuIndexAttrName,L||"-1").selectAll("g."+a.dropdownButtonClassName).remove()}}}),_M=He({"src/components/updatemenus/index.js"(Y,G){var h=T1();G.exports={moduleType:"component",name:h.name,layoutAttributes:rw(),supplyLayoutDefaults:gM(),draw:yM()}}}),hm=He({"src/components/sliders/constants.js"(Y,G){G.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}}),aw=He({"src/components/sliders/attributes.js"(Y,G){var h=Ru(),b=r1(),S=Po().extendDeepAll,E=Zu().overrideAll,e=em(),t=xl().templatedArray,r=hm(),o=t("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});G.exports=E(t("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:o,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:S(b({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:e.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:h({})},font:h({}),activebgcolor:{valType:"color",dflt:r.gripBgActiveColor},bgcolor:{valType:"color",dflt:r.railBgColor},bordercolor:{valType:"color",dflt:r.railBorderColor},borderwidth:{valType:"number",min:0,dflt:r.railBorderWidth},ticklen:{valType:"number",min:0,dflt:r.tickLength},tickcolor:{valType:"color",dflt:r.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:r.minorTickLength}}),"arraydraw","from-root")}}),xM=He({"src/components/sliders/defaults.js"(Y,G){var h=ea(),b=_h(),S=aw(),E=hm(),e=E.name,t=S.steps;G.exports=function(i,n){b(i,n,{name:e,handleItemDefaults:r})};function r(a,i,n){function s(x,A){return h.coerce(a,i,S,x,A)}for(var f=b(a,i,{name:"steps",handleItemDefaults:o}),c=0,p=0;p<f.length;p++)f[p].visible&&c++;var d;if(c<2?d=i.visible=!1:d=s("visible"),!!d){i._stepCount=c;var T=i._visibleSteps=h.filterVisible(f),l=s("active");(f[l]||{}).visible||(i.active=T[0]._index),s("x"),s("y"),h.noneOrAll(a,i,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),h.coerceFont(s,"font",n.font);var m=s("currentvalue.visible");m&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),h.coerceFont(s,"currentvalue.font",i.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function o(a,i){function n(c,p){return h.coerce(a,i,t,c,p)}var s;if(a.method!=="skip"&&!Array.isArray(a.args)?s=i.visible=!1:s=n("visible"),s){n("method"),n("args");var f=n("label","step-"+i._index);n("value",f),n("execute")}}}}),bM=He({"src/components/sliders/draw.js"(Y,G){var h=_i(),b=nc(),S=Di(),E=Io(),e=ea(),t=e.strTranslate,r=Zl(),o=xl().arrayEditor,a=hm(),i=Nf(),n=i.LINE_SPACING,s=i.FROM_TL,f=i.FROM_BR;G.exports=function(O){var I=O._context.staticPlot,N=O._fullLayout,U=p(N,O),X=N._infolayer.selectAll("g."+a.containerClassName).data(U.length>0?[0]:[]);X.enter().append("g").classed(a.containerClassName,!0).style("cursor",I?null:"ew-resize");function ee(V){V._commandObserver&&(V._commandObserver.remove(),delete V._commandObserver),b.autoMargin(O,c(V))}if(X.exit().each(function(){h.select(this).selectAll("g."+a.groupClassName).each(ee)}).remove(),U.length!==0){var ue=X.selectAll("g."+a.groupClassName).data(U,d);ue.enter().append("g").classed(a.groupClassName,!0),ue.exit().each(ee).remove();for(var oe=0;oe<U.length;oe++){var le=U[oe];T(O,le)}ue.each(function(V){var J=h.select(this);v(V),b.manageCommandObserver(O,V,V._visibleSteps,function(te){var Z=J.data()[0];Z.active!==te.index&&(Z._dragging||w(O,J,Z,te.index,!1,!0))}),l(O,h.select(this),V)})}};function c(B){return a.autoMarginIdRoot+B._index}function p(B,O){for(var I=B[a.name],N=[],U=0;U<I.length;U++){var X=I[U];X.visible&&(X._gd=O,N.push(X))}return N}function d(B){return B._index}function T(B,O){var I=E.tester.selectAll("g."+a.labelGroupClass).data(O._visibleSteps);I.enter().append("g").classed(a.labelGroupClass,!0);var N=0,U=0;I.each(function(se){var Q=h.select(this),q=A(Q,{step:se},O),re=q.node();if(re){var ae=E.bBox(re);U=Math.max(U,ae.height),N=Math.max(N,ae.width)}}),I.remove();var X=O._dims={};X.inputAreaWidth=Math.max(a.railWidth,a.gripHeight);var ee=B._fullLayout._size;X.lx=ee.l+ee.w*O.x,X.ly=ee.t+ee.h*(1-O.y),O.lenmode==="fraction"?X.outerLength=Math.round(ee.w*O.len):X.outerLength=O.len,X.inputAreaStart=0,X.inputAreaLength=Math.round(X.outerLength-O.pad.l-O.pad.r);var ue=X.inputAreaLength-2*a.stepInset,oe=ue/(O._stepCount-1),le=N+a.labelPadding;if(X.labelStride=Math.max(1,Math.ceil(le/oe)),X.labelHeight=U,X.currentValueMaxWidth=0,X.currentValueHeight=0,X.currentValueTotalHeight=0,X.currentValueMaxLines=1,O.currentvalue.visible){var V=E.tester.append("g");I.each(function(se){var Q=m(V,O,se.label),q=Q.node()&&E.bBox(Q.node())||{width:0,height:0},re=r.lineCount(Q);X.currentValueMaxWidth=Math.max(X.currentValueMaxWidth,Math.ceil(q.width)),X.currentValueHeight=Math.max(X.currentValueHeight,Math.ceil(q.height)),X.currentValueMaxLines=Math.max(X.currentValueMaxLines,re)}),X.currentValueTotalHeight=X.currentValueHeight+O.currentvalue.offset,V.remove()}X.height=X.currentValueTotalHeight+a.tickOffset+O.ticklen+a.labelOffset+X.labelHeight+O.pad.t+O.pad.b;var J="left";e.isRightAnchor(O)&&(X.lx-=X.outerLength,J="right"),e.isCenterAnchor(O)&&(X.lx-=X.outerLength/2,J="center");var te="top";e.isBottomAnchor(O)&&(X.ly-=X.height,te="bottom"),e.isMiddleAnchor(O)&&(X.ly-=X.height/2,te="middle"),X.outerLength=Math.ceil(X.outerLength),X.height=Math.ceil(X.height),X.lx=Math.round(X.lx),X.ly=Math.round(X.ly);var Z={y:O.y,b:X.height*f[te],t:X.height*s[te]};O.lenmode==="fraction"?(Z.l=0,Z.xl=O.x-O.len*s[J],Z.r=0,Z.xr=O.x+O.len*f[J]):(Z.x=O.x,Z.l=X.outerLength*s[J],Z.r=X.outerLength*f[J]),b.autoMargin(B,c(O),Z)}function l(B,O,I){(I.steps[I.active]||{}).visible||(I.active=I._visibleSteps[0]._index),O.call(m,I).call(F,I).call(M,I).call(u,I).call(z,B,I).call(x,B,I);var N=I._dims;E.setTranslate(O,N.lx+I.pad.l,N.ly+I.pad.t),O.call(y,I,!1),O.call(m,I)}function m(B,O,I){if(O.currentvalue.visible){var N=O._dims,U,X;switch(O.currentvalue.xanchor){case"right":U=N.inputAreaLength-a.currentValueInset-N.currentValueMaxWidth,X="left";break;case"center":U=N.inputAreaLength*.5,X="middle";break;default:U=a.currentValueInset,X="left"}var ee=e.ensureSingle(B,"text",a.labelClass,function(te){te.attr({"text-anchor":X,"data-notex":1})}),ue=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof I=="string")ue+=I;else{var oe=O.steps[O.active].label,le=O._gd._fullLayout._meta;le&&(oe=e.templateString(oe,le)),ue+=oe}O.currentvalue.suffix&&(ue+=O.currentvalue.suffix),ee.call(E.font,O.currentvalue.font).text(ue).call(r.convertToTspans,O._gd);var V=r.lineCount(ee),J=(N.currentValueMaxLines+1-V)*O.currentvalue.font.size*n;return r.positionText(ee,U,J),ee}}function x(B,O,I){var N=e.ensureSingle(B,"rect",a.gripRectClass,function(U){U.call(g,O,B,I).style("pointer-events","all")});N.attr({width:a.gripWidth,height:a.gripHeight,rx:a.gripRadius,ry:a.gripRadius}).call(S.stroke,I.bordercolor).call(S.fill,I.bgcolor).style("stroke-width",I.borderwidth+"px")}function A(B,O,I){var N=e.ensureSingle(B,"text",a.labelClass,function(ee){ee.attr({"text-anchor":"middle","data-notex":1})}),U=O.step.label,X=I._gd._fullLayout._meta;return X&&(U=e.templateString(U,X)),N.call(E.font,I.font).text(U).call(r.convertToTspans,I._gd),N}function M(B,O){var I=e.ensureSingle(B,"g",a.labelsClass),N=O._dims,U=I.selectAll("g."+a.labelGroupClass).data(N.labelSteps);U.enter().append("g").classed(a.labelGroupClass,!0),U.exit().remove(),U.each(function(X){var ee=h.select(this);ee.call(A,X,O),E.setTranslate(ee,R(O,X.fraction),a.tickOffset+O.ticklen+O.font.size*n+a.labelOffset+N.currentValueTotalHeight)})}function _(B,O,I,N,U){var X=Math.round(N*(I._stepCount-1)),ee=I._visibleSteps[X]._index;ee!==I.active&&w(B,O,I,ee,!0,U)}function w(B,O,I,N,U,X){var ee=I.active;I.active=N,o(B.layout,a.name,I).applyUpdate("active",N);var ue=I.steps[I.active];O.call(y,I,X),O.call(m,I),B.emit("plotly_sliderchange",{slider:I,step:I.steps[I.active],interaction:U,previousActive:ee}),ue&&ue.method&&U&&(O._nextMethod?(O._nextMethod.step=ue,O._nextMethod.doCallback=U,O._nextMethod.doTransition=X):(O._nextMethod={step:ue,doCallback:U,doTransition:X},O._nextMethodRaf=window.requestAnimationFrame(function(){var oe=O._nextMethod.step;oe.method&&(oe.execute&&b.executeAPICommand(B,oe.method,oe.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function g(B,O,I){if(O._context.staticPlot)return;var N=I.node(),U=h.select(O);function X(){return I.data()[0]}function ee(){var ue=X();O.emit("plotly_sliderstart",{slider:ue});var oe=I.select("."+a.gripRectClass);h.event.stopPropagation(),h.event.preventDefault(),oe.call(S.fill,ue.activebgcolor);var le=L(ue,h.mouse(N)[0]);_(O,I,ue,le,!0),ue._dragging=!0;function V(){var te=X(),Z=L(te,h.mouse(N)[0]);_(O,I,te,Z,!1)}U.on("mousemove",V),U.on("touchmove",V);function J(){var te=X();te._dragging=!1,oe.call(S.fill,te.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),O.emit("plotly_sliderend",{slider:te,step:te.steps[te.active]})}U.on("mouseup",J),U.on("touchend",J)}B.on("mousedown",ee),B.on("touchstart",ee)}function u(B,O){var I=B.selectAll("rect."+a.tickRectClass).data(O._visibleSteps),N=O._dims;I.enter().append("rect").classed(a.tickRectClass,!0),I.exit().remove(),I.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),I.each(function(U,X){var ee=X%N.labelStride===0,ue=h.select(this);ue.attr({height:ee?O.ticklen:O.minorticklen}).call(S.fill,O.tickcolor),E.setTranslate(ue,R(O,X/(O._stepCount-1))-.5*O.tickwidth,(ee?a.tickOffset:a.minorTickOffset)+N.currentValueTotalHeight)})}function v(B){var O=B._dims;O.labelSteps=[];for(var I=B._stepCount,N=0;N<I;N+=O.labelStride)O.labelSteps.push({fraction:N/(I-1),step:B._visibleSteps[N]})}function y(B,O,I){for(var N=B.select("rect."+a.gripRectClass),U=0,X=0;X<O._stepCount;X++)if(O._visibleSteps[X]._index===O.active){U=X;break}var ee=R(O,U/(O._stepCount-1));if(!O._invokingCommand){var ue=N;I&&O.transition.duration>0&&(ue=ue.transition().duration(O.transition.duration).ease(O.transition.easing)),ue.attr("transform",t(ee-a.gripWidth*.5,O._dims.currentValueTotalHeight))}}function R(B,O){var I=B._dims;return I.inputAreaStart+a.stepInset+(I.inputAreaLength-2*a.stepInset)*Math.min(1,Math.max(0,O))}function L(B,O){var I=B._dims;return Math.min(1,Math.max(0,(O-a.stepInset-I.inputAreaStart)/(I.inputAreaLength-2*a.stepInset-2*I.inputAreaStart)))}function z(B,O,I){var N=I._dims,U=e.ensureSingle(B,"rect",a.railTouchRectClass,function(X){X.call(g,O,B,I).style("pointer-events","all")});U.attr({width:N.inputAreaLength,height:Math.max(N.inputAreaWidth,a.tickOffset+I.ticklen+N.labelHeight)}).call(S.fill,I.bgcolor).attr("opacity",0),E.setTranslate(U,0,N.currentValueTotalHeight)}function F(B,O){var I=O._dims,N=I.inputAreaLength-a.railInset*2,U=e.ensureSingle(B,"rect",a.railRectClass);U.attr({width:N,height:a.railWidth,rx:a.railRadius,ry:a.railRadius,"shape-rendering":"crispEdges"}).call(S.stroke,O.bordercolor).call(S.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),E.setTranslate(U,a.railInset,(I.inputAreaWidth-a.railWidth)*.5+I.currentValueTotalHeight)}}}),wM=He({"src/components/sliders/index.js"(Y,G){var h=hm();G.exports={moduleType:"component",name:h.name,layoutAttributes:aw(),supplyLayoutDefaults:xM(),draw:bM()}}}),A1=He({"src/components/rangeslider/attributes.js"(Y,G){var h=Mf();G.exports={bgcolor:{valType:"color",dflt:h.background,editType:"plot"},bordercolor:{valType:"color",dflt:h.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}}),nw=He({"src/components/rangeslider/oppaxis_attributes.js"(Y,G){G.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}}),S1=He({"src/components/rangeslider/constants.js"(Y,G){G.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}}),TM=He({"src/components/rangeslider/helpers.js"(Y){var G=Mc(),h=Zl(),b=S1(),S=Nf().LINE_SPACING,E=b.name;function e(t){var r=t&&t[E];return r&&r.visible}Y.isVisible=e,Y.makeData=function(t){for(var r=G.list({_fullLayout:t},"x",!0),o=t.margin,a=[],i=0;i<r.length;i++){var n=r[i];if(e(n)){a.push(n);var s=n[E];s._id=E+n._id,s._height=(t.height-o.b-o.t)*s.thickness,s._offsetShift=Math.floor(s.borderwidth/2)}}t._rangeSliderData=a},Y.autoMarginOpts=function(t,r){var o=t._fullLayout,a=r[E],i=r._id.charAt(0),n=0,s=0;if(r.side==="bottom"&&(n=r._depth,r.title.text!==o._dfltTitle[i])){s=1.5*r.title.font.size+10+a._offsetShift;var f=(r.title.text.match(h.BR_TAG_ALL)||[]).length;s+=f*r.title.font.size*S}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:a._height+n+Math.max(o.margin.b,s),pad:b.extraPad+a._offsetShift*2}}}}),AM=He({"src/components/rangeslider/defaults.js"(Y,G){var h=ea(),b=xl(),S=Mc(),E=A1(),e=nw();G.exports=function(r,o,a){var i=r[a],n=o[a];if(!(i.rangeslider||o._requestRangeslider[n._id]))return;h.isPlainObject(i.rangeslider)||(i.rangeslider={});var s=i.rangeslider,f=b.newContainer(n,"rangeslider");function c(v,y){return h.coerce(s,f,E,v,y)}var p,d;function T(v,y){return h.coerce(p,d,e,v,y)}var l=c("visible");if(l){c("bgcolor",o.plot_bgcolor),c("bordercolor"),c("borderwidth"),c("thickness"),c("autorange",!n.isValidRange(s.range)),c("range");var m=o._subplots;if(m)for(var x=m.cartesian.filter(function(v){return v.slice(0,Math.max(0,v.indexOf("y")))===S.name2id(a)}).map(function(v){return v.slice(v.indexOf("y"),v.length)}),A=h.simpleMap(x,S.id2name),M=0;M<A.length;M++){var _=A[M];p=s[_]||{},d=b.newContainer(f,_,"yaxis");var w=o[_],g;p.range&&w.isValidRange(p.range)&&(g="fixed");var u=T("rangemode",g);u!=="match"&&T("range",w.range.slice())}f._input=s}}}}),SM=He({"src/components/rangeslider/calc_autorange.js"(Y,G){var h=Mc().list,b=Tv().getAutoRange,S=S1();G.exports=function(e){for(var t=h(e,"x",!0),r=0;r<t.length;r++){var o=t[r],a=o[S.name];a&&a.visible&&a.autorange&&(a._input.autorange=!0,a._input.range=a.range=b(e,o))}}}}),MM=He({"src/components/rangeslider/draw.js"(Y,G){var h=_i(),b=ji(),S=nc(),E=ea(),e=E.strTranslate,t=Io(),r=Di(),o=Dp(),a=mf(),i=Mc(),n=kh(),s=Av(),f=S1();G.exports=function(g){for(var u=g._fullLayout,v=u._rangeSliderData,y=0;y<v.length;y++){var R=v[y][f.name];R._clipId=R._id+"-"+u._uid}function L(F){return F._name}var z=u._infolayer.selectAll("g."+f.containerClassName).data(v,L);z.exit().each(function(F){var B=F[f.name];u._topdefs.select("#"+B._clipId).remove()}).remove(),v.length!==0&&(z.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),z.each(function(F){var B=h.select(this),O=F[f.name],I=u[i.id2name(F.anchor)],N=O[i.id2name(F.anchor)];if(O.range){var U=E.simpleMap(O.range,F.r2l),X=E.simpleMap(F.range,F.r2l),ee;X[0]<X[1]?ee=[Math.min(U[0],X[0]),Math.max(U[1],X[1])]:ee=[Math.max(U[0],X[0]),Math.min(U[1],X[1])],O.range=O._input.range=E.simpleMap(ee,F.l2r)}F.cleanRange("rangeslider.range");var ue=u._size,oe=F.domain;O._width=ue.w*(oe[1]-oe[0]);var le=Math.round(ue.l+ue.w*oe[0]),V=Math.round(ue.t+ue.h*(1-F._counterDomainMin)+(F.side==="bottom"?F._depth:0)+O._offsetShift+f.extraPad);B.attr("transform",e(le,V)),O._rl=E.simpleMap(O.range,F.r2l);var J=O._rl[0],te=O._rl[1],Z=te-J;if(O.p2d=function(Le){return Le/O._width*Z+J},O.d2p=function(Le){return(Le-J)/Z*O._width},F.rangebreaks){var se=F.locateBreaks(J,te);if(se.length){var Q,q,re=0;for(Q=0;Q<se.length;Q++)q=se[Q],re+=q.max-q.min;var ae=O._width/(te-J-re),fe=[-ae*J];for(Q=0;Q<se.length;Q++)q=se[Q],fe.push(fe[fe.length-1]-ae*(q.max-q.min));for(O.d2p=function(Le){for(var je=fe[0],et=0;et<se.length;et++){var rt=se[et];if(Le>=rt.max)je=fe[et+1];else if(Le<rt.min)break}return je+ae*Le},Q=0;Q<se.length;Q++)q=se[Q],q.pmin=O.d2p(q.min),q.pmax=O.d2p(q.max);O.p2d=function(Le){for(var je=fe[0],et=0;et<se.length;et++){var rt=se[et];if(Le>=rt.pmax)je=fe[et+1];else if(Le<rt.pmin)break}return(Le-je)/ae}}}if(N.rangemode!=="match"){var be=I.r2l(N.range[0]),Me=I.r2l(N.range[1]),Ie=Me-be;O.d2pOppAxis=function(Le){return(Le-be)/Ie*O._height}}B.call(l,g,F,O).call(m,g,F,O).call(x,g,F,O).call(M,g,F,O,N).call(_,g,F,O).call(w,g,F,O),p(B,g,F,O),T(B,g,F,O,I,N),F.side==="bottom"&&o.draw(g,F._id+"title",{propContainer:F,propName:F._name+".title.text",placeholder:u._dfltTitle.x,attributes:{x:F._offset+F._length/2,y:V+O._height+O._offsetShift+10+1.5*F.title.font.size,"text-anchor":"middle"}})}))};function c(g){return typeof g.clientX=="number"?g.clientX:g.touches&&g.touches.length>0?g.touches[0].clientX:0}function p(g,u,v,y){if(u._context.staticPlot)return;var R=g.select("rect."+f.slideBoxClassName).node(),L=g.select("rect."+f.grabAreaMinClassName).node(),z=g.select("rect."+f.grabAreaMaxClassName).node();function F(){var B=h.event,O=B.target,I=c(B),N=I-g.node().getBoundingClientRect().left,U=y.d2p(v._rl[0]),X=y.d2p(v._rl[1]),ee=n.coverSlip();this.addEventListener("touchmove",ue),this.addEventListener("touchend",oe),ee.addEventListener("mousemove",ue),ee.addEventListener("mouseup",oe);function ue(le){var V=c(le),J=+V-I,te,Z,se;switch(O){case R:if(se="ew-resize",U+J>v._length||X+J<0)return;te=U+J,Z=X+J;break;case L:if(se="col-resize",U+J>v._length)return;te=U+J,Z=X;break;case z:if(se="col-resize",X+J<0)return;te=U,Z=X+J;break;default:se="ew-resize",te=N,Z=N+J;break}if(Z<te){var Q=Z;Z=te,te=Q}y._pixelMin=te,y._pixelMax=Z,s(h.select(ee),se),d(g,u,v,y)}function oe(){ee.removeEventListener("mousemove",ue),ee.removeEventListener("mouseup",oe),this.removeEventListener("touchmove",ue),this.removeEventListener("touchend",oe),E.removeElement(ee)}}g.on("mousedown",F),g.on("touchstart",F)}function d(g,u,v,y){function R(F){return v.l2r(E.constrain(F,y._rl[0],y._rl[1]))}var L=R(y.p2d(y._pixelMin)),z=R(y.p2d(y._pixelMax));window.requestAnimationFrame(function(){b.call("_guiRelayout",u,v._name+".range",[L,z])})}function T(g,u,v,y,R,L){var z=f.handleWidth/2;function F(le){return E.constrain(le,0,y._width)}function B(le){return E.constrain(le,0,y._height)}function O(le){return E.constrain(le,-z,y._width+z)}var I=F(y.d2p(v._rl[0])),N=F(y.d2p(v._rl[1]));if(g.select("rect."+f.slideBoxClassName).attr("x",I).attr("width",N-I),g.select("rect."+f.maskMinClassName).attr("width",I),g.select("rect."+f.maskMaxClassName).attr("x",N).attr("width",y._width-N),L.rangemode!=="match"){var U=y._height-B(y.d2pOppAxis(R._rl[1])),X=y._height-B(y.d2pOppAxis(R._rl[0]));g.select("rect."+f.maskMinOppAxisClassName).attr("x",I).attr("height",U).attr("width",N-I),g.select("rect."+f.maskMaxOppAxisClassName).attr("x",I).attr("y",X).attr("height",y._height-X).attr("width",N-I),g.select("rect."+f.slideBoxClassName).attr("y",U).attr("height",X-U)}var ee=.5,ue=Math.round(O(I-z))-ee,oe=Math.round(O(N-z))+ee;g.select("g."+f.grabberMinClassName).attr("transform",e(ue,ee)),g.select("g."+f.grabberMaxClassName).attr("transform",e(oe,ee))}function l(g,u,v,y){var R=E.ensureSingle(g,"rect",f.bgClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),L=y.borderwidth%2===0?y.borderwidth:y.borderwidth-1,z=-y._offsetShift,F=t.crispRound(u,y.borderwidth);R.attr({width:y._width+L,height:y._height+L,transform:e(z,z),"stroke-width":F}).call(r.stroke,y.bordercolor).call(r.fill,y.bgcolor)}function m(g,u,v,y){var R=u._fullLayout,L=E.ensureSingleById(R._topdefs,"clipPath",y._clipId,function(z){z.append("rect").attr({x:0,y:0})});L.select("rect").attr({width:y._width,height:y._height})}function x(g,u,v,y){var R=u.calcdata,L=g.selectAll("g."+f.rangePlotClassName).data(v._subplotsWith,E.identity);L.enter().append("g").attr("class",function(F){return f.rangePlotClassName+" "+F}).call(t.setClipUrl,y._clipId,u),L.order(),L.exit().remove();var z;L.each(function(F,B){var O=h.select(this),I=B===0,N=i.getFromId(u,F,"y"),U=N._name,X=y[U],ee={data:[],layout:{xaxis:{type:v.type,domain:[0,1],range:y.range.slice(),calendar:v.calendar},width:y._width,height:y._height,margin:{t:0,b:0,l:0,r:0}},_context:u._context};v.rangebreaks&&(ee.layout.xaxis.rangebreaks=v.rangebreaks),ee.layout[U]={type:N.type,domain:[0,1],range:X.rangemode!=="match"?X.range.slice():N.range.slice(),calendar:N.calendar},N.rangebreaks&&(ee.layout[U].rangebreaks=N.rangebreaks),S.supplyDefaults(ee);var ue=ee._fullLayout.xaxis,oe=ee._fullLayout[U];ue.clearCalc(),ue.setScale(),oe.clearCalc(),oe.setScale();var le={id:F,plotgroup:O,xaxis:ue,yaxis:oe,isRangePlot:!0};I?z=le:(le.mainplot="xy",le.mainplotinfo=z),a.rangePlot(u,le,A(R,F))})}function A(g,u){for(var v=[],y=0;y<g.length;y++){var R=g[y],L=R[0].trace;L.xaxis+L.yaxis===u&&v.push(R)}return v}function M(g,u,v,y,R){var L=E.ensureSingle(g,"rect",f.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})});L.attr("height",y._height).call(r.fill,f.maskColor);var z=E.ensureSingle(g,"rect",f.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});if(z.attr("height",y._height).call(r.fill,f.maskColor),R.rangemode!=="match"){var F=E.ensureSingle(g,"rect",f.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",y._width).call(r.fill,f.maskOppAxisColor);var B=E.ensureSingle(g,"rect",f.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});B.attr("width",y._width).style("border-top",f.maskOppBorder).call(r.fill,f.maskOppAxisColor)}}function _(g,u,v,y){if(!u._context.staticPlot){var R=E.ensureSingle(g,"rect",f.slideBoxClassName,function(L){L.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});R.attr({height:y._height,fill:f.slideBoxFill})}}function w(g,u,v,y){var R=E.ensureSingle(g,"g",f.grabberMinClassName),L=E.ensureSingle(g,"g",f.grabberMaxClassName),z={x:0,width:f.handleWidth,rx:f.handleRadius,fill:r.background,stroke:r.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},F={y:Math.round(y._height/4),height:Math.round(y._height/2)},B=E.ensureSingle(R,"rect",f.handleMinClassName,function(X){X.attr(z)});B.attr(F);var O=E.ensureSingle(L,"rect",f.handleMaxClassName,function(X){X.attr(z)});O.attr(F);var I={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:u._context.staticPlot?void 0:f.grabAreaCursor},N=E.ensureSingle(R,"rect",f.grabAreaMinClassName,function(X){X.attr(I)});N.attr("height",y._height);var U=E.ensureSingle(L,"rect",f.grabAreaMaxClassName,function(X){X.attr(I)});U.attr("height",y._height)}}}),EM=He({"src/components/rangeslider/index.js"(Y,G){var h=ea(),b=A1(),S=nw(),E=TM();G.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:h.extendFlat({},b,{yaxis:S})}}},layoutAttributes:A1(),handleDefaults:AM(),calcAutorange:SM(),draw:MM(),isVisible:E.isVisible,makeData:E.makeData,autoMarginOpts:E.autoMarginOpts}}}),M1=He({"src/components/rangeselector/attributes.js"(Y,G){var h=Ru(),b=Mf(),S=xl().templatedArray,E=S("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});G.exports={visible:{valType:"boolean",editType:"plot"},buttons:E,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:h({editType:"plot"}),bgcolor:{valType:"color",dflt:b.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}}),iw=He({"src/components/rangeselector/constants.js"(Y,G){G.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}}),kM=He({"src/components/rangeselector/defaults.js"(Y,G){var h=ea(),b=Di(),S=xl(),E=_h(),e=M1(),t=iw();G.exports=function(i,n,s,f,c){var p=i.rangeselector||{},d=S.newContainer(n,"rangeselector");function T(M,_){return h.coerce(p,d,e,M,_)}var l=E(p,d,{name:"buttons",handleItemDefaults:r,calendar:c}),m=T("visible",l.length>0);if(m){var x=o(n,s,f);T("x",x[0]),T("y",x[1]),h.noneOrAll(i,n,["x","y"]),T("xanchor"),T("yanchor"),h.coerceFont(T,"font",s.font);var A=T("bgcolor");T("activecolor",b.contrast(A,t.lightAmount,t.darkAmount)),T("bordercolor"),T("borderwidth")}};function r(a,i,n,s){var f=s.calendar;function c(T,l){return h.coerce(a,i,e.buttons,T,l)}var p=c("visible");if(p){var d=c("step");d!=="all"&&(f&&f!=="gregorian"&&(d==="month"||d==="year")?i.stepmode="backward":c("stepmode"),c("count")),c("label")}}function o(a,i,n){for(var s=n.filter(function(d){return i[d].anchor===a._id}),f=0,c=0;c<s.length;c++){var p=i[s[c]].domain;p&&(f=Math.max(p[1],f))}return[a.domain[0],f+t.yPad]}}}),CM=He({"src/components/rangeselector/get_update_object.js"(Y,G){var h=Jo(),b=ea().titleCase;G.exports=function(e,t){var r=e._name,o={};if(t.step==="all")o[r+".autorange"]=!0;else{var a=S(e,t);o[r+".range[0]"]=a[0],o[r+".range[1]"]=a[1]}return o};function S(E,e){var t=E.range,r=new Date(E.r2l(t[1])),o=e.step,a=h["utc"+b(o)],i=e.count,n;switch(e.stepmode){case"backward":n=E.l2r(+a.offset(r,-i));break;case"todate":var s=a.offset(r,-i);n=E.l2r(+a.ceil(s));break}var f=t[1];return[n,f]}}}),LM=He({"src/components/rangeselector/draw.js"(Y,G){var h=_i(),b=ji(),S=nc(),E=Di(),e=Io(),t=ea(),r=t.strTranslate,o=Zl(),a=Mc(),i=Nf(),n=i.LINE_SPACING,s=i.FROM_TL,f=i.FROM_BR,c=iw(),p=CM();G.exports=function(g){var u=g._fullLayout,v=u._infolayer.selectAll(".rangeselector").data(d(g),T);v.enter().append("g").classed("rangeselector",!0),v.exit().remove(),v.style({cursor:"pointer","pointer-events":"all"}),v.each(function(y){var R=h.select(this),L=y,z=L.rangeselector,F=R.selectAll("g.button").data(t.filterVisible(z.buttons));F.enter().append("g").classed("button",!0),F.exit().remove(),F.each(function(B){var O=h.select(this),I=p(L,B);B._isActive=l(L,B,I),O.call(m,z,B),O.call(A,z,B,g),O.on("click",function(){g._dragged||b.call("_guiRelayout",g,I)}),O.on("mouseover",function(){B._isHovered=!0,O.call(m,z,B)}),O.on("mouseout",function(){B._isHovered=!1,O.call(m,z,B)})}),_(g,F,z,L._name,R)})};function d(w){for(var g=a.list(w,"x",!0),u=[],v=0;v<g.length;v++){var y=g[v];y.rangeselector&&y.rangeselector.visible&&u.push(y)}return u}function T(w){return w._id}function l(w,g,u){if(g.step==="all")return w.autorange===!0;var v=Object.keys(u);return w.range[0]===u[v[0]]&&w.range[1]===u[v[1]]}function m(w,g,u){var v=t.ensureSingle(w,"rect","selector-rect",function(y){y.attr("shape-rendering","crispEdges")});v.attr({rx:c.rx,ry:c.ry}),v.call(E.stroke,g.bordercolor).call(E.fill,x(g,u)).style("stroke-width",g.borderwidth+"px")}function x(w,g){return g._isActive||g._isHovered?w.activecolor:w.bgcolor}function A(w,g,u,v){function y(L){o.convertToTspans(L,v)}var R=t.ensureSingle(w,"text","selector-text",function(L){L.attr("text-anchor","middle")});R.call(e.font,g.font).text(M(u,v._fullLayout._meta)).call(y)}function M(w,g){return w.label?g?t.templateString(w.label,g):w.label:w.step==="all"?"all":w.count+w.step.charAt(0)}function _(w,g,u,v,y){var R=0,L=0,z=u.borderwidth;g.each(function(){var U=h.select(this),X=U.select(".selector-text"),ee=u.font.size*n,ue=Math.max(ee*o.lineCount(X),16)+3;L=Math.max(L,ue)}),g.each(function(){var U=h.select(this),X=U.select(".selector-rect"),ee=U.select(".selector-text"),ue=ee.node()&&e.bBox(ee.node()).width,oe=u.font.size*n,le=o.lineCount(ee),V=Math.max(ue+10,c.minButtonWidth);U.attr("transform",r(z+R,z)),X.attr({x:0,y:0,width:V,height:L}),o.positionText(ee,V/2,L/2-(le-1)*oe/2+3),R+=V+5});var F=w._fullLayout._size,B=F.l+F.w*u.x,O=F.t+F.h*(1-u.y),I="left";t.isRightAnchor(u)&&(B-=R,I="right"),t.isCenterAnchor(u)&&(B-=R/2,I="center");var N="top";t.isBottomAnchor(u)&&(O-=L,N="bottom"),t.isMiddleAnchor(u)&&(O-=L/2,N="middle"),R=Math.ceil(R),L=Math.ceil(L),B=Math.round(B),O=Math.round(O),S.autoMargin(w,v+"-range-selector",{x:u.x,y:u.y,l:R*s[I],r:R*f[I],b:L*f[N],t:L*s[N]}),y.attr("transform",r(B,O))}}}),PM=He({"src/components/rangeselector/index.js"(Y,G){G.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:M1()}}},layoutAttributes:M1(),handleDefaults:kM(),draw:LM()}}}),ic=He({"src/plots/domain.js"(Y){var G=Po().extendFlat;Y.attributes=function(h,b){h=h||{},b=b||{};var S={valType:"info_array",editType:h.editType,items:[{valType:"number",min:0,max:1,editType:h.editType},{valType:"number",min:0,max:1,editType:h.editType}],dflt:[0,1]};h.name&&h.name+"",h.trace,b.description&&""+b.description;var E={x:G({},S,{}),y:G({},S,{}),editType:h.editType};return h.noGridCell||(E.row={valType:"integer",min:0,dflt:0,editType:h.editType},E.column={valType:"integer",min:0,dflt:0,editType:h.editType}),E},Y.defaults=function(h,b,S,E){var e=E&&E.x||[0,1],t=E&&E.y||[0,1],r=b.grid;if(r){var o=S("domain.column");o!==void 0&&(o<r.columns?e=r._domains.x[o]:delete h.domain.column);var a=S("domain.row");a!==void 0&&(a<r.rows?t=r._domains.y[a]:delete h.domain.row)}var i=S("domain.x",e),n=S("domain.y",t);i[0]<i[1]||(h.domain.x=e.slice()),n[0]<n[1]||(h.domain.y=t.slice())}}}),ow=He({"src/components/grid/index.js"(Y,G){var h=ea(),b=B0().counter,S=ic().attributes,E=Yf().idRegex,e=xl(),t={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[b("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[E.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[E.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:S({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function r(s,f,c){var p=f[c+"axes"],d=Object.keys((s._splomAxes||{})[c]||{});if(Array.isArray(p))return p;if(d.length)return d}function o(s,f){var c=s.grid||{},p=r(f,c,"x"),d=r(f,c,"y");if(!s.grid&&!p&&!d)return;var T=Array.isArray(c.subplots)&&Array.isArray(c.subplots[0]),l=Array.isArray(p),m=Array.isArray(d),x=l&&p!==c.xaxes&&m&&d!==c.yaxes,A,M;T?(A=c.subplots.length,M=c.subplots[0].length):(m&&(A=d.length),l&&(M=p.length));var _=e.newContainer(f,"grid");function w(O,I){return h.coerce(c,_,t,O,I)}var g=w("rows",A),u=w("columns",M);if(!(g*u>1)){delete f.grid;return}if(!T&&!l&&!m){var v=w("pattern")==="independent";v&&(T=!0)}_._hasSubplotGrid=T;var y=w("roworder"),R=y==="top to bottom",L=T?.2:.1,z=T?.3:.1,F,B;x&&f._splomGridDflt&&(F=f._splomGridDflt.xside,B=f._splomGridDflt.yside),_._domains={x:a("x",w,L,F,u),y:a("y",w,z,B,g,R)}}function a(s,f,c,p,d,T){var l=f(s+"gap",c),m=f("domain."+s);f(s+"side",p);for(var x=new Array(d),A=m[0],M=(m[1]-A)/(d-l),_=M*(1-l),w=0;w<d;w++){var g=A+M*w;x[T?d-1-w:w]=[g,g+_]}return x}function i(s,f){var c=f.grid;if(!(!c||!c._domains)){var p=s.grid||{},d=f._subplots,T=c._hasSubplotGrid,l=c.rows,m=c.columns,x=c.pattern==="independent",A,M,_,w,g,u,v,y=c._axisMap={};if(T){var R=p.subplots||[];u=c.subplots=new Array(l);var L=1;for(A=0;A<l;A++){var z=u[A]=new Array(m),F=R[A]||[];for(M=0;M<m;M++)if(x?(g=L===1?"xy":"x"+L+"y"+L,L++):g=F[M],z[M]="",d.cartesian.indexOf(g)!==-1){if(v=g.indexOf("y"),_=g.slice(0,v),w=g.slice(v),y[_]!==void 0&&y[_]!==M||y[w]!==void 0&&y[w]!==A)continue;z[M]=g,y[_]=M,y[w]=A}}}else{var B=r(f,p,"x"),O=r(f,p,"y");c.xaxes=n(B,d.xaxis,m,y,"x"),c.yaxes=n(O,d.yaxis,l,y,"y")}var I=c._anchors={},N=c.roworder==="top to bottom";for(var U in y){var X=U.charAt(0),ee=c[X+"side"],ue,oe,le;if(ee.length<8)I[U]="free";else if(X==="x"){if(ee.charAt(0)==="t"===N?(ue=0,oe=1,le=l):(ue=l-1,oe=-1,le=-1),T){var V=y[U];for(A=ue;A!==le;A+=oe)if(g=u[A][V],!!g&&(v=g.indexOf("y"),g.slice(0,v)===U)){I[U]=g.slice(v);break}}else for(A=ue;A!==le;A+=oe)if(w=c.yaxes[A],d.cartesian.indexOf(U+w)!==-1){I[U]=w;break}}else if(ee.charAt(0)==="l"?(ue=0,oe=1,le=m):(ue=m-1,oe=-1,le=-1),T){var J=y[U];for(A=ue;A!==le;A+=oe)if(g=u[J][A],!!g&&(v=g.indexOf("y"),g.slice(v)===U)){I[U]=g.slice(0,v);break}}else for(A=ue;A!==le;A+=oe)if(_=c.xaxes[A],d.cartesian.indexOf(_+U)!==-1){I[U]=_;break}}}}function n(s,f,c,p,d){var T=new Array(c),l;function m(x,A){f.indexOf(A)!==-1&&p[A]===void 0?(T[x]=A,p[A]=x):T[x]=""}if(Array.isArray(s))for(l=0;l<c;l++)m(l,s[l]);else for(m(0,d),l=1;l<c;l++)m(l,d+(l+1));return T}G.exports={moduleType:"component",name:"grid",schema:{layout:{grid:t}},layoutAttributes:t,sizeDefaults:o,contentDefaults:i}}}),sw=He({"src/components/errorbars/attributes.js"(Y,G){G.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}}),IM=He({"src/components/errorbars/defaults.js"(Y,G){var h=Ui(),b=ji(),S=ea(),E=xl(),e=sw();G.exports=function(t,r,o,a){var i="error_"+a.axis,n=E.newContainer(r,i),s=t[i]||{};function f(x,A){return S.coerce(s,n,e,x,A)}var c=s.array!==void 0||s.value!==void 0||s.type==="sqrt",p=f("visible",c);if(p!==!1){var d=f("type","array"in s?"data":"percent"),T=!0;d!=="sqrt"&&(T=f("symmetric",!((d==="data"?"arrayminus":"valueminus")in s))),d==="data"?(f("array"),f("traceref"),T||(f("arrayminus"),f("tracerefminus"))):(d==="percent"||d==="constant")&&(f("value"),T||f("valueminus"));var l="copy_"+a.inherit+"style";if(a.inherit){var m=r["error_"+a.inherit];(m||{}).visible&&f(l,!(s.color||h(s.thickness)||h(s.width)))}(!a.inherit||!n[l])&&(f("color",o),f("thickness"),f("width",b.traceIs(r,"gl3d")?0:4))}}}}),lw=He({"src/components/errorbars/compute_error.js"(Y,G){G.exports=function(S){var E=S.type,e=S.symmetric;if(E==="data"){var t=S.array||[];if(e)return function(n,s){var f=+t[s];return[f,f]};var r=S.arrayminus||[];return function(n,s){var f=+t[s],c=+r[s];return!isNaN(f)||!isNaN(c)?[c||0,f||0]:[NaN,NaN]}}else{var o=h(E,S.value),a=h(E,S.valueminus);return e||S.valueminus===void 0?function(n){var s=o(n);return[s,s]}:function(n){return[a(n),o(n)]}}};function h(b,S){if(b==="percent")return function(E){return Math.abs(E*S/100)};if(b==="constant")return function(){return Math.abs(S)};if(b==="sqrt")return function(E){return Math.sqrt(Math.abs(E))}}}}),RM=He({"src/components/errorbars/calc.js"(Y,G){var h=Ui(),b=ji(),S=Ao(),E=ea(),e=lw();G.exports=function(o){for(var a=o.calcdata,i=0;i<a.length;i++){var n=a[i],s=n[0].trace;if(s.visible===!0&&b.traceIs(s,"errorBarsOK")){var f=S.getFromId(o,s.xaxis),c=S.getFromId(o,s.yaxis);t(n,s,f,"x"),t(n,s,c,"y")}}};function t(r,o,a,i){var n=o["error_"+i]||{},s=n.visible&&["linear","log"].indexOf(a.type)!==-1,f=[];if(s){for(var c=e(n),p=0;p<r.length;p++){var d=r[p],T=d.i;if(T===void 0)T=p;else if(T===null)continue;var l=d[i];if(h(a.c2l(l))){var m=c(l,T);if(h(m[0])&&h(m[1])){var x=d[i+"s"]=l-m[0],A=d[i+"h"]=l+m[1];f.push(x,A)}}}var M=a._id,_=o._extremes[M],w=S.findExtremes(a,f,E.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(w.min),_.max=_.max.concat(w.max)}}}}),DM=He({"src/components/errorbars/plot.js"(Y,G){var h=_i(),b=Ui(),S=Io(),E=mu();G.exports=function(r,o,a,i){var n,s=a.xaxis,f=a.yaxis,c=i&&i.duration>0,p=r._context.staticPlot;o.each(function(d){var T=d[0].trace,l=T.error_x||{},m=T.error_y||{},x;T.ids&&(x=function(w){return w.id});var A=E.hasMarkers(T)&&T.marker.maxdisplayed>0;!m.visible&&!l.visible&&(d=[]);var M=h.select(this).selectAll("g.errorbar").data(d,x);if(M.exit().remove(),!!d.length){l.visible||M.selectAll("path.xerror").remove(),m.visible||M.selectAll("path.yerror").remove(),M.style("opacity",1);var _=M.enter().append("g").classed("errorbar",!0);c&&_.style("opacity",0).transition().duration(i.duration).style("opacity",1),S.setClipUrl(M,a.layerClipId,r),M.each(function(w){var g=h.select(this),u=e(w,s,f);if(!(A&&!w.vis)){var v,y=g.select("path.yerror");if(m.visible&&b(u.x)&&b(u.yh)&&b(u.ys)){var R=m.width;v="M"+(u.x-R)+","+u.yh+"h"+2*R+"m-"+R+",0V"+u.ys,u.noYS||(v+="m-"+R+",0h"+2*R),n=!y.size(),n?y=g.append("path").style("vector-effect",p?"none":"non-scaling-stroke").classed("yerror",!0):c&&(y=y.transition().duration(i.duration).ease(i.easing)),y.attr("d",v)}else y.remove();var L=g.select("path.xerror");if(l.visible&&b(u.y)&&b(u.xh)&&b(u.xs)){var z=(l.copy_ystyle?m:l).width;v="M"+u.xh+","+(u.y-z)+"v"+2*z+"m0,-"+z+"H"+u.xs,u.noXS||(v+="m0,-"+z+"v"+2*z),n=!L.size(),n?L=g.append("path").style("vector-effect",p?"none":"non-scaling-stroke").classed("xerror",!0):c&&(L=L.transition().duration(i.duration).ease(i.easing)),L.attr("d",v)}else L.remove()}})}})};function e(t,r,o){var a={x:r.c2p(t.x),y:o.c2p(t.y)};return t.yh!==void 0&&(a.yh=o.c2p(t.yh),a.ys=o.c2p(t.ys),b(a.ys)||(a.noYS=!0,a.ys=o.c2p(t.ys,!0))),t.xh!==void 0&&(a.xh=r.c2p(t.xh),a.xs=r.c2p(t.xs),b(a.xs)||(a.noXS=!0,a.xs=r.c2p(t.xs,!0))),a}}}),zM=He({"src/components/errorbars/style.js"(Y,G){var h=_i(),b=Di();G.exports=function(E){E.each(function(e){var t=e[0].trace,r=t.error_y||{},o=t.error_x||{},a=h.select(this);a.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(b.stroke,r.color),o.copy_ystyle&&(o=r),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(b.stroke,o.color)})}}}),FM=He({"src/components/errorbars/index.js"(Y,G){var h=ea(),b=Zu().overrideAll,S=sw(),E={error_x:h.extendFlat({},S),error_y:h.extendFlat({},S)};delete E.error_x.copy_zstyle,delete E.error_y.copy_zstyle,delete E.error_y.copy_ystyle;var e={error_x:h.extendFlat({},S),error_y:h.extendFlat({},S),error_z:h.extendFlat({},S)};delete e.error_x.copy_ystyle,delete e.error_y.copy_ystyle,delete e.error_z.copy_ystyle,delete e.error_z.copy_zstyle,G.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:E,bar:E,histogram:E,scatter3d:b(e,"calc","nested"),scattergl:b(E,"calc","nested")}},supplyDefaults:IM(),calc:RM(),makeComputeError:lw(),plot:DM(),style:zM(),hoverInfo:t};function t(r,o,a){(o.error_y||{}).visible&&(a.yerr=r.yh-r.y,o.error_y.symmetric||(a.yerrneg=r.y-r.ys)),(o.error_x||{}).visible&&(a.xerr=r.xh-r.x,o.error_x.symmetric||(a.xerrneg=r.x-r.xs))}}}),OM=He({"src/components/colorbar/constants.js"(Y,G){G.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}}),BM=He({"src/components/colorbar/draw.js"(Y,G){var h=_i(),b=Zf(),S=nc(),E=ji(),e=Ao(),t=kh(),r=ea(),o=r.strTranslate,a=Po().extendFlat,i=Av(),n=Io(),s=Di(),f=Dp(),c=Zl(),p=Mh().flipScale,d=fm(),T=x1(),l=oh(),m=Nf(),x=m.LINE_SPACING,A=m.FROM_TL,M=m.FROM_BR,_=OM().cn;function w(L){var z=L._fullLayout,F=z._infolayer.selectAll("g."+_.colorbar).data(g(L),function(B){return B._id});F.enter().append("g").attr("class",function(B){return B._id}).classed(_.colorbar,!0),F.each(function(B){var O=h.select(this);r.ensureSingle(O,"rect",_.cbbg),r.ensureSingle(O,"g",_.cbfills),r.ensureSingle(O,"g",_.cblines),r.ensureSingle(O,"g",_.cbaxis,function(N){N.classed(_.crisp,!0)}),r.ensureSingle(O,"g",_.cbtitleunshift,function(N){N.append("g").classed(_.cbtitle,!0)}),r.ensureSingle(O,"rect",_.cboutline);var I=u(O,B,L);I&&I.then&&(L._promises||[]).push(I),L._context.edits.colorbarPosition&&v(O,B,L)}),F.exit().each(function(B){S.autoMargin(L,B._id)}).remove(),F.order()}function g(L){var z=L._fullLayout,F=L.calcdata,B=[],O,I,N,U;function X(q){return a(q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ee(){typeof U.calc=="function"?U.calc(L,N,O):(O._fillgradient=I.reversescale?p(I.colorscale):I.colorscale,O._zrange=[I[U.min],I[U.max]])}for(var ue=0;ue<F.length;ue++){var oe=F[ue];if(N=oe[0].trace,!!N._module){var le=N._module.colorbar;if(N.visible===!0&&le)for(var V=Array.isArray(le),J=V?le:[le],te=0;te<J.length;te++){U=J[te];var Z=U.container;I=Z?N[Z]:N,I&&I.showscale&&(O=X(I.colorbar),O._id="cb"+N.uid+(V&&Z?"-"+Z:""),O._traceIndex=N.index,O._propPrefix=(Z?Z+".":"")+"colorbar.",O._meta=N._meta,ee(),B.push(O))}}}for(var se in z._colorAxes)if(I=z[se],I.showscale){var Q=z._colorAxes[se];O=X(I.colorbar),O._id="cb"+se,O._propPrefix=se+".colorbar.",O._meta=z._meta,U={min:"cmin",max:"cmax"},Q[0]!=="heatmap"&&(N=Q[1],U.calc=N._module.colorbar.calc),ee(),B.push(O)}return B}function u(L,z,F){var B=z.orientation==="v",O=z.len,I=z.lenmode,N=z.thickness,U=z.thicknessmode,X=z.outlinewidth,ee=z.borderwidth,ue=z.bgcolor,oe=z.xanchor,le=z.yanchor,V=z.xpad,J=z.ypad,te=z.x,Z=B?z.y:1-z.y,se=z.yref==="paper",Q=z.xref==="paper",q=F._fullLayout,re=q._size,ae=z._fillcolor,fe=z._line,be=z.title,Me=be.side,Ie=z._zrange||h.extent((typeof ae=="function"?ae:fe.color).domain()),Le=typeof fe.color=="function"?fe.color:function(){return fe.color},je=typeof ae=="function"?ae:function(){return ae},et=z._levels,rt=y(F,z,Ie),Je=rt.fill,Ze=rt.line,Ee=Math.round(N*(U==="fraction"?B?re.w:re.h:1)),xe=Ee/(B?re.w:re.h),he=Math.round(O*(I==="fraction"?B?re.h:re.w:1)),De=he/(B?re.h:re.w),tt=Q?re.w:F._fullLayout.width,nt=se?re.h:F._fullLayout.height,$e=Math.round(B?te*tt+V:Z*nt+J),Et={center:.5,right:1}[oe]||0,Ct={top:1,middle:.5}[le]||0,jt=B?te-Et*xe:Z-Ct*xe,Wt=B?Z-Ct*De:te-Et*De,dr=Math.round(B?nt*(1-Wt):tt*Wt);z._lenFrac=De,z._thickFrac=xe,z._uFrac=jt,z._vFrac=Wt;var vr=z._axis=R(F,z,Ie);vr.position=xe+(B?te+V/re.w:Z+J/re.h);var Dr=["top","bottom"].indexOf(Me)!==-1;if(B&&Dr&&(vr.title.side=Me,vr.titlex=te+V/re.w,vr.titley=Wt+(be.side==="top"?De-J/re.h:J/re.h)),!B&&!Dr&&(vr.title.side=Me,vr.titley=Z+J/re.h,vr.titlex=Wt+V/re.w),fe.color&&z.tickmode==="auto"){vr.tickmode="linear",vr.tick0=et.start;var hr=et.size,Ar=r.constrain(he/50,4,15)+1,mt=(Ie[1]-Ie[0])/((z.nticks||Ar)*hr);if(mt>1){var Fe=Math.pow(10,Math.floor(Math.log(mt)/Math.LN10));hr*=Fe*r.roundUp(mt/Fe,[2,5,10]),(Math.abs(et.start)/et.size+1e-6)%1<2e-6&&(vr.tick0=0)}vr.dtick=hr}vr.domain=B?[Wt+J/re.h,Wt+De-J/re.h]:[Wt+V/re.w,Wt+De-V/re.w],vr.setScale(),L.attr("transform",o(Math.round(re.l),Math.round(re.t)));var We=L.select("."+_.cbtitleunshift).attr("transform",o(-Math.round(re.l),-Math.round(re.t))),Ae=vr.ticklabelposition,me=vr.title.font.size,pe=L.select("."+_.cbaxis),Te,Ue=0,Xe=0;function bt(ar,tr){var Tr={propContainer:vr,propName:z._propPrefix+"title.text",traceIndex:z._traceIndex,_meta:z._meta,placeholder:q._dfltTitle.colorbar,containerGroup:L.select("."+_.cbtitle)},sa=ar.charAt(0)==="h"?ar.slice(1):"h"+ar;L.selectAll("."+sa+",."+sa+"-math-group").remove(),f.draw(F,ar,a(Tr,tr||{}))}function xt(){if(B&&Dr||!B&&!Dr){var ar,tr;Me==="top"&&(ar=V+re.l+tt*te,tr=J+re.t+nt*(1-Wt-De)+3+me*.75),Me==="bottom"&&(ar=V+re.l+tt*te,tr=J+re.t+nt*(1-Wt)-3-me*.25),Me==="right"&&(tr=J+re.t+nt*Z+3+me*.75,ar=V+re.l+tt*Wt),bt(vr._id+"title",{attributes:{x:ar,y:tr,"text-anchor":B?"start":"middle"}})}}function Mt(){if(B&&!Dr||!B&&Dr){var ar=vr.position||0,tr=vr._offset+vr._length/2,Tr,sa;if(Me==="right")sa=tr,Tr=re.l+tt*ar+10+me*(vr.showticklabels?1:.5);else if(Tr=tr,Me==="bottom"&&(sa=re.t+nt*ar+10+(Ae.indexOf("inside")===-1?vr.tickfont.size:0)+(vr.ticks!=="inside"&&z.ticklen||0)),Me==="top"){var Ea=be.text.split("<br>").length;sa=re.t+nt*ar+10-Ee-x*me*Ea}bt((B?"h":"v")+vr._id+"title",{avoid:{selection:h.select(F).selectAll("g."+vr._id+"tick"),side:Me,offsetTop:B?0:re.t,offsetLeft:B?re.l:0,maxShift:B?q.width:q.height},attributes:{x:Tr,y:sa,"text-anchor":"middle"},transform:{rotate:B?-90:0,offset:0}})}}function Nt(){if(!B&&!Dr||B&&Dr){var ar=L.select("."+_.cbtitle),tr=ar.select("text"),Tr=[-X/2,X/2],sa=ar.select(".h"+vr._id+"title-math-group").node(),Ea=15.6;tr.node()&&(Ea=parseInt(tr.node().style.fontSize,10)*x);var ba;if(sa?(ba=n.bBox(sa),Xe=ba.width,Ue=ba.height,Ue>Ea&&(Tr[1]-=(Ue-Ea)/2)):tr.node()&&!tr.classed(_.jsPlaceholder)&&(ba=n.bBox(tr.node()),Xe=ba.width,Ue=ba.height),B){if(Ue){if(Ue+=5,Me==="top")vr.domain[1]-=Ue/re.h,Tr[1]*=-1;else{vr.domain[0]+=Ue/re.h;var Ia=c.lineCount(tr);Tr[1]+=(1-Ia)*Ea}ar.attr("transform",o(Tr[0],Tr[1])),vr.setScale()}}else Xe&&(Me==="right"&&(vr.domain[0]+=(Xe+me/2)/re.w),ar.attr("transform",o(Tr[0],Tr[1])),vr.setScale())}L.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",B?o(0,Math.round(re.h*(1-vr.domain[1]))):o(Math.round(re.w*vr.domain[0]),0)),pe.attr("transform",B?o(0,Math.round(-re.t)):o(Math.round(-re.l),0));var Ra=L.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(Je);Ra.enter().append("rect").classed(_.cbfill,!0).attr("style",""),Ra.exit().remove();var ya=Ie.map(vr.c2p).map(Math.round).sort(function(Zt,$t){return Zt-$t});Ra.each(function(Zt,$t){var Cr=[$t===0?Ie[0]:(Je[$t]+Je[$t-1])/2,$t===Je.length-1?Ie[1]:(Je[$t]+Je[$t+1])/2].map(vr.c2p).map(Math.round);B&&(Cr[1]=r.constrain(Cr[1]+(Cr[1]>Cr[0])?1:-1,ya[0],ya[1]));var qr=h.select(this).attr(B?"x":"y",$e).attr(B?"y":"x",h.min(Cr)).attr(B?"width":"height",Math.max(Ee,2)).attr(B?"height":"width",Math.max(h.max(Cr)-h.min(Cr),2));if(z._fillgradient)n.gradient(qr,F,z._id,B?"vertical":"horizontalreversed",z._fillgradient,"fill");else{var Jr=je(Zt).replace("e-","");qr.attr("fill",b(Jr).toHexString())}});var rn=L.select("."+_.cblines).selectAll("path."+_.cbline).data(fe.color&&fe.width?Ze:[]);rn.enter().append("path").classed(_.cbline,!0),rn.exit().remove(),rn.each(function(Zt){var $t=$e,Cr=Math.round(vr.c2p(Zt))+fe.width/2%1;h.select(this).attr("d","M"+(B?$t+","+Cr:Cr+","+$t)+(B?"h":"v")+Ee).call(n.lineGroupStyle,fe.width,Le(Zt),fe.dash)}),pe.selectAll("g."+vr._id+"tick,path").remove();var mn=$e+Ee+(X||0)/2-(z.ticks==="outside"?1:0),Yt=e.calcTicks(vr),It=e.getTickSigns(vr)[2];return e.drawTicks(F,vr,{vals:vr.ticks==="inside"?e.clipEnds(vr,Yt):Yt,layer:pe,path:e.makeTickPath(vr,mn,It),transFn:e.makeTransTickFn(vr)}),e.drawLabels(F,vr,{vals:Yt,layer:pe,transFn:e.makeTransTickLabelFn(vr),labelFns:e.makeLabelFns(vr,mn)})}function sr(){var ar,tr=Ee+X/2;Ae.indexOf("inside")===-1&&(ar=n.bBox(pe.node()),tr+=B?ar.width:ar.height),Te=We.select("text");var Tr=0,sa=B&&Me==="top",Ea=!B&&Me==="right",ba=0;if(Te.node()&&!Te.classed(_.jsPlaceholder)){var Ia,Ra=We.select(".h"+vr._id+"title-math-group").node();Ra&&(B&&Dr||!B&&!Dr)?(ar=n.bBox(Ra),Tr=ar.width,Ia=ar.height):(ar=n.bBox(We.node()),Tr=ar.right-re.l-(B?$e:dr),Ia=ar.bottom-re.t-(B?dr:$e),!B&&Me==="top"&&(tr+=ar.height,ba=ar.height)),Ea&&(Te.attr("transform",o(Tr/2+me/2,0)),Tr*=2),tr=Math.max(tr,B?Tr:Ia)}var ya=(B?V:J)*2+tr+ee+X/2,rn=0;!B&&be.text&&le==="bottom"&&Z<=0&&(rn=ya/2,ya+=rn,ba+=rn),q._hColorbarMoveTitle=rn,q._hColorbarMoveCBTitle=ba;var mn=ee+X,Yt=(B?$e:dr)-mn/2-(B?V:0),It=(B?dr:$e)-(B?he:J+ba-rn);L.select("."+_.cbbg).attr("x",Yt).attr("y",It).attr(B?"width":"height",Math.max(ya-rn,2)).attr(B?"height":"width",Math.max(he+mn,2)).call(s.fill,ue).call(s.stroke,z.bordercolor).style("stroke-width",ee);var Zt=Ea?Math.max(Tr-10,0):0;L.selectAll("."+_.cboutline).attr("x",(B?$e:dr+V)+Zt).attr("y",(B?dr+J-he:$e)+(sa?Ue:0)).attr(B?"width":"height",Math.max(Ee,2)).attr(B?"height":"width",Math.max(he-(B?2*J+Ue:2*V+Zt),2)).call(s.stroke,z.outlinecolor).style({fill:"none","stroke-width":X});var $t=B?Et*ya:0,Cr=B?0:(1-Ct)*ya-ba;if($t=Q?re.l-$t:-$t,Cr=se?re.t-Cr:-Cr,L.attr("transform",o($t,Cr)),!B&&(ee||b(ue).getAlpha()&&!b.equals(q.paper_bgcolor,ue))){var qr=pe.selectAll("text"),Jr=qr[0].length,aa=L.select("."+_.cbbg).node(),Ca=n.bBox(aa),Ha=n.getTranslate(L),Va=2;qr.each(function(Er,_r){var Mr=0,Gr=Jr-1;if(_r===Mr||_r===Gr){var Fr=n.bBox(this),pt=n.getTranslate(this),Kt;if(_r===Gr){var xr=Fr.right+pt.x,Hr=Ca.right+Ha.x+dr-ee-Va+te;Kt=Hr-xr,Kt>0&&(Kt=0)}else if(_r===Mr){var fa=Fr.left+pt.x,xa=Ca.left+Ha.x+dr+ee+Va;Kt=xa-fa,Kt<0&&(Kt=0)}Kt&&(Jr<3?this.setAttribute("transform","translate("+Kt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Za={},an=A[oe],wa=M[oe],Nn=A[le],Wn=M[le],At=ya-Ee;B?(I==="pixels"?(Za.y=Z,Za.t=he*Nn,Za.b=he*Wn):(Za.t=Za.b=0,Za.yt=Z+O*Nn,Za.yb=Z-O*Wn),U==="pixels"?(Za.x=te,Za.l=ya*an,Za.r=ya*wa):(Za.l=At*an,Za.r=At*wa,Za.xl=te-N*an,Za.xr=te+N*wa)):(I==="pixels"?(Za.x=te,Za.l=he*an,Za.r=he*wa):(Za.l=Za.r=0,Za.xl=te+O*an,Za.xr=te-O*wa),U==="pixels"?(Za.y=1-Z,Za.t=ya*Nn,Za.b=ya*Wn):(Za.t=At*Nn,Za.b=At*Wn,Za.yt=Z-N*Nn,Za.yb=Z+N*Wn));var ft=z.y<.5?"b":"t",pr=z.x<.5?"l":"r";F._fullLayout._reservedMargin[z._id]={};var Sr={r:q.width-Yt-$t,l:Yt+Za.r,b:q.height-It-Cr,t:It+Za.b};Q&&se?S.autoMargin(F,z._id,Za):Q?F._fullLayout._reservedMargin[z._id][ft]=Sr[ft]:se||B?F._fullLayout._reservedMargin[z._id][pr]=Sr[pr]:F._fullLayout._reservedMargin[z._id][ft]=Sr[ft]}return r.syncOrAsync([S.previousPromises,xt,Nt,Mt,S.previousPromises,sr],F)}function v(L,z,F){var B=z.orientation==="v",O=F._fullLayout,I=O._size,N,U,X;t.init({element:L.node(),gd:F,prepFn:function(){N=L.attr("transform"),i(L)},moveFn:function(ee,ue){L.attr("transform",N+o(ee,ue)),U=t.align((B?z._uFrac:z._vFrac)+ee/I.w,B?z._thickFrac:z._lenFrac,0,1,z.xanchor),X=t.align((B?z._vFrac:1-z._uFrac)-ue/I.h,B?z._lenFrac:z._thickFrac,0,1,z.yanchor);var oe=t.getCursor(U,X,z.xanchor,z.yanchor);i(L,oe)},doneFn:function(){if(i(L),U!==void 0&&X!==void 0){var ee={};ee[z._propPrefix+"x"]=U,ee[z._propPrefix+"y"]=X,z._traceIndex!==void 0?E.call("_guiRestyle",F,ee,z._traceIndex):E.call("_guiRelayout",F,ee)}}})}function y(L,z,F){var B=z._levels,O=[],I=[],N,U,X=B.end+B.size/100,ee=B.size,ue=1.001*F[0]-.001*F[1],oe=1.001*F[1]-.001*F[0];for(U=0;U<1e5&&(N=B.start+U*ee,!(ee>0?N>=X:N<=X));U++)N>ue&&N<oe&&O.push(N);if(z._fillgradient)I=[0];else if(typeof z._fillcolor=="function"){var le=z._filllevels;if(le)for(X=le.end+le.size/100,ee=le.size,U=0;U<1e5&&(N=le.start+U*ee,!(ee>0?N>=X:N<=X));U++)N>F[0]&&N<F[1]&&I.push(N);else I=O.map(function(V){return V-B.size/2}),I.push(I[I.length-1]+B.size)}else z._fillcolor&&typeof z._fillcolor=="string"&&(I=[0]);return B.size<0&&(O.reverse(),I.reverse()),{line:O,fill:I}}function R(L,z,F){var B=L._fullLayout,O=z.orientation==="v",I={type:"linear",range:F,tickmode:z.tickmode,nticks:z.nticks,tick0:z.tick0,dtick:z.dtick,tickvals:z.tickvals,ticktext:z.ticktext,ticks:z.ticks,ticklen:z.ticklen,tickwidth:z.tickwidth,tickcolor:z.tickcolor,showticklabels:z.showticklabels,labelalias:z.labelalias,ticklabelposition:z.ticklabelposition,ticklabeloverflow:z.ticklabeloverflow,ticklabelstep:z.ticklabelstep,tickfont:z.tickfont,tickangle:z.tickangle,tickformat:z.tickformat,exponentformat:z.exponentformat,minexponent:z.minexponent,separatethousands:z.separatethousands,showexponent:z.showexponent,showtickprefix:z.showtickprefix,tickprefix:z.tickprefix,showticksuffix:z.showticksuffix,ticksuffix:z.ticksuffix,title:z.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},N=O?"y":"x",U={type:"linear",_id:N+z._id},X={letter:N,font:B.font,noAutotickangles:N==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:B.calendar};function ee(ue,oe){return r.coerce(I,U,l,ue,oe)}return d(I,U,ee,X,B),T(I,U,ee,X),U}G.exports={draw:w}}}),NM=He({"src/components/colorbar/index.js"(Y,G){G.exports={moduleType:"component",name:"colorbar",attributes:o1(),supplyDefaults:Ab(),draw:BM().draw,hasColorbar:bb()}}}),UM=He({"src/components/legend/index.js"(Y,G){G.exports={moduleType:"component",name:"legend",layoutAttributes:Eb(),supplyLayoutDefaults:kb(),draw:Pb(),style:Lb()}}}),jM=He({"src/locale-en.js"(Y,G){G.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}}),VM=He({"src/locale-en-us.js"(Y,G){G.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}}),uw=He({"src/snapshot/cloneplot.js"(Y,G){var h=ji(),b=ea(),S=b.extendFlat,E=b.extendDeep;function e(r){var o;switch(r){case"themes__thumb":o={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":o={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:o={}}return o}function t(r){var o=["xaxis","yaxis","zaxis"];return o.indexOf(r.slice(0,5))>-1}G.exports=function(o,a){var i,n=o.data,s=o.layout,f=E([],n),c=E({},s,e(a.tileClass)),p=o._context||{};if(a.width&&(c.width=a.width),a.height&&(c.height=a.height),a.tileClass==="thumbnail"||a.tileClass==="themes__thumb"){c.annotations=[];var d=Object.keys(c);for(i=0;i<d.length;i++)t(d[i])&&(c[d[i]].title={text:""});for(i=0;i<f.length;i++){var T=f[i];T.showscale=!1,T.marker&&(T.marker.showscale=!1),h.traceIs(T,"pie-like")&&(T.textposition="none")}}if(Array.isArray(a.annotations))for(i=0;i<a.annotations.length;i++)c.annotations.push(a.annotations[i]);var l=Object.keys(c).filter(function(_){return _.match(/^scene\d*$/)});if(l.length){var m={};for(a.tileClass==="thumbnail"&&(m={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<l.length;i++){var x=c[l[i]];x.xaxis||(x.xaxis={}),x.yaxis||(x.yaxis={}),x.zaxis||(x.zaxis={}),S(x.xaxis,m),S(x.yaxis,m),S(x.zaxis,m),x._scene=null}}var A=document.createElement("div");a.tileClass&&(A.className=a.tileClass);var M={gd:A,td:A,layout:c,data:f,config:{staticPlot:a.staticPlot===void 0?!0:a.staticPlot,plotGlPixelRatio:a.plotGlPixelRatio===void 0?2:a.plotGlPixelRatio,displaylogo:a.displaylogo||!1,showLink:a.showLink||!1,showTips:a.showTips||!1,mapboxAccessToken:p.mapboxAccessToken}};return a.setBackground!=="transparent"&&(M.config.setBackground=a.setBackground||"opaque"),M.gd.defaultLayout=e(a.tileClass),M}}}),qM=He({"src/snapshot/toimage.js"(Y,G){var h=Ip().EventEmitter,b=ji(),S=ea(),E=hd(),e=uw(),t=g1(),r=m1();function o(a,i){var n=new h,s=e(a,{format:"png"}),f=s.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function c(){var d=E.getDelay(f._fullLayout);setTimeout(function(){var T=t(f),l=document.createElement("canvas");l.id=S.randstr(),n=r({format:i.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:l,emitter:n,svg:T}),n.clean=function(){f&&document.body.removeChild(f)}},d)}var p=E.getRedrawFunc(f);return b.call("_doPlot",f,s.data,s.layout,s.config).then(p).then(c).catch(function(d){n.emit("error",d)}),n}G.exports=o}}),GM=He({"src/snapshot/index.js"(Y,G){var h=hd(),b={getDelay:h.getDelay,getRedrawFunc:h.getRedrawFunc,clone:uw(),toSVG:g1(),svgToImg:m1(),toImage:qM(),downloadImage:Xb()};G.exports=b}}),HM=He({"src/core.js"(Y){Y.version=ac().version,Sc(),tS();var G=ji(),h=Y.register=G.register,b=VS(),S=Object.keys(b);for(e=0;e<S.length;e++)E=S[e],E.charAt(0)!=="_"&&(Y[E]=b[E]),h({moduleType:"apiMethod",name:E,fn:b[E]});var E,e;h($S()),h([aM(),sM(),Xc(),fM(),pM(),_M(),wM(),EM(),PM(),ow(),FM(),Du(),NM(),UM(),kc(),Nb()]),h([jM(),VM()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(h(window.PlotlyLocales),delete window.PlotlyLocales),Y.Icons=u1();var t=kc(),r=nc();Y.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},Y.Fx={hover:t.hover,unhover:t.unhover,loneHover:t.loneHover,loneUnhover:t.loneUnhover},Y.Snapshot=GM(),Y.PlotSchema=j0()}}),WM=He({"lib/core.js"(Y,G){G.exports=HM()}}),Np=He({"src/traces/bar/constants.js"(Y,G){G.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}}),Yv=He({"src/traces/bar/attributes.js"(Y,G){var h=Cc(),b=Ec().axisHoverFormat,{hovertemplateAttrs:S,texttemplateAttrs:E,templatefallbackAttrs:e}=Ll(),t=ou(),r=Ru(),o=Np(),a=nh().pattern,i=Po().extendFlat,n=r({editType:"calc",arrayOk:!0,colorEditType:"style"}),s=h.marker,f=s.line,c=i({},f.width,{dflt:0}),p=i({width:c,editType:"calc"},t("marker.line")),d=i({line:p,editType:"calc"},t("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:a,cornerradius:{valType:"any",editType:"calc"}});G.exports={x:h.x,x0:h.x0,dx:h.dx,y:h.y,y0:h.y0,dy:h.dy,xperiod:h.xperiod,yperiod:h.yperiod,xperiod0:h.xperiod0,yperiod0:h.yperiod0,xperiodalignment:h.xperiodalignment,yperiodalignment:h.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),text:h.text,texttemplate:E({editType:"plot"},{keys:o.eventDataKeys}),texttemplatefallback:e({editType:"plot"}),hovertext:h.hovertext,hovertemplate:S({},{keys:o.eventDataKeys}),hovertemplatefallback:e(),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},n,{}),insidetextfont:i({},n,{}),outsidetextfont:i({},n,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},h.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:d,offsetgroup:h.offsetgroup,alignmentgroup:h.alignmentgroup,selected:{marker:{opacity:h.selected.marker.opacity,color:h.selected.marker.color,editType:"style"},textfont:h.selected.textfont,editType:"style"},unselected:{marker:{opacity:h.unselected.marker.opacity,color:h.unselected.marker.color,editType:"style"},textfont:h.unselected.textfont,editType:"style"},zorder:h.zorder}}}),E1=He({"src/traces/bar/layout_attributes.js"(Y,G){G.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}}),k1=He({"src/traces/bar/style_defaults.js"(Y,G){var h=Di(),b=Mh().hasColorscale,S=Uf(),E=ea().coercePattern;G.exports=function(t,r,o,a,i){var n=o("marker.color",a),s=b(t,"marker");s&&S(t,r,i,o,{prefix:"marker.",cLetter:"c"}),o("marker.line.color",h.defaultLine),b(t,"marker.line")&&S(t,r,i,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width"),o("marker.opacity"),E(o,"marker.pattern",n,s),o("selected.marker.color"),o("unselected.marker.color")}}}),nv=He({"src/traces/bar/defaults.js"(Y,G){var h=Ui(),b=ea(),S=Di(),E=ji(),e=W0(),t=Ev(),r=k1(),o=Op(),a=Yv(),i=b.coerceFont;function n(p,d,T,l){function m(w,g){return b.coerce(p,d,a,w,g)}var x=e(p,d,l,m);if(!x){d.visible=!1;return}t(p,d,l,m),m("xhoverformat"),m("yhoverformat"),m("zorder"),m("orientation",d.x&&!d.y?"h":"v"),m("base"),m("offset"),m("width"),m("text"),m("hovertext"),m("hovertemplate"),m("hovertemplatefallback");var A=m("textposition");c(p,d,l,m,A,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r(p,d,m,T,l);var M=(d.marker.line||{}).color,_=E.getComponentMethod("errorbars","supplyDefaults");_(p,d,M||S.defaultLine,{axis:"y"}),_(p,d,M||S.defaultLine,{axis:"x",inherit:"y"}),b.coerceSelectionMarkerOpacity(d,m)}function s(p,d){var T,l;function m(M,_){return b.coerce(l._input,l,a,M,_)}for(var x=0;x<p.length;x++)if(l=p[x],l.type==="bar"){T=l._input;var A=m("marker.cornerradius",d.barcornerradius);l.marker&&(l.marker.cornerradius=f(A)),o(T,l,d,m,d.barmode)}}function f(p){if(h(p)){if(p=+p,p>=0)return p}else if(typeof p=="string"&&(p=p.trim(),p.slice(-1)==="%"&&h(p.slice(0,-1))&&(p=+p.slice(0,-1),p>=0)))return p+"%"}function c(p,d,T,l,m,x){x=x||{};var A=x.moduleHasSelected!==!1,M=x.moduleHasUnselected!==!1,_=x.moduleHasConstrain!==!1,w=x.moduleHasCliponaxis!==!1,g=x.moduleHasTextangle!==!1,u=x.moduleHasInsideanchor!==!1,v=!!x.hasPathbar,y=Array.isArray(m)||m==="auto",R=y||m==="inside",L=y||m==="outside";if(R||L){var z=i(l,"textfont",T.font),F=b.extendFlat({},z),B=p.textfont&&p.textfont.color,O=!B;if(O&&delete F.color,i(l,"insidetextfont",F),v){var I=b.extendFlat({},z);O&&delete I.color,i(l,"pathbar.textfont",I)}L&&i(l,"outsidetextfont",z),A&&l("selected.textfont.color"),M&&l("unselected.textfont.color"),_&&l("constraintext"),w&&l("cliponaxis"),g&&l("textangle"),l("texttemplate"),l("texttemplatefallback")}R&&u&&l("insidetextanchor")}G.exports={supplyDefaults:n,crossTraceDefaults:s,handleText:c,validateCornerradius:f}}}),cw=He({"src/traces/bar/layout_defaults.js"(Y,G){var h=ji(),b=Ao(),S=ea(),E=E1(),e=nv().validateCornerradius;G.exports=function(t,r,o){function a(A,M){return S.coerce(t,r,E,A,M)}for(var i=!1,n=!1,s=!1,f={},c=a("barmode"),p=c==="group",d=0;d<o.length;d++){var T=o[d];if(h.traceIs(T,"bar")&&T.visible)i=!0;else continue;var l=T.xaxis+T.yaxis;if(p?(f[l]&&(s=!0),f[l]=!0):(l+=T._input.offsetgroup,f.length>0&&!f[l]&&(s=!0),f[l]=!0),T.visible&&T.type==="histogram"){var m=b.getFromId({_fullLayout:r},T[T.orientation==="v"?"xaxis":"yaxis"]);m.type!=="category"&&(n=!0)}}if(!i){delete r.barmode;return}c!=="overlay"&&a("barnorm"),a("bargap",n&&!s?0:.2),a("bargroupgap");var x=a("barcornerradius");r.barcornerradius=e(x)}}}),vm=He({"src/traces/bar/arrays_to_calcdata.js"(Y,G){var h=ea();G.exports=function(S,E){for(var e=0;e<S.length;e++)S[e].i=e;h.mergeArray(E.text,S,"tx"),h.mergeArray(E.hovertext,S,"htx");var t=E.marker;if(t){h.mergeArray(t.opacity,S,"mo",!0),h.mergeArray(t.color,S,"mc");var r=t.line;r&&(h.mergeArray(r.color,S,"mlc"),h.mergeArrayCastPositive(r.width,S,"mlw"))}}}}),XM=He({"src/traces/bar/calc.js"(Y,G){var h=Ao(),b=Cv(),S=Mh().hasColorscale,E=Eh(),e=vm(),t=vv();G.exports=function(o,a){var i=h.getFromId(o,a.xaxis||"x"),n=h.getFromId(o,a.yaxis||"y"),s,f,c,p,d,T,l={msUTC:!!(a.base||a.base===0)};a.orientation==="h"?(s=i.makeCalcdata(a,"x",l),c=n.makeCalcdata(a,"y"),p=b(a,n,"y",c),d=!!a.yperiodalignment,T="y"):(s=n.makeCalcdata(a,"y",l),c=i.makeCalcdata(a,"x"),p=b(a,i,"x",c),d=!!a.xperiodalignment,T="x"),f=p.vals;for(var m=Math.min(f.length,s.length),x=new Array(m),A=0;A<m;A++)x[A]={p:f[A],s:s[A]},d&&(x[A].orig_p=c[A],x[A][T+"End"]=p.ends[A],x[A][T+"Start"]=p.starts[A]),a.ids&&(x[A].id=String(a.ids[A]));return S(a,"marker")&&E(o,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),S(a,"marker.line")&&E(o,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),e(x,a),t(x,a),x}}}),Ch=He({"src/traces/bar/uniform_text.js"(Y,G){var h=_i(),b=ea();function S(r,o,a){var i=r._fullLayout,n=i["_"+a+"Text_minsize"];if(n){var s=i.uniformtext.mode==="hide",f;switch(a){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}o.selectAll(f).each(function(c){var p=c.transform;if(p){p.scale=s&&p.hide?0:n/p.fontSize;var d=h.select(this).select("text");b.setTransormAndDisplay(d,p)}})}}function E(r,o,a){if(a.uniformtext.mode){var i=t(r),n=a.uniformtext.minsize,s=o.scale*o.fontSize;o.hide=s<n,a[i]=a[i]||1/0,o.hide||(a[i]=Math.min(a[i],Math.max(s,n)))}}function e(r,o){var a=t(r);o[a]=void 0}function t(r){return"_"+r+"Text_minsize"}G.exports={recordMinTextSize:E,clearMinTextSize:e,resizeText:S}}}),C1=He({"src/traces/bar/helpers.js"(Y){var G=Ui(),h=Zf(),b=ea().isArrayOrTypedArray;Y.coerceString=function(S,E,e){if(typeof E=="string"){if(E||!S.noBlank)return E}else if((typeof E=="number"||E===!0)&&!S.strict)return String(E);return e!==void 0?e:S.dflt},Y.coerceNumber=function(S,E,e){if(G(E)){E=+E;var t=S.min,r=S.max,o=t!==void 0&&E<t||r!==void 0&&E>r;if(!o)return E}return e!==void 0?e:S.dflt},Y.coerceColor=function(S,E,e){return h(E).isValid()?E:e!==void 0?e:S.dflt},Y.coerceEnumerated=function(S,E,e){return S.coerceNumber&&(E=+E),S.values.indexOf(E)!==-1?E:e!==void 0?e:S.dflt},Y.getValue=function(S,E){var e;return b(S)?E<S.length&&(e=S[E]):e=S,e},Y.getLineWidth=function(S,E){var e=0<E.mlw?E.mlw:b(S.marker.line.width)?0:S.marker.line.width;return e}}}),pv=He({"src/traces/bar/style.js"(Y,G){var h=_i(),b=Di(),S=Io(),E=ea(),e=ji(),t=Ch().resizeText,r=Yv(),o=r.textfont,a=r.insidetextfont,i=r.outsidetextfont,n=C1();function s(w){var g=h.select(w).selectAll('g[class^="barlayer"]').selectAll("g.trace");t(w,g,"bar");var u=g.size(),v=w._fullLayout;g.style("opacity",function(y){return y[0].trace.opacity}).each(function(y){(v.barmode==="stack"&&u>1||v.bargap===0&&v.bargroupgap===0&&!y[0].trace.marker.line.width)&&h.select(this).attr("shape-rendering","crispEdges")}),g.selectAll("g.points").each(function(y){var R=h.select(this),L=y[0].trace;f(R,L,w)}),e.getComponentMethod("errorbars","style")(g)}function f(w,g,u){S.pointStyle(w.selectAll("path"),g,u),c(w,g,u)}function c(w,g,u){w.selectAll("text").each(function(v){var y=h.select(this),R=E.ensureUniformFontSize(u,l(y,v,g,u));S.font(y,R)})}function p(w,g,u){var v=g[0].trace;v.selectedpoints?d(u,v,w):(f(u,v,w),e.getComponentMethod("errorbars","style")(u))}function d(w,g,u){S.selectedPointStyle(w.selectAll("path"),g),T(w.selectAll("text"),g,u)}function T(w,g,u){w.each(function(v){var y=h.select(this),R;if(v.selected){R=E.ensureUniformFontSize(u,l(y,v,g,u));var L=g.selected.textfont&&g.selected.textfont.color;L&&(R.color=L),S.font(y,R)}else S.selectedTextStyle(y,g)})}function l(w,g,u,v){var y=v._fullLayout.font,R=u.textfont;if(w.classed("bartext-inside")){var L=_(g,u);R=x(u,g.i,y,L)}else w.classed("bartext-outside")&&(R=A(u,g.i,y));return R}function m(w,g,u){return M(o,w.textfont,g,u)}function x(w,g,u,v){var y=m(w,g,u),R=w._input.textfont===void 0||w._input.textfont.color===void 0||Array.isArray(w.textfont.color)&&w.textfont.color[g]===void 0;return R&&(y={color:b.contrast(v),family:y.family,size:y.size,weight:y.weight,style:y.style,variant:y.variant,textcase:y.textcase,lineposition:y.lineposition,shadow:y.shadow}),M(a,w.insidetextfont,g,y)}function A(w,g,u){var v=m(w,g,u);return M(i,w.outsidetextfont,g,v)}function M(w,g,u,v){g=g||{};var y=n.getValue(g.family,u),R=n.getValue(g.size,u),L=n.getValue(g.color,u),z=n.getValue(g.weight,u),F=n.getValue(g.style,u),B=n.getValue(g.variant,u),O=n.getValue(g.textcase,u),I=n.getValue(g.lineposition,u),N=n.getValue(g.shadow,u);return{family:n.coerceString(w.family,y,v.family),size:n.coerceNumber(w.size,R,v.size),color:n.coerceColor(w.color,L,v.color),weight:n.coerceString(w.weight,z,v.weight),style:n.coerceString(w.style,F,v.style),variant:n.coerceString(w.variant,B,v.variant),textcase:n.coerceString(w.variant,O,v.textcase),lineposition:n.coerceString(w.variant,I,v.lineposition),shadow:n.coerceString(w.variant,N,v.shadow)}}function _(w,g){return g.type==="waterfall"?g[w.dir].marker.color:w.mcc||w.mc||g.marker.color}G.exports={style:s,styleTextPoints:c,styleOnSelect:p,getInsideTextFont:x,getOutsideTextFont:A,getBarColor:_,resizeText:t}}}),Up=He({"src/traces/bar/plot.js"(Y,G){var h=_i(),b=Ui(),S=ea(),E=Zl(),e=Di(),t=Io(),r=ji(),o=Ao().tickText,a=Ch(),i=a.recordMinTextSize,n=a.clearMinTextSize,s=pv(),f=C1(),c=Np(),p=Yv(),d=p.text,T=p.textposition,l=qh().appendArrayPointValue,m=c.TEXTPAD;function x(ee){return ee.id}function A(ee){if(ee.ids)return x}function M(ee){return(ee>0)-(ee<0)}function _(ee,ue){return ee<ue?1:-1}function w(ee,ue,oe,le){var V=[],J=[],te=le?ue:oe,Z=le?oe:ue;return V[0]=te.c2p(ee.s0,!0),J[0]=Z.c2p(ee.p0,!0),V[1]=te.c2p(ee.s1,!0),J[1]=Z.c2p(ee.p1,!0),le?[V,J]:[J,V]}function g(ee,ue,oe,le){if(!ue.uniformtext.mode&&u(oe)){var V;return le&&(V=le()),ee.transition().duration(oe.duration).ease(oe.easing).each("end",function(){V&&V()}).each("interrupt",function(){V&&V()})}else return ee}function u(ee){return ee&&ee.duration>0}function v(ee,ue,oe,le,V,J){var te=ue.xaxis,Z=ue.yaxis,se=ee._fullLayout,Q=ee._context.staticPlot;V||(V={mode:se.barmode,norm:se.barmode,gap:se.bargap,groupgap:se.bargroupgap},n("bar",se));var q=S.makeTraceGroups(le,oe,"trace bars").each(function(re){var ae=h.select(this),fe=re[0].trace,be=re[0].t,Me=fe.type==="waterfall",Ie=fe.type==="funnel",Le=fe.type==="histogram",je=fe.type==="bar",et=je||Ie,rt=0;Me&&fe.connector.visible&&fe.connector.mode==="between"&&(rt=fe.connector.line.width/2);var Je=fe.orientation==="h",Ze=u(V),Ee=S.ensureSingle(ae,"g","points"),xe=A(fe),he=Ee.selectAll("g.point").data(S.identity,xe);he.enter().append("g").classed("point",!0),he.exit().remove(),he.each(function(tt,nt){var $e=h.select(this),Et=w(tt,te,Z,Je),Ct=Et[0][0],jt=Et[0][1],Wt=Et[1][0],dr=Et[1][1],vr=(Je?jt-Ct:dr-Wt)===0;vr&&et&&f.getLineWidth(fe,tt)&&(vr=!1),vr||(vr=!b(Ct)||!b(jt)||!b(Wt)||!b(dr)),tt.isBlank=vr,vr&&(Je?jt=Ct:dr=Wt),rt&&!vr&&(Je?(Ct-=_(Ct,jt)*rt,jt+=_(Ct,jt)*rt):(Wt-=_(Wt,dr)*rt,dr+=_(Wt,dr)*rt));var Dr,hr;if(fe.type==="waterfall"){if(!vr){var Ar=fe[tt.dir].marker;Dr=Ar.line.width,hr=Ar.color}}else Dr=f.getLineWidth(fe,tt),hr=tt.mc||fe.marker.color;function mt(mn){var Yt=h.round(Dr/2%1,2);return V.gap===0&&V.groupgap===0?h.round(Math.round(mn)-Yt,2):mn}function Fe(mn,Yt,It){return It&&mn===Yt?mn:Math.abs(mn-Yt)>=2?mt(mn):mn>Yt?Math.ceil(mn):Math.floor(mn)}var We=e.opacity(hr),Ae=We<1||Dr>.01?mt:Fe;ee._context.staticPlot||(Ct=Ae(Ct,jt,Je),jt=Ae(jt,Ct,Je),Wt=Ae(Wt,dr,!Je),dr=Ae(dr,Wt,!Je));var me=Je?te.c2p:Z.c2p,pe;tt.s0>0?pe=tt._sMax:tt.s0<0?pe=tt._sMin:pe=tt.s1>0?tt._sMax:tt._sMin;function Te(mn,Yt){if(!mn)return 0;var It=Math.abs(Je?dr-Wt:jt-Ct),Zt=Math.abs(Je?jt-Ct:dr-Wt),$t=Ae(Math.abs(me(pe,!0)-me(0,!0))),Cr=tt.hasB?Math.min(It/2,Zt/2):Math.min(It/2,$t),qr;if(Yt==="%"){var Jr=Math.min(50,mn);qr=It*(Jr/100)}else qr=mn;return Ae(Math.max(Math.min(qr,Cr),0))}var Ue=je||Le?Te(be.cornerradiusvalue,be.cornerradiusform):0,Xe,bt,xt="M"+Ct+","+Wt+"V"+dr+"H"+jt+"V"+Wt+"Z",Mt=0;if(Ue&&tt.s){var Nt=M(tt.s0)===0||M(tt.s)===M(tt.s0)?tt.s1:tt.s0;if(Mt=Ae(tt.hasB?0:Math.abs(me(pe,!0)-me(Nt,!0))),Mt<Ue){var sr=_(Ct,jt),ar=_(Wt,dr),tr=sr===-ar?1:0;if(Je)if(tt.hasB)Xe="M"+(Ct+Ue*sr)+","+Wt+"A "+Ue+","+Ue+" 0 0 "+tr+" "+Ct+","+(Wt+Ue*ar)+"V"+(dr-Ue*ar)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+(Ct+Ue*sr)+","+dr+"H"+(jt-Ue*sr)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+jt+","+(dr-Ue*ar)+"V"+(Wt+Ue*ar)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+(jt-Ue*sr)+","+Wt+"Z";else{bt=Math.abs(jt-Ct)+Mt;var Tr=bt<Ue?Ue-Math.sqrt(bt*(2*Ue-bt)):0,sa=Mt>0?Math.sqrt(Mt*(2*Ue-Mt)):0,Ea=sr>0?Math.max:Math.min;Xe="M"+Ct+","+Wt+"V"+(dr-Tr*ar)+"H"+Ea(jt-(Ue-Mt)*sr,Ct)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+jt+","+(dr-Ue*ar-sa)+"V"+(Wt+Ue*ar+sa)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+Ea(jt-(Ue-Mt)*sr,Ct)+","+(Wt+Tr*ar)+"Z"}else if(tt.hasB)Xe="M"+(Ct+Ue*sr)+","+Wt+"A "+Ue+","+Ue+" 0 0 "+tr+" "+Ct+","+(Wt+Ue*ar)+"V"+(dr-Ue*ar)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+(Ct+Ue*sr)+","+dr+"H"+(jt-Ue*sr)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+jt+","+(dr-Ue*ar)+"V"+(Wt+Ue*ar)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+(jt-Ue*sr)+","+Wt+"Z";else{bt=Math.abs(dr-Wt)+Mt;var ba=bt<Ue?Ue-Math.sqrt(bt*(2*Ue-bt)):0,Ia=Mt>0?Math.sqrt(Mt*(2*Ue-Mt)):0,Ra=ar>0?Math.max:Math.min;Xe="M"+(Ct+ba*sr)+","+Wt+"V"+Ra(dr-(Ue-Mt)*ar,Wt)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+(Ct+Ue*sr-Ia)+","+dr+"H"+(jt-Ue*sr+Ia)+"A "+Ue+","+Ue+" 0 0 "+tr+" "+(jt-ba*sr)+","+Ra(dr-(Ue-Mt)*ar,Wt)+"V"+Wt+"Z"}}else Xe=xt}else Xe=xt;var ya=g(S.ensureSingle($e,"path"),se,V,J);if(ya.style("vector-effect",Q?"none":"non-scaling-stroke").attr("d",isNaN((jt-Ct)*(dr-Wt))||vr&&ee._context.staticPlot?"M0,0Z":Xe).call(t.setClipUrl,ue.layerClipId,ee),!se.uniformtext.mode&&Ze){var rn=t.makePointStyleFns(fe);t.singlePointStyle(tt,ya,fe,rn,ee)}y(ee,ue,$e,re,nt,Ct,jt,Wt,dr,Ue,Mt,V,J),ue.layerClipId&&t.hideOutsideRangePoint(tt,$e.select("text"),te,Z,fe.xcalendar,fe.ycalendar)});var De=fe.cliponaxis===!1;t.setClipUrl(ae,De?null:ue.layerClipId,ee)});r.getComponentMethod("errorbars","plot")(ee,q,ue,V)}function y(ee,ue,oe,le,V,J,te,Z,se,Q,q,re,ae){var fe=ue.xaxis,be=ue.yaxis,Me=ee._fullLayout,Ie;function Le(bt,xt,Mt){var Nt=S.ensureSingle(bt,"text").text(xt).attr({class:"bartext bartext-"+Ie,"text-anchor":"middle","data-notex":1}).call(t.font,Mt).call(E.convertToTspans,ee);return Nt}var je=le[0].trace,et=je.orientation==="h",rt=I(Me,le,V,fe,be);Ie=N(je,V);var Je=re.mode==="stack"||re.mode==="relative",Ze=le[V],Ee=!Je||Ze._outmost,xe=Ze.hasB,he=Q&&Q-q>m;if(!rt||Ie==="none"||(Ze.isBlank||J===te||Z===se)&&(Ie==="auto"||Ie==="inside")){oe.select("text").remove();return}var De=Me.font,tt=s.getBarColor(le[V],je),nt=s.getInsideTextFont(je,V,De,tt),$e=s.getOutsideTextFont(je,V,De),Et=je.insidetextanchor||"end",Ct=oe.datum();et?fe.type==="log"&&Ct.s0<=0&&(fe.range[0]<fe.range[1]?J=0:J=fe._length):be.type==="log"&&Ct.s0<=0&&(be.range[0]<be.range[1]?Z=be._length:Z=0);var jt=Math.abs(te-J),Wt=Math.abs(se-Z),dr=jt-2*m,vr=Wt-2*m,Dr,hr,Ar,mt,Fe;if(Ie==="outside"&&!Ee&&!Ze.hasB&&(Ie="inside"),Ie==="auto")if(Ee){Ie="inside",Fe=S.ensureUniformFontSize(ee,nt),Dr=Le(oe,rt,Fe),hr=t.bBox(Dr.node()),Ar=hr.width,mt=hr.height;var We=Ar>0&&mt>0,Ae;he?xe?Ae=R(dr-2*Q,vr,Ar,mt,et)||R(dr,vr-2*Q,Ar,mt,et):et?Ae=R(dr-(Q-q),vr,Ar,mt,et)||R(dr,vr-2*(Q-q),Ar,mt,et):Ae=R(dr,vr-(Q-q),Ar,mt,et)||R(dr-2*(Q-q),vr,Ar,mt,et):Ae=R(dr,vr,Ar,mt,et),We&&Ae?Ie="inside":(Ie="outside",Dr.remove(),Dr=null)}else Ie="inside";if(!Dr){Fe=S.ensureUniformFontSize(ee,Ie==="outside"?$e:nt),Dr=Le(oe,rt,Fe);var me=Dr.attr("transform");if(Dr.attr("transform",""),hr=t.bBox(Dr.node()),Ar=hr.width,mt=hr.height,Dr.attr("transform",me),Ar<=0||mt<=0){Dr.remove();return}}var pe=je.textangle,Te,Ue;Ie==="outside"?(Ue=je.constraintext==="both"||je.constraintext==="outside",Te=O(J,te,Z,se,hr,{isHorizontal:et,constrained:Ue,angle:pe})):(Ue=je.constraintext==="both"||je.constraintext==="inside",Te=F(J,te,Z,se,hr,{isHorizontal:et,constrained:Ue,angle:pe,anchor:Et,hasB:xe,r:Q,overhead:q})),Te.fontSize=Fe.size,i(je.type==="histogram"?"bar":je.type,Te,Me),Ze.transform=Te;var Xe=g(Dr,Me,re,ae);S.setTransormAndDisplay(Xe,Te)}function R(ee,ue,oe,le,V){if(ee<0||ue<0)return!1;var J=oe<=ee&&le<=ue,te=oe<=ue&&le<=ee,Z=V?ee>=oe*(ue/le):ue>=le*(ee/oe);return J||te||Z}function L(ee){return ee==="auto"?0:ee}function z(ee,ue){var oe=Math.PI/180*ue,le=Math.abs(Math.sin(oe)),V=Math.abs(Math.cos(oe));return{x:ee.width*V+ee.height*le,y:ee.width*le+ee.height*V}}function F(ee,ue,oe,le,V,J){var te=!!J.isHorizontal,Z=!!J.constrained,se=J.angle||0,Q=J.anchor,q=Q==="end",re=Q==="start",ae=J.leftToRight||0,fe=(ae+1)/2,be=1-fe,Me=J.hasB,Ie=J.r,Le=J.overhead,je=V.width,et=V.height,rt=Math.abs(ue-ee),Je=Math.abs(le-oe),Ze=rt>2*m&&Je>2*m?m:0;rt-=2*Ze,Je-=2*Ze;var Ee=L(se);se==="auto"&&!(je<=rt&&et<=Je)&&(je>rt||et>Je)&&(!(je>Je||et>rt)||je<et!=rt<Je)&&(Ee+=90);var xe=z(V,Ee),he,De;if(Ie&&Ie-Le>m){var tt=B(ee,ue,oe,le,xe,Ie,Le,te,Me);he=tt.scale,De=tt.pad}else he=1,Z&&(he=Math.min(1,rt/xe.x,Je/xe.y)),De=0;var nt=V.left*be+V.right*fe,$e=(V.top+V.bottom)/2,Et=(ee+m)*be+(ue-m)*fe,Ct=(oe+le)/2,jt=0,Wt=0;if(re||q){var dr=(te?xe.x:xe.y)/2;Ie&&(q||Me)&&(Ze+=De);var vr=te?_(ee,ue):_(oe,le);te?re?(Et=ee+vr*Ze,jt=-vr*dr):(Et=ue-vr*Ze,jt=vr*dr):re?(Ct=oe+vr*Ze,Wt=-vr*dr):(Ct=le-vr*Ze,Wt=vr*dr)}return{textX:nt,textY:$e,targetX:Et,targetY:Ct,anchorX:jt,anchorY:Wt,scale:he,rotate:Ee}}function B(ee,ue,oe,le,V,J,te,Z,se){var Q=Math.max(0,Math.abs(ue-ee)-2*m),q=Math.max(0,Math.abs(le-oe)-2*m),re=J-m,ae=te?re-Math.sqrt(re*re-(re-te)*(re-te)):re,fe=se?re*2:Z?re-te:2*ae,be=se?re*2:Z?2*ae:re-te,Me,Ie,Le,je,et;return V.y/V.x>=q/(Q-fe)?je=q/V.y:V.y/V.x<=(q-be)/Q?je=Q/V.x:!se&&Z?(Me=V.x*V.x+V.y*V.y/4,Ie=-2*V.x*(Q-re)-V.y*(q/2-re),Le=(Q-re)*(Q-re)+(q/2-re)*(q/2-re)-re*re,je=(-Ie+Math.sqrt(Ie*Ie-4*Me*Le))/(2*Me)):se?(Me=(V.x*V.x+V.y*V.y)/4,Ie=-V.x*(Q/2-re)-V.y*(q/2-re),Le=(Q/2-re)*(Q/2-re)+(q/2-re)*(q/2-re)-re*re,je=(-Ie+Math.sqrt(Ie*Ie-4*Me*Le))/(2*Me)):(Me=V.x*V.x/4+V.y*V.y,Ie=-V.x*(Q/2-re)-2*V.y*(q-re),Le=(Q/2-re)*(Q/2-re)+(q-re)*(q-re)-re*re,je=(-Ie+Math.sqrt(Ie*Ie-4*Me*Le))/(2*Me)),je=Math.min(1,je),Z?et=Math.max(0,re-Math.sqrt(Math.max(0,re*re-(re-(q-V.y*je)/2)*(re-(q-V.y*je)/2)))-te):et=Math.max(0,re-Math.sqrt(Math.max(0,re*re-(re-(Q-V.x*je)/2)*(re-(Q-V.x*je)/2)))-te),{scale:je,pad:et}}function O(ee,ue,oe,le,V,J){var te=!!J.isHorizontal,Z=!!J.constrained,se=J.angle||0,Q=V.width,q=V.height,re=Math.abs(ue-ee),ae=Math.abs(le-oe),fe;te?fe=ae>2*m?m:0:fe=re>2*m?m:0;var be=1;Z&&(be=te?Math.min(1,ae/q):Math.min(1,re/Q));var Me=L(se),Ie=z(V,Me),Le=(te?Ie.x:Ie.y)/2,je=(V.left+V.right)/2,et=(V.top+V.bottom)/2,rt=(ee+ue)/2,Je=(oe+le)/2,Ze=0,Ee=0,xe=te?_(ue,ee):_(oe,le);return te?(rt=ue-xe*fe,Ze=xe*Le):(Je=le+xe*fe,Ee=-xe*Le),{textX:je,textY:et,targetX:rt,targetY:Je,anchorX:Ze,anchorY:Ee,scale:be,rotate:Me}}function I(ee,ue,oe,le,V){var J=ue[0].trace,te=J.texttemplate,Z;return te?Z=U(ee,ue,oe,le,V):J.textinfo?Z=X(ue,oe,le,V):Z=f.getValue(J.text,oe),f.coerceString(d,Z)}function N(ee,ue){var oe=f.getValue(ee.textposition,ue);return f.coerceEnumerated(T,oe)}function U(ee,ue,oe,le,V){var J=ue[0].trace,te=S.castOption(J,oe,"texttemplate");if(!te)return"";var Z=J.type==="histogram",se=J.type==="waterfall",Q=J.type==="funnel",q=J.orientation==="h",re,ae,fe,be;q?(re="y",ae=V,fe="x",be=le):(re="x",ae=le,fe="y",be=V);function Me(Ze){return o(ae,ae.c2l(Ze),!0).text}function Ie(Ze){return o(be,be.c2l(Ze),!0).text}var Le=ue[oe],je={};je.label=Le.p,je.labelLabel=je[re+"Label"]=Me(Le.p);var et=S.castOption(J,Le.i,"text");(et===0||et)&&(je.text=et),je.value=Le.s,je.valueLabel=je[fe+"Label"]=Ie(Le.s);var rt={};l(rt,J,Le.i),(Z||rt.x===void 0)&&(rt.x=q?je.value:je.label),(Z||rt.y===void 0)&&(rt.y=q?je.label:je.value),(Z||rt.xLabel===void 0)&&(rt.xLabel=q?je.valueLabel:je.labelLabel),(Z||rt.yLabel===void 0)&&(rt.yLabel=q?je.labelLabel:je.valueLabel),se&&(je.delta=+Le.rawS||Le.s,je.deltaLabel=Ie(je.delta),je.final=Le.v,je.finalLabel=Ie(je.final),je.initial=je.final-je.delta,je.initialLabel=Ie(je.initial)),Q&&(je.value=Le.s,je.valueLabel=Ie(je.value),je.percentInitial=Le.begR,je.percentInitialLabel=S.formatPercent(Le.begR),je.percentPrevious=Le.difR,je.percentPreviousLabel=S.formatPercent(Le.difR),je.percentTotal=Le.sumR,je.percenTotalLabel=S.formatPercent(Le.sumR));var Je=S.castOption(J,Le.i,"customdata");return Je&&(je.customdata=Je),S.texttemplateString({data:[rt,je,J._meta],fallback:J.texttemplatefallback,labels:je,locale:ee._d3locale,template:te})}function X(ee,ue,oe,le){var V=ee[0].trace,J=V.orientation==="h",te=V.type==="waterfall",Z=V.type==="funnel";function se(Je){var Ze=J?le:oe;return o(Ze,Je,!0).text}function Q(Je){var Ze=J?oe:le;return o(Ze,+Je,!0).text}var q=V.textinfo,re=ee[ue],ae=q.split("+"),fe=[],be,Me=function(Je){return ae.indexOf(Je)!==-1};if(Me("label")&&fe.push(se(ee[ue].p)),Me("text")&&(be=S.castOption(V,re.i,"text"),(be===0||be)&&fe.push(be)),te){var Ie=+re.rawS||re.s,Le=re.v,je=Le-Ie;Me("initial")&&fe.push(Q(je)),Me("delta")&&fe.push(Q(Ie)),Me("final")&&fe.push(Q(Le))}if(Z){Me("value")&&fe.push(Q(re.s));var et=0;Me("percent initial")&&et++,Me("percent previous")&&et++,Me("percent total")&&et++;var rt=et>1;Me("percent initial")&&(be=S.formatPercent(re.begR),rt&&(be+=" of initial"),fe.push(be)),Me("percent previous")&&(be=S.formatPercent(re.difR),rt&&(be+=" of previous"),fe.push(be)),Me("percent total")&&(be=S.formatPercent(re.sumR),rt&&(be+=" of total"),fe.push(be))}return fe.join("<br>")}G.exports={plot:v,toMoveInsideBar:F}}}),J0=He({"src/traces/bar/hover.js"(Y,G){var h=kc(),b=ji(),S=Di(),E=ea().fillText,e=C1().getLineWidth,t=Ao().hoverLabelText,r=Qo().BADNUM;function o(n,s,f,c,p){var d=a(n,s,f,c,p);if(d){var T=d.cd,l=T[0].trace,m=T[d.index];return d.color=i(l,m),b.getComponentMethod("errorbars","hoverInfo")(m,l,d),[d]}}function a(n,s,f,c,p){var d=n.cd,T=d[0].trace,l=d[0].t,m=c==="closest",x=T.type==="waterfall",A=n.maxHoverDistance,M=n.maxSpikeDistance,_,w,g,u,v,y,R;T.orientation==="h"?(_=f,w=s,g="y",u="x",v=le,y=ee):(_=s,w=f,g="x",u="y",y=le,v=ee);var L=T[g+"period"],z=m||L;function F(be){return O(be,-1)}function B(be){return O(be,1)}function O(be,Me){var Ie=be.w;return be[g]+Me*Ie/2}function I(be){return be[g+"End"]-be[g+"Start"]}var N=m?F:L?function(be){return be.p-I(be)/2}:function(be){return Math.min(F(be),be.p-l.bardelta/2)},U=m?B:L?function(be){return be.p+I(be)/2}:function(be){return Math.max(B(be),be.p+l.bardelta/2)};function X(be,Me,Ie){return p.finiteRange&&(Ie=0),h.inbox(be-_,Me-_,Ie+Math.min(1,Math.abs(Me-be)/R)-1)}function ee(be){return X(N(be),U(be),A)}function ue(be){return X(F(be),B(be),M)}function oe(be){var Me=be[u];if(x){var Ie=Math.abs(be.rawS)||0;w>0?Me+=Ie:w<0&&(Me-=Ie)}return Me}function le(be){var Me=w,Ie=be.b,Le=oe(be);return h.inbox(Ie-Me,Le-Me,A+(Le-Me)/(Le-Ie)-1)}function V(be){var Me=w,Ie=be.b,Le=oe(be);return h.inbox(Ie-Me,Le-Me,M+(Le-Me)/(Le-Ie)-1)}var J=n[g+"a"],te=n[u+"a"];R=Math.abs(J.r2c(J.range[1])-J.r2c(J.range[0]));function Z(be){return(v(be)+y(be))/2}var se=h.getDistanceFunction(c,v,y,Z);if(h.getClosest(d,se,n),n.index!==!1&&d[n.index].p!==r){z||(N=function(be){return Math.min(F(be),be.p-l.bargroupwidth/2)},U=function(be){return Math.max(B(be),be.p+l.bargroupwidth/2)});var Q=n.index,q=d[Q],re=T.base?q.b+q.s:q.s;n[u+"0"]=n[u+"1"]=te.c2p(q[u],!0),n[u+"LabelVal"]=re;var ae=l.extents[l.extents.round(q.p)];n[g+"0"]=J.c2p(m?N(q):ae[0],!0),n[g+"1"]=J.c2p(m?U(q):ae[1],!0);var fe=q.orig_p!==void 0;return n[g+"LabelVal"]=fe?q.orig_p:q.p,n.labelLabel=t(J,n[g+"LabelVal"],T[g+"hoverformat"]),n.valueLabel=t(te,n[u+"LabelVal"],T[u+"hoverformat"]),n.baseLabel=t(te,q.b,T[u+"hoverformat"]),n.spikeDistance=(V(q)+ue(q))/2,n[g+"Spike"]=J.c2p(q.p,!0),E(q,T,n),n.hovertemplate=T.hovertemplate,n}}function i(n,s){var f=s.mcc||n.marker.color,c=s.mlcc||n.marker.line.color,p=e(n,s);if(S.opacity(f))return f;if(S.opacity(c)&&p)return c}G.exports={hoverPoints:o,hoverOnBars:a,getTraceColor:i}}}),ZM=He({"src/traces/bar/event_data.js"(Y,G){G.exports=function(b,S,E){return b.x="xVal"in S?S.xVal:S.x,b.y="yVal"in S?S.yVal:S.y,S.xa&&(b.xaxis=S.xa),S.ya&&(b.yaxis=S.ya),E.orientation==="h"?(b.label=b.y,b.value=b.x):(b.label=b.x,b.value=b.y),b}}}),Q0=He({"src/traces/bar/select.js"(Y,G){G.exports=function(S,E){var e=S.cd,t=S.xaxis,r=S.yaxis,o=e[0].trace,a=o.type==="funnel",i=o.orientation==="h",n=[],s;if(E===!1)for(s=0;s<e.length;s++)e[s].selected=0;else for(s=0;s<e.length;s++){var f=e[s],c="ct"in f?f.ct:h(f,t,r,i,a);E.contains(c,!1,s,S)?(n.push({pointNumber:s,x:t.c2d(f.x),y:r.c2d(f.y)}),f.selected=1):f.selected=0}return n};function h(b,S,E,e,t){var r=S.c2p(e?b.s0:b.p0,!0),o=S.c2p(e?b.s1:b.p1,!0),a=E.c2p(e?b.p0:b.s0,!0),i=E.c2p(e?b.p1:b.s1,!0);return t?[(r+o)/2,(a+i)/2]:e?[o,(a+i)/2]:[(r+o)/2,i]}}}),YM=He({"src/traces/bar/index.js"(Y,G){G.exports={attributes:Yv(),layoutAttributes:E1(),supplyDefaults:nv().supplyDefaults,crossTraceDefaults:nv().crossTraceDefaults,supplyLayoutDefaults:cw(),calc:XM(),crossTraceCalc:Bp().crossTraceCalc,colorbar:xh(),arraysToCalcdata:vm(),plot:Up().plot,style:pv().style,styleOnSelect:pv().styleOnSelect,hoverPoints:J0().hoverPoints,eventData:ZM(),selectPoints:Q0(),moduleType:"trace",name:"bar",basePlotModule:mf(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}}),KM=He({"lib/bar.js"(Y,G){G.exports=YM()}}),dm=He({"src/traces/box/attributes.js"(Y,G){var h=Mv(),b=Cc(),S=Yv(),E=Mf(),e=Ec().axisHoverFormat,{hovertemplateAttrs:t,templatefallbackAttrs:r}=Ll(),o=Po().extendFlat,a=b.marker,i=a.line;G.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:b.xperiod,yperiod:b.yperiod,xperiod0:b.xperiod0,yperiod0:b.yperiod0,xperiodalignment:b.xperiodalignment,yperiodalignment:b.yperiodalignment,xhoverformat:e("x"),yhoverformat:e("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:o({},a.symbol,{arrayOk:!1,editType:"plot"}),opacity:o({},a.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:o({},a.angle,{arrayOk:!1,editType:"calc"}),size:o({},a.size,{arrayOk:!1,editType:"calc"}),color:o({},a.color,{arrayOk:!1,editType:"style"}),line:{color:o({},i.color,{arrayOk:!1,dflt:E.defaultLine,editType:"style"}),width:o({},i.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:h(),whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:S.offsetgroup,alignmentgroup:S.alignmentgroup,selected:{marker:b.selected.marker,editType:"style"},unselected:{marker:b.unselected.marker,editType:"style"},text:o({},b.text,{}),hovertext:o({},b.hovertext,{}),hovertemplate:t({}),hovertemplatefallback:r(),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"},zorder:b.zorder}}}),pm=He({"src/traces/box/layout_attributes.js"(Y,G){G.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}}}),gm=He({"src/traces/box/defaults.js"(Y,G){var h=ea(),b=ji(),S=Di(),E=Ev(),e=Op(),t=G0(),r=dm();function o(s,f,c,p){function d(u,v){return h.coerce(s,f,r,u,v)}if(a(s,f,d,p),f.visible!==!1){E(s,f,p,d),d("xhoverformat"),d("yhoverformat");var T=f._hasPreCompStats;T&&(d("lowerfence"),d("upperfence")),d("line.color",(s.marker||{}).color||c),d("line.width"),d("fillcolor",S.addOpacity(f.line.color,.5));var l=!1;if(T){var m=d("mean"),x=d("sd");m&&m.length&&(l=!0,x&&x.length&&(l="sd"))}d("whiskerwidth");var A=d("sizemode"),M;A==="quartiles"&&(M=d("boxmean",l)),d("showwhiskers",A==="quartiles"),(A==="sd"||M==="sd")&&d("sdmultiple"),d("width"),d("quartilemethod");var _=!1;if(T){var w=d("notchspan");w&&w.length&&(_=!0)}else h.validate(s.notchwidth,r.notchwidth)&&(_=!0);var g=d("notched",_);g&&d("notchwidth"),i(s,f,d,{prefix:"box"}),d("zorder")}}function a(s,f,c,p){function d(X){var ee=0;return X&&X.length&&(ee+=1,h.isArrayOrTypedArray(X[0])&&X[0].length&&(ee+=1)),ee}function T(X){return h.validate(s[X],r[X])}var l=c("y"),m=c("x"),x;if(f.type==="box"){var A=c("q1"),M=c("median"),_=c("q3");f._hasPreCompStats=A&&A.length&&M&&M.length&&_&&_.length,x=Math.min(h.minRowLength(A),h.minRowLength(M),h.minRowLength(_))}var w=d(l),g=d(m),u=w&&h.minRowLength(l),v=g&&h.minRowLength(m),y=p.calendar,R={autotypenumbers:p.autotypenumbers},L,z;if(f._hasPreCompStats)switch(String(g)+String(w)){case"00":var F=T("x0")||T("dx"),B=T("y0")||T("dy");B&&!F?L="h":L="v",z=x;break;case"10":L="v",z=Math.min(x,v);break;case"20":L="h",z=Math.min(x,m.length);break;case"01":L="h",z=Math.min(x,u);break;case"02":L="v",z=Math.min(x,l.length);break;case"12":L="v",z=Math.min(x,v,l.length);break;case"21":L="h",z=Math.min(x,m.length,u);break;case"11":z=0;break;case"22":var O=!1,I;for(I=0;I<m.length;I++)if(t(m[I],y,R)==="category"){O=!0;break}if(O)L="v",z=Math.min(x,v,l.length);else{for(I=0;I<l.length;I++)if(t(l[I],y,R)==="category"){O=!0;break}O?(L="h",z=Math.min(x,m.length,u)):(L="v",z=Math.min(x,v,l.length))}break}else w>0?(L="v",g>0?z=Math.min(v,u):z=Math.min(u)):g>0?(L="h",z=Math.min(v)):z=0;if(!z){f.visible=!1;return}f._length=z;var N=c("orientation",L);f._hasPreCompStats?N==="v"&&g===0?(c("x0",0),c("dx",1)):N==="h"&&w===0&&(c("y0",0),c("dy",1)):N==="v"&&g===0?c("x0"):N==="h"&&w===0&&c("y0");var U=b.getComponentMethod("calendars","handleTraceDefaults");U(s,f,["x","y"],p)}function i(s,f,c,p){var d=p.prefix,T=h.coerce2(s,f,r,"marker.outliercolor"),l=c("marker.line.outliercolor"),m="outliers";f._hasPreCompStats?m="all":(T||l)&&(m="suspectedoutliers");var x=c(d+"points",m);x?(c("jitter",x==="all"?.3:0),c("pointpos",x==="all"?-1.5:0),c("marker.symbol"),c("marker.opacity"),c("marker.size"),c("marker.angle"),c("marker.color",f.line.color),c("marker.line.color"),c("marker.line.width"),x==="suspectedoutliers"&&(c("marker.line.outliercolor",f.marker.color),c("marker.line.outlierwidth")),c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size"),c("text"),c("hovertext")):delete f.marker;var A=c("hoveron");(A==="all"||A.indexOf("points")!==-1)&&(c("hovertemplate"),c("hovertemplatefallback")),h.coerceSelectionMarkerOpacity(f,c)}function n(s,f){var c,p;function d(x){return h.coerce(p._input,p,r,x)}for(var T=0;T<s.length;T++){p=s[T];var l=p.type;if(l==="box"||l==="violin"){c=p._input;var m=f[l+"mode"];m==="group"&&e(c,p,f,d,m)}}}G.exports={supplyDefaults:o,crossTraceDefaults:n,handleSampleDefaults:a,handlePointsDefaults:i}}}),L1=He({"src/traces/box/layout_defaults.js"(Y,G){var h=ji(),b=ea(),S=pm();function E(t,r,o,a,i){for(var n=i+"Layout",s=!1,f=0;f<o.length;f++){var c=o[f];if(h.traceIs(c,n)){s=!0;break}}s&&(a(i+"mode"),a(i+"gap"),a(i+"groupgap"))}function e(t,r,o){function a(i,n){return b.coerce(t,r,S,i,n)}E(t,r,o,a,"box")}G.exports={supplyLayoutDefaults:e,_supply:E}}}),fw=He({"src/traces/box/calc.js"(Y,G){var h=Ui(),b=Ao(),S=Cv(),E=ea(),e=Qo().BADNUM,t=E._;G.exports=function(A,M){var _=A._fullLayout,w=b.getFromId(A,M.xaxis||"x"),g=b.getFromId(A,M.yaxis||"y"),u=[],v=M.type==="violin"?"_numViolins":"_numBoxes",y,R,L,z,F,B,O;M.orientation==="h"?(L=w,z="x",F=g,B="y",O=!!M.yperiodalignment):(L=g,z="y",F=w,B="x",O=!!M.xperiodalignment);var I=r(M,B,F,_[v]),N=I[0],U=I[1],X=E.distinctVals(N,F),ee=X.vals,ue=X.minDiff/2,oe,le,V,J,te,Z,se=(M.boxpoints||M.points)==="all"?E.identity:function(vr){return vr.v<oe.lf||vr.v>oe.uf};if(M._hasPreCompStats){var Q=M[z],q=function(vr){return L.d2c((M[vr]||[])[y])},re=1/0,ae=-1/0;for(y=0;y<M._length;y++){var fe=N[y];if(h(fe)){if(oe={},oe.pos=oe[B]=fe,O&&U&&(oe.orig_p=U[y]),oe.q1=q("q1"),oe.med=q("median"),oe.q3=q("q3"),le=[],Q&&E.isArrayOrTypedArray(Q[y]))for(R=0;R<Q[y].length;R++)Z=L.d2c(Q[y][R]),Z!==e&&(te={v:Z,i:[y,R]},n(te,M,[y,R]),le.push(te));if(oe.pts=le.sort(f),V=oe[z]=le.map(c),J=V.length,oe.med!==e&&oe.q1!==e&&oe.q3!==e&&oe.med>=oe.q1&&oe.q3>=oe.med){var be=q("lowerfence");oe.lf=be!==e&&be<=oe.q1?be:p(oe,V,J);var Me=q("upperfence");oe.uf=Me!==e&&Me>=oe.q3?Me:d(oe,V,J);var Ie=q("mean");oe.mean=Ie!==e?Ie:J?E.mean(V,J):(oe.q1+oe.q3)/2;var Le=q("sd");oe.sd=Ie!==e&&Le>=0?Le:J?E.stdev(V,J,oe.mean):oe.q3-oe.q1,oe.lo=T(oe),oe.uo=l(oe);var je=q("notchspan");je=je!==e&&je>0?je:m(oe,J),oe.ln=oe.med-je,oe.un=oe.med+je;var et=oe.lf,rt=oe.uf;M.boxpoints&&V.length&&(et=Math.min(et,V[0]),rt=Math.max(rt,V[J-1])),M.notched&&(et=Math.min(et,oe.ln),rt=Math.max(rt,oe.un)),oe.min=et,oe.max=rt}else{E.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+oe.q1,"median = "+oe.med,"q3 = "+oe.q3].join(`
LINE LIMIT EXCEEDED